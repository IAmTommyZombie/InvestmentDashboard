var tI=Object.defineProperty;var nI=(t,e,n)=>e in t?tI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var B=(t,e,n)=>nI(t,typeof e!="symbol"?e+"":e,n);function rI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function HE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qE={exports:{}},Gc={},GE={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var il=Symbol.for("react.element"),sI=Symbol.for("react.portal"),iI=Symbol.for("react.fragment"),oI=Symbol.for("react.strict_mode"),aI=Symbol.for("react.profiler"),lI=Symbol.for("react.provider"),uI=Symbol.for("react.context"),cI=Symbol.for("react.forward_ref"),dI=Symbol.for("react.suspense"),hI=Symbol.for("react.memo"),fI=Symbol.for("react.lazy"),W0=Symbol.iterator;function pI(t){return t===null||typeof t!="object"?null:(t=W0&&t[W0]||t["@@iterator"],typeof t=="function"?t:null)}var YE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WE=Object.assign,KE={};function uo(t,e,n){this.props=t,this.context=e,this.refs=KE,this.updater=n||YE}uo.prototype.isReactComponent={};uo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};uo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function QE(){}QE.prototype=uo.prototype;function sm(t,e,n){this.props=t,this.context=e,this.refs=KE,this.updater=n||YE}var im=sm.prototype=new QE;im.constructor=sm;WE(im,uo.prototype);im.isPureReactComponent=!0;var K0=Array.isArray,XE=Object.prototype.hasOwnProperty,om={current:null},JE={key:!0,ref:!0,__self:!0,__source:!0};function ZE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)XE.call(e,r)&&!JE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:il,type:t,key:i,ref:o,props:s,_owner:om.current}}function mI(t,e){return{$$typeof:il,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function am(t){return typeof t=="object"&&t!==null&&t.$$typeof===il}function gI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Q0=/\/+/g;function Th(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gI(""+t.key):e.toString(36)}function Eu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case il:case sI:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Th(o,0):r,K0(s)?(n="",t!=null&&(n=t.replace(Q0,"$&/")+"/"),Eu(s,e,n,"",function(c){return c})):s!=null&&(am(s)&&(s=mI(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Q0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",K0(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+Th(i,a);o+=Eu(i,e,n,u,s)}else if(u=pI(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+Th(i,a++),o+=Eu(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Bl(t,e,n){if(t==null)return t;var r=[],s=0;return Eu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function yI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jt={current:null},xu={transition:null},vI={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:xu,ReactCurrentOwner:om};function ex(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Bl,forEach:function(t,e,n){Bl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Bl(t,function(){e++}),e},toArray:function(t){return Bl(t,function(e){return e})||[]},only:function(t){if(!am(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=uo;le.Fragment=iI;le.Profiler=aI;le.PureComponent=sm;le.StrictMode=oI;le.Suspense=dI;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vI;le.act=ex;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=WE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=om.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)XE.call(e,u)&&!JE.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:il,type:t.type,key:s,ref:i,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:uI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lI,_context:t},t.Consumer=t};le.createElement=ZE;le.createFactory=function(t){var e=ZE.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:cI,render:t}};le.isValidElement=am;le.lazy=function(t){return{$$typeof:fI,_payload:{_status:-1,_result:t},_init:yI}};le.memo=function(t,e){return{$$typeof:hI,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=xu.transition;xu.transition={};try{t()}finally{xu.transition=e}};le.unstable_act=ex;le.useCallback=function(t,e){return jt.current.useCallback(t,e)};le.useContext=function(t){return jt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return jt.current.useDeferredValue(t)};le.useEffect=function(t,e){return jt.current.useEffect(t,e)};le.useId=function(){return jt.current.useId()};le.useImperativeHandle=function(t,e,n){return jt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return jt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return jt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return jt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return jt.current.useReducer(t,e,n)};le.useRef=function(t){return jt.current.useRef(t)};le.useState=function(t){return jt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return jt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return jt.current.useTransition()};le.version="18.3.1";GE.exports=le;var z=GE.exports;const lm=HE(z),X0=rI({__proto__:null,default:lm},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wI=z,_I=Symbol.for("react.element"),EI=Symbol.for("react.fragment"),xI=Object.prototype.hasOwnProperty,SI=wI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TI={key:!0,ref:!0,__self:!0,__source:!0};function tx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)xI.call(e,r)&&!TI.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:_I,type:t,key:i,ref:o,props:s,_owner:SI.current}}Gc.Fragment=EI;Gc.jsx=tx;Gc.jsxs=tx;qE.exports=Gc;var v=qE.exports,Sf={},nx={exports:{}},un={},rx={exports:{}},sx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,Z){var te=U.length;U.push(Z);e:for(;0<te;){var Pe=te-1>>>1,q=U[Pe];if(0<s(q,Z))U[Pe]=Z,U[te]=q,te=Pe;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Z=U[0],te=U.pop();if(te!==Z){U[0]=te;e:for(var Pe=0,q=U.length,Q=q>>>1;Pe<Q;){var oe=2*(Pe+1)-1,ke=U[oe],Ze=oe+1,ct=U[Ze];if(0>s(ke,te))Ze<q&&0>s(ct,ke)?(U[Pe]=ct,U[Ze]=te,Pe=Ze):(U[Pe]=ke,U[oe]=te,Pe=oe);else if(Ze<q&&0>s(ct,te))U[Pe]=ct,U[Ze]=te,Pe=Ze;else break e}}return Z}function s(U,Z){var te=U.sortIndex-Z.sortIndex;return te!==0?te:U.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,f=null,m=3,y=!1,b=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(U){for(var Z=n(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=U)r(c),Z.sortIndex=Z.expirationTime,e(u,Z);else break;Z=n(c)}}function N(U){if(I=!1,R(U),!b)if(n(u)!==null)b=!0,ve(D);else{var Z=n(c);Z!==null&&xe(N,Z.startTime-U)}}function D(U,Z){b=!1,I&&(I=!1,_(E),E=-1),y=!0;var te=m;try{for(R(Z),f=n(u);f!==null&&(!(f.expirationTime>Z)||U&&!T());){var Pe=f.callback;if(typeof Pe=="function"){f.callback=null,m=f.priorityLevel;var q=Pe(f.expirationTime<=Z);Z=t.unstable_now(),typeof q=="function"?f.callback=q:f===n(u)&&r(u),R(Z)}else r(u);f=n(u)}if(f!==null)var Q=!0;else{var oe=n(c);oe!==null&&xe(N,oe.startTime-Z),Q=!1}return Q}finally{f=null,m=te,y=!1}}var O=!1,w=null,E=-1,C=5,p=-1;function T(){return!(t.unstable_now()-p<C)}function k(){if(w!==null){var U=t.unstable_now();p=U;var Z=!0;try{Z=w(!0,U)}finally{Z?A():(O=!1,w=null)}}else O=!1}var A;if(typeof x=="function")A=function(){x(k)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ee=Y.port2;Y.port1.onmessage=k,A=function(){ee.postMessage(null)}}else A=function(){P(k,0)};function ve(U){w=U,O||(O=!0,A())}function xe(U,Z){E=P(function(){U(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,ve(D))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(U){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var te=m;m=Z;try{return U()}finally{m=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var te=m;m=U;try{return Z()}finally{m=te}},t.unstable_scheduleCallback=function(U,Z,te){var Pe=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Pe+te:Pe):te=Pe,U){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=te+q,U={id:h++,callback:Z,priorityLevel:U,startTime:te,expirationTime:q,sortIndex:-1},te>Pe?(U.sortIndex=te,e(c,U),n(u)===null&&U===n(c)&&(I?(_(E),E=-1):I=!0,xe(N,te-Pe))):(U.sortIndex=q,e(u,U),b||y||(b=!0,ve(D))),U},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(U){var Z=m;return function(){var te=m;m=Z;try{return U.apply(this,arguments)}finally{m=te}}}})(sx);rx.exports=sx;var bI=rx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AI=z,on=bI;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ix=new Set,Aa={};function Hs(t,e){qi(t,e),qi(t+"Capture",e)}function qi(t,e){for(Aa[t]=e,t=0;t<e.length;t++)ix.add(e[t])}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tf=Object.prototype.hasOwnProperty,II=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J0={},Z0={};function CI(t){return Tf.call(Z0,t)?!0:Tf.call(J0,t)?!1:II.test(t)?Z0[t]=!0:(J0[t]=!0,!1)}function RI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PI(t,e,n,r){if(e===null||typeof e>"u"||RI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xt[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xt[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xt[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xt[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xt[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xt[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xt[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xt[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xt[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var um=/[\-:]([a-z])/g;function cm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(um,cm);xt[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(um,cm);xt[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(um,cm);xt[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});xt.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function dm(t,e,n,r){var s=xt.hasOwnProperty(e)?xt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PI(e,n,s,r)&&(n=null),r||s===null?CI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wr=AI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zl=Symbol.for("react.element"),wi=Symbol.for("react.portal"),_i=Symbol.for("react.fragment"),hm=Symbol.for("react.strict_mode"),bf=Symbol.for("react.profiler"),ox=Symbol.for("react.provider"),ax=Symbol.for("react.context"),fm=Symbol.for("react.forward_ref"),Af=Symbol.for("react.suspense"),If=Symbol.for("react.suspense_list"),pm=Symbol.for("react.memo"),Ir=Symbol.for("react.lazy"),lx=Symbol.for("react.offscreen"),ev=Symbol.iterator;function Lo(t){return t===null||typeof t!="object"?null:(t=ev&&t[ev]||t["@@iterator"],typeof t=="function"?t:null)}var ze=Object.assign,bh;function Qo(t){if(bh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bh=e&&e[1]||""}return`
`+bh+t}var Ah=!1;function Ih(t,e){if(!t||Ah)return"";Ah=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Ah=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qo(t):""}function kI(t){switch(t.tag){case 5:return Qo(t.type);case 16:return Qo("Lazy");case 13:return Qo("Suspense");case 19:return Qo("SuspenseList");case 0:case 2:case 15:return t=Ih(t.type,!1),t;case 11:return t=Ih(t.type.render,!1),t;case 1:return t=Ih(t.type,!0),t;default:return""}}function Cf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _i:return"Fragment";case wi:return"Portal";case bf:return"Profiler";case hm:return"StrictMode";case Af:return"Suspense";case If:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ax:return(t.displayName||"Context")+".Consumer";case ox:return(t._context.displayName||"Context")+".Provider";case fm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pm:return e=t.displayName||null,e!==null?e:Cf(t.type)||"Memo";case Ir:e=t._payload,t=t._init;try{return Cf(t(e))}catch{}}return null}function NI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cf(e);case 8:return e===hm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ux(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DI(t){var e=ux(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hl(t){t._valueTracker||(t._valueTracker=DI(t))}function cx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ux(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rf(t,e){var n=e.checked;return ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function tv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dx(t,e){e=e.checked,e!=null&&dm(t,"checked",e,!1)}function Pf(t,e){dx(t,e);var n=Qr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kf(t,e.type,n):e.hasOwnProperty("defaultValue")&&kf(t,e.type,Qr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kf(t,e,n){(e!=="number"||Gu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xo=Array.isArray;function Ni(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Nf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Xo(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qr(n)}}function hx(t,e){var n=Qr(e.value),r=Qr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function sv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Df(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ql,px=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ql=ql||document.createElement("div"),ql.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ql.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ia(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var aa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OI=["Webkit","ms","Moz","O"];Object.keys(aa).forEach(function(t){OI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),aa[e]=aa[t]})});function mx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||aa.hasOwnProperty(t)&&aa[t]?(""+e).trim():e+"px"}function gx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=mx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var MI=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Of(t,e){if(e){if(MI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Mf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vf=null;function mm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lf=null,Di=null,Oi=null;function iv(t){if(t=ll(t)){if(typeof Lf!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Xc(e),Lf(t.stateNode,t.type,e))}}function yx(t){Di?Oi?Oi.push(t):Oi=[t]:Di=t}function vx(){if(Di){var t=Di,e=Oi;if(Oi=Di=null,iv(t),e)for(t=0;t<e.length;t++)iv(e[t])}}function wx(t,e){return t(e)}function _x(){}var Ch=!1;function Ex(t,e,n){if(Ch)return t(e,n);Ch=!0;try{return wx(t,e,n)}finally{Ch=!1,(Di!==null||Oi!==null)&&(_x(),vx())}}function Ca(t,e){var n=t.stateNode;if(n===null)return null;var r=Xc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Ff=!1;if(cr)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){Ff=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{Ff=!1}function VI(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var la=!1,Yu=null,Wu=!1,$f=null,LI={onError:function(t){la=!0,Yu=t}};function FI(t,e,n,r,s,i,o,a,u){la=!1,Yu=null,VI.apply(LI,arguments)}function $I(t,e,n,r,s,i,o,a,u){if(FI.apply(this,arguments),la){if(la){var c=Yu;la=!1,Yu=null}else throw Error(H(198));Wu||(Wu=!0,$f=c)}}function qs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ov(t){if(qs(t)!==t)throw Error(H(188))}function jI(t){var e=t.alternate;if(!e){if(e=qs(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ov(s),t;if(i===r)return ov(s),e;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function Sx(t){return t=jI(t),t!==null?Tx(t):null}function Tx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Tx(t);if(e!==null)return e;t=t.sibling}return null}var bx=on.unstable_scheduleCallback,av=on.unstable_cancelCallback,UI=on.unstable_shouldYield,BI=on.unstable_requestPaint,Xe=on.unstable_now,zI=on.unstable_getCurrentPriorityLevel,gm=on.unstable_ImmediatePriority,Ax=on.unstable_UserBlockingPriority,Ku=on.unstable_NormalPriority,HI=on.unstable_LowPriority,Ix=on.unstable_IdlePriority,Yc=null,Gn=null;function qI(t){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(Yc,t,void 0,(t.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:WI,GI=Math.log,YI=Math.LN2;function WI(t){return t>>>=0,t===0?32:31-(GI(t)/YI|0)|0}var Gl=64,Yl=4194304;function Jo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Jo(a):(i&=o,i!==0&&(r=Jo(i)))}else o=n&~s,o!==0?r=Jo(o):i!==0&&(r=Jo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-On(e),s=1<<n,r|=t[n],e&=~s;return r}function KI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-On(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=KI(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function jf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Cx(){var t=Gl;return Gl<<=1,!(Gl&4194240)&&(Gl=64),t}function Rh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ol(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-On(e),t[e]=n}function XI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-On(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ym(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-On(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Te=0;function Rx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Px,vm,kx,Nx,Dx,Uf=!1,Wl=[],Or=null,Mr=null,Vr=null,Ra=new Map,Pa=new Map,Rr=[],JI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lv(t,e){switch(t){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Ra.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pa.delete(e.pointerId)}}function $o(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ll(e),e!==null&&vm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ZI(t,e,n,r,s){switch(e){case"focusin":return Or=$o(Or,t,e,n,r,s),!0;case"dragenter":return Mr=$o(Mr,t,e,n,r,s),!0;case"mouseover":return Vr=$o(Vr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ra.set(i,$o(Ra.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Pa.set(i,$o(Pa.get(i)||null,t,e,n,r,s)),!0}return!1}function Ox(t){var e=Es(t.target);if(e!==null){var n=qs(e);if(n!==null){if(e=n.tag,e===13){if(e=xx(n),e!==null){t.blockedOn=e,Dx(t.priority,function(){kx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Su(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vf=r,n.target.dispatchEvent(r),Vf=null}else return e=ll(n),e!==null&&vm(e),t.blockedOn=n,!1;e.shift()}return!0}function uv(t,e,n){Su(t)&&n.delete(e)}function eC(){Uf=!1,Or!==null&&Su(Or)&&(Or=null),Mr!==null&&Su(Mr)&&(Mr=null),Vr!==null&&Su(Vr)&&(Vr=null),Ra.forEach(uv),Pa.forEach(uv)}function jo(t,e){t.blockedOn===e&&(t.blockedOn=null,Uf||(Uf=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,eC)))}function ka(t){function e(s){return jo(s,t)}if(0<Wl.length){jo(Wl[0],t);for(var n=1;n<Wl.length;n++){var r=Wl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Or!==null&&jo(Or,t),Mr!==null&&jo(Mr,t),Vr!==null&&jo(Vr,t),Ra.forEach(e),Pa.forEach(e),n=0;n<Rr.length;n++)r=Rr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Rr.length&&(n=Rr[0],n.blockedOn===null);)Ox(n),n.blockedOn===null&&Rr.shift()}var Mi=wr.ReactCurrentBatchConfig,Xu=!0;function tC(t,e,n,r){var s=Te,i=Mi.transition;Mi.transition=null;try{Te=1,wm(t,e,n,r)}finally{Te=s,Mi.transition=i}}function nC(t,e,n,r){var s=Te,i=Mi.transition;Mi.transition=null;try{Te=4,wm(t,e,n,r)}finally{Te=s,Mi.transition=i}}function wm(t,e,n,r){if(Xu){var s=Bf(t,e,n,r);if(s===null)$h(t,e,r,Ju,n),lv(t,r);else if(ZI(s,t,e,n,r))r.stopPropagation();else if(lv(t,r),e&4&&-1<JI.indexOf(t)){for(;s!==null;){var i=ll(s);if(i!==null&&Px(i),i=Bf(t,e,n,r),i===null&&$h(t,e,r,Ju,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else $h(t,e,r,null,n)}}var Ju=null;function Bf(t,e,n,r){if(Ju=null,t=mm(r),t=Es(t),t!==null)if(e=qs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ju=t,null}function Mx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zI()){case gm:return 1;case Ax:return 4;case Ku:case HI:return 16;case Ix:return 536870912;default:return 16}default:return 16}}var kr=null,_m=null,Tu=null;function Vx(){if(Tu)return Tu;var t,e=_m,n=e.length,r,s="value"in kr?kr.value:kr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Tu=s.slice(t,1<r?1-r:void 0)}function bu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kl(){return!0}function cv(){return!1}function cn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Kl:cv,this.isPropagationStopped=cv,this}return ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),e}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Em=cn(co),al=ze({},co,{view:0,detail:0}),rC=cn(al),Ph,kh,Uo,Wc=ze({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Uo&&(Uo&&t.type==="mousemove"?(Ph=t.screenX-Uo.screenX,kh=t.screenY-Uo.screenY):kh=Ph=0,Uo=t),Ph)},movementY:function(t){return"movementY"in t?t.movementY:kh}}),dv=cn(Wc),sC=ze({},Wc,{dataTransfer:0}),iC=cn(sC),oC=ze({},al,{relatedTarget:0}),Nh=cn(oC),aC=ze({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),lC=cn(aC),uC=ze({},co,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cC=cn(uC),dC=ze({},co,{data:0}),hv=cn(dC),hC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pC[t])?!!e[t]:!1}function xm(){return mC}var gC=ze({},al,{key:function(t){if(t.key){var e=hC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xm,charCode:function(t){return t.type==="keypress"?bu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yC=cn(gC),vC=ze({},Wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fv=cn(vC),wC=ze({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xm}),_C=cn(wC),EC=ze({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),xC=cn(EC),SC=ze({},Wc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TC=cn(SC),bC=[9,13,27,32],Sm=cr&&"CompositionEvent"in window,ua=null;cr&&"documentMode"in document&&(ua=document.documentMode);var AC=cr&&"TextEvent"in window&&!ua,Lx=cr&&(!Sm||ua&&8<ua&&11>=ua),pv=" ",mv=!1;function Fx(t,e){switch(t){case"keyup":return bC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $x(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ei=!1;function IC(t,e){switch(t){case"compositionend":return $x(e);case"keypress":return e.which!==32?null:(mv=!0,pv);case"textInput":return t=e.data,t===pv&&mv?null:t;default:return null}}function CC(t,e){if(Ei)return t==="compositionend"||!Sm&&Fx(t,e)?(t=Vx(),Tu=_m=kr=null,Ei=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lx&&e.locale!=="ko"?null:e.data;default:return null}}var RC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RC[t.type]:e==="textarea"}function jx(t,e,n,r){yx(r),e=Zu(e,"onChange"),0<e.length&&(n=new Em("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ca=null,Na=null;function PC(t){Xx(t,0)}function Kc(t){var e=Ti(t);if(cx(e))return t}function kC(t,e){if(t==="change")return e}var Ux=!1;if(cr){var Dh;if(cr){var Oh="oninput"in document;if(!Oh){var yv=document.createElement("div");yv.setAttribute("oninput","return;"),Oh=typeof yv.oninput=="function"}Dh=Oh}else Dh=!1;Ux=Dh&&(!document.documentMode||9<document.documentMode)}function vv(){ca&&(ca.detachEvent("onpropertychange",Bx),Na=ca=null)}function Bx(t){if(t.propertyName==="value"&&Kc(Na)){var e=[];jx(e,Na,t,mm(t)),Ex(PC,e)}}function NC(t,e,n){t==="focusin"?(vv(),ca=e,Na=n,ca.attachEvent("onpropertychange",Bx)):t==="focusout"&&vv()}function DC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kc(Na)}function OC(t,e){if(t==="click")return Kc(e)}function MC(t,e){if(t==="input"||t==="change")return Kc(e)}function VC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vn=typeof Object.is=="function"?Object.is:VC;function Da(t,e){if(Vn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Tf.call(e,s)||!Vn(t[s],e[s]))return!1}return!0}function wv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _v(t,e){var n=wv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wv(n)}}function zx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Hx(){for(var t=window,e=Gu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gu(t.document)}return e}function Tm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function LC(t){var e=Hx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zx(n.ownerDocument.documentElement,n)){if(r!==null&&Tm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=_v(n,i);var o=_v(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FC=cr&&"documentMode"in document&&11>=document.documentMode,xi=null,zf=null,da=null,Hf=!1;function Ev(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hf||xi==null||xi!==Gu(r)||(r=xi,"selectionStart"in r&&Tm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),da&&Da(da,r)||(da=r,r=Zu(zf,"onSelect"),0<r.length&&(e=new Em("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xi)))}function Ql(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Si={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},Mh={},qx={};cr&&(qx=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function Qc(t){if(Mh[t])return Mh[t];if(!Si[t])return t;var e=Si[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qx)return Mh[t]=e[n];return t}var Gx=Qc("animationend"),Yx=Qc("animationiteration"),Wx=Qc("animationstart"),Kx=Qc("transitionend"),Qx=new Map,xv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ls(t,e){Qx.set(t,e),Hs(e,[t])}for(var Vh=0;Vh<xv.length;Vh++){var Lh=xv[Vh],$C=Lh.toLowerCase(),jC=Lh[0].toUpperCase()+Lh.slice(1);ls($C,"on"+jC)}ls(Gx,"onAnimationEnd");ls(Yx,"onAnimationIteration");ls(Wx,"onAnimationStart");ls("dblclick","onDoubleClick");ls("focusin","onFocus");ls("focusout","onBlur");ls(Kx,"onTransitionEnd");qi("onMouseEnter",["mouseout","mouseover"]);qi("onMouseLeave",["mouseout","mouseover"]);qi("onPointerEnter",["pointerout","pointerover"]);qi("onPointerLeave",["pointerout","pointerover"]);Hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zo));function Sv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$I(r,e,void 0,t),t.currentTarget=null}function Xx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Sv(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Sv(s,a,c),i=u}}}if(Wu)throw t=$f,Wu=!1,$f=null,t}function Oe(t,e){var n=e[Kf];n===void 0&&(n=e[Kf]=new Set);var r=t+"__bubble";n.has(r)||(Jx(e,t,2,!1),n.add(r))}function Fh(t,e,n){var r=0;e&&(r|=4),Jx(n,t,r,e)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function Oa(t){if(!t[Xl]){t[Xl]=!0,ix.forEach(function(n){n!=="selectionchange"&&(UC.has(n)||Fh(n,!1,t),Fh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xl]||(e[Xl]=!0,Fh("selectionchange",!1,e))}}function Jx(t,e,n,r){switch(Mx(e)){case 1:var s=tC;break;case 4:s=nC;break;default:s=wm}n=s.bind(null,e,n,t),s=void 0,!Ff||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function $h(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Es(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Ex(function(){var c=i,h=mm(n),f=[];e:{var m=Qx.get(t);if(m!==void 0){var y=Em,b=t;switch(t){case"keypress":if(bu(n)===0)break e;case"keydown":case"keyup":y=yC;break;case"focusin":b="focus",y=Nh;break;case"focusout":b="blur",y=Nh;break;case"beforeblur":case"afterblur":y=Nh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=dv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=iC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=_C;break;case Gx:case Yx:case Wx:y=lC;break;case Kx:y=xC;break;case"scroll":y=rC;break;case"wheel":y=TC;break;case"copy":case"cut":case"paste":y=cC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=fv}var I=(e&4)!==0,P=!I&&t==="scroll",_=I?m!==null?m+"Capture":null:m;I=[];for(var x=c,R;x!==null;){R=x;var N=R.stateNode;if(R.tag===5&&N!==null&&(R=N,_!==null&&(N=Ca(x,_),N!=null&&I.push(Ma(x,N,R)))),P)break;x=x.return}0<I.length&&(m=new y(m,b,null,n,h),f.push({event:m,listeners:I}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==Vf&&(b=n.relatedTarget||n.fromElement)&&(Es(b)||b[dr]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=c,b=b?Es(b):null,b!==null&&(P=qs(b),b!==P||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=c),y!==b)){if(I=dv,N="onMouseLeave",_="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(I=fv,N="onPointerLeave",_="onPointerEnter",x="pointer"),P=y==null?m:Ti(y),R=b==null?m:Ti(b),m=new I(N,x+"leave",y,n,h),m.target=P,m.relatedTarget=R,N=null,Es(h)===c&&(I=new I(_,x+"enter",b,n,h),I.target=R,I.relatedTarget=P,N=I),P=N,y&&b)t:{for(I=y,_=b,x=0,R=I;R;R=ui(R))x++;for(R=0,N=_;N;N=ui(N))R++;for(;0<x-R;)I=ui(I),x--;for(;0<R-x;)_=ui(_),R--;for(;x--;){if(I===_||_!==null&&I===_.alternate)break t;I=ui(I),_=ui(_)}I=null}else I=null;y!==null&&Tv(f,m,y,I,!1),b!==null&&P!==null&&Tv(f,P,b,I,!0)}}e:{if(m=c?Ti(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var D=kC;else if(gv(m))if(Ux)D=MC;else{D=DC;var O=NC}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=OC);if(D&&(D=D(t,c))){jx(f,D,n,h);break e}O&&O(t,m,c),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&kf(m,"number",m.value)}switch(O=c?Ti(c):window,t){case"focusin":(gv(O)||O.contentEditable==="true")&&(xi=O,zf=c,da=null);break;case"focusout":da=zf=xi=null;break;case"mousedown":Hf=!0;break;case"contextmenu":case"mouseup":case"dragend":Hf=!1,Ev(f,n,h);break;case"selectionchange":if(FC)break;case"keydown":case"keyup":Ev(f,n,h)}var w;if(Sm)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ei?Fx(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Lx&&n.locale!=="ko"&&(Ei||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ei&&(w=Vx()):(kr=h,_m="value"in kr?kr.value:kr.textContent,Ei=!0)),O=Zu(c,E),0<O.length&&(E=new hv(E,t,null,n,h),f.push({event:E,listeners:O}),w?E.data=w:(w=$x(n),w!==null&&(E.data=w)))),(w=AC?IC(t,n):CC(t,n))&&(c=Zu(c,"onBeforeInput"),0<c.length&&(h=new hv("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=w))}Xx(f,e)})}function Ma(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ca(t,n),i!=null&&r.unshift(Ma(t,i,s)),i=Ca(t,e),i!=null&&r.push(Ma(t,i,s))),t=t.return}return r}function ui(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=Ca(n,i),u!=null&&o.unshift(Ma(n,u,a))):s||(u=Ca(n,i),u!=null&&o.push(Ma(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var BC=/\r\n?/g,zC=/\u0000|\uFFFD/g;function bv(t){return(typeof t=="string"?t:""+t).replace(BC,`
`).replace(zC,"")}function Jl(t,e,n){if(e=bv(e),bv(t)!==e&&n)throw Error(H(425))}function ec(){}var qf=null,Gf=null;function Yf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wf=typeof setTimeout=="function"?setTimeout:void 0,HC=typeof clearTimeout=="function"?clearTimeout:void 0,Av=typeof Promise=="function"?Promise:void 0,qC=typeof queueMicrotask=="function"?queueMicrotask:typeof Av<"u"?function(t){return Av.resolve(null).then(t).catch(GC)}:Wf;function GC(t){setTimeout(function(){throw t})}function jh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ka(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ka(e)}function Lr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Iv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ho=Math.random().toString(36).slice(2),qn="__reactFiber$"+ho,Va="__reactProps$"+ho,dr="__reactContainer$"+ho,Kf="__reactEvents$"+ho,YC="__reactListeners$"+ho,WC="__reactHandles$"+ho;function Es(t){var e=t[qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[dr]||n[qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Iv(t);t!==null;){if(n=t[qn])return n;t=Iv(t)}return e}t=n,n=t.parentNode}return null}function ll(t){return t=t[qn]||t[dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ti(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Xc(t){return t[Va]||null}var Qf=[],bi=-1;function us(t){return{current:t}}function Ve(t){0>bi||(t.current=Qf[bi],Qf[bi]=null,bi--)}function Ne(t,e){bi++,Qf[bi]=t.current,t.current=e}var Xr={},Ot=us(Xr),qt=us(!1),Ns=Xr;function Gi(t,e){var n=t.type.contextTypes;if(!n)return Xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Gt(t){return t=t.childContextTypes,t!=null}function tc(){Ve(qt),Ve(Ot)}function Cv(t,e,n){if(Ot.current!==Xr)throw Error(H(168));Ne(Ot,e),Ne(qt,n)}function Zx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,NI(t)||"Unknown",s));return ze({},n,r)}function nc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xr,Ns=Ot.current,Ne(Ot,t),Ne(qt,qt.current),!0}function Rv(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=Zx(t,e,Ns),r.__reactInternalMemoizedMergedChildContext=t,Ve(qt),Ve(Ot),Ne(Ot,t)):Ve(qt),Ne(qt,n)}var nr=null,Jc=!1,Uh=!1;function eS(t){nr===null?nr=[t]:nr.push(t)}function KC(t){Jc=!0,eS(t)}function cs(){if(!Uh&&nr!==null){Uh=!0;var t=0,e=Te;try{var n=nr;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}nr=null,Jc=!1}catch(s){throw nr!==null&&(nr=nr.slice(t+1)),bx(gm,cs),s}finally{Te=e,Uh=!1}}return null}var Ai=[],Ii=0,rc=null,sc=0,fn=[],pn=0,Ds=null,sr=1,ir="";function vs(t,e){Ai[Ii++]=sc,Ai[Ii++]=rc,rc=t,sc=e}function tS(t,e,n){fn[pn++]=sr,fn[pn++]=ir,fn[pn++]=Ds,Ds=t;var r=sr;t=ir;var s=32-On(r)-1;r&=~(1<<s),n+=1;var i=32-On(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,sr=1<<32-On(e)+s|n<<s|r,ir=i+t}else sr=1<<i|n<<s|r,ir=t}function bm(t){t.return!==null&&(vs(t,1),tS(t,1,0))}function Am(t){for(;t===rc;)rc=Ai[--Ii],Ai[Ii]=null,sc=Ai[--Ii],Ai[Ii]=null;for(;t===Ds;)Ds=fn[--pn],fn[pn]=null,ir=fn[--pn],fn[pn]=null,sr=fn[--pn],fn[pn]=null}var nn=null,tn=null,je=!1,Nn=null;function nS(t,e){var n=yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Pv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nn=t,tn=Lr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nn=t,tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ds!==null?{id:sr,overflow:ir}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nn=t,tn=null,!0):!1;default:return!1}}function Xf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jf(t){if(je){var e=tn;if(e){var n=e;if(!Pv(t,e)){if(Xf(t))throw Error(H(418));e=Lr(n.nextSibling);var r=nn;e&&Pv(t,e)?nS(r,n):(t.flags=t.flags&-4097|2,je=!1,nn=t)}}else{if(Xf(t))throw Error(H(418));t.flags=t.flags&-4097|2,je=!1,nn=t}}}function kv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nn=t}function Zl(t){if(t!==nn)return!1;if(!je)return kv(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yf(t.type,t.memoizedProps)),e&&(e=tn)){if(Xf(t))throw rS(),Error(H(418));for(;e;)nS(t,e),e=Lr(e.nextSibling)}if(kv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tn=Lr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tn=null}}else tn=nn?Lr(t.stateNode.nextSibling):null;return!0}function rS(){for(var t=tn;t;)t=Lr(t.nextSibling)}function Yi(){tn=nn=null,je=!1}function Im(t){Nn===null?Nn=[t]:Nn.push(t)}var QC=wr.ReactCurrentBatchConfig;function Bo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function eu(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Nv(t){var e=t._init;return e(t._payload)}function sS(t){function e(_,x){if(t){var R=_.deletions;R===null?(_.deletions=[x],_.flags|=16):R.push(x)}}function n(_,x){if(!t)return null;for(;x!==null;)e(_,x),x=x.sibling;return null}function r(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function s(_,x){return _=Ur(_,x),_.index=0,_.sibling=null,_}function i(_,x,R){return _.index=R,t?(R=_.alternate,R!==null?(R=R.index,R<x?(_.flags|=2,x):R):(_.flags|=2,x)):(_.flags|=1048576,x)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,x,R,N){return x===null||x.tag!==6?(x=Wh(R,_.mode,N),x.return=_,x):(x=s(x,R),x.return=_,x)}function u(_,x,R,N){var D=R.type;return D===_i?h(_,x,R.props.children,N,R.key):x!==null&&(x.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ir&&Nv(D)===x.type)?(N=s(x,R.props),N.ref=Bo(_,x,R),N.return=_,N):(N=Nu(R.type,R.key,R.props,null,_.mode,N),N.ref=Bo(_,x,R),N.return=_,N)}function c(_,x,R,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==R.containerInfo||x.stateNode.implementation!==R.implementation?(x=Kh(R,_.mode,N),x.return=_,x):(x=s(x,R.children||[]),x.return=_,x)}function h(_,x,R,N,D){return x===null||x.tag!==7?(x=Is(R,_.mode,N,D),x.return=_,x):(x=s(x,R),x.return=_,x)}function f(_,x,R){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Wh(""+x,_.mode,R),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case zl:return R=Nu(x.type,x.key,x.props,null,_.mode,R),R.ref=Bo(_,null,x),R.return=_,R;case wi:return x=Kh(x,_.mode,R),x.return=_,x;case Ir:var N=x._init;return f(_,N(x._payload),R)}if(Xo(x)||Lo(x))return x=Is(x,_.mode,R,null),x.return=_,x;eu(_,x)}return null}function m(_,x,R,N){var D=x!==null?x.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return D!==null?null:a(_,x,""+R,N);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case zl:return R.key===D?u(_,x,R,N):null;case wi:return R.key===D?c(_,x,R,N):null;case Ir:return D=R._init,m(_,x,D(R._payload),N)}if(Xo(R)||Lo(R))return D!==null?null:h(_,x,R,N,null);eu(_,R)}return null}function y(_,x,R,N,D){if(typeof N=="string"&&N!==""||typeof N=="number")return _=_.get(R)||null,a(x,_,""+N,D);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case zl:return _=_.get(N.key===null?R:N.key)||null,u(x,_,N,D);case wi:return _=_.get(N.key===null?R:N.key)||null,c(x,_,N,D);case Ir:var O=N._init;return y(_,x,R,O(N._payload),D)}if(Xo(N)||Lo(N))return _=_.get(R)||null,h(x,_,N,D,null);eu(x,N)}return null}function b(_,x,R,N){for(var D=null,O=null,w=x,E=x=0,C=null;w!==null&&E<R.length;E++){w.index>E?(C=w,w=null):C=w.sibling;var p=m(_,w,R[E],N);if(p===null){w===null&&(w=C);break}t&&w&&p.alternate===null&&e(_,w),x=i(p,x,E),O===null?D=p:O.sibling=p,O=p,w=C}if(E===R.length)return n(_,w),je&&vs(_,E),D;if(w===null){for(;E<R.length;E++)w=f(_,R[E],N),w!==null&&(x=i(w,x,E),O===null?D=w:O.sibling=w,O=w);return je&&vs(_,E),D}for(w=r(_,w);E<R.length;E++)C=y(w,_,E,R[E],N),C!==null&&(t&&C.alternate!==null&&w.delete(C.key===null?E:C.key),x=i(C,x,E),O===null?D=C:O.sibling=C,O=C);return t&&w.forEach(function(T){return e(_,T)}),je&&vs(_,E),D}function I(_,x,R,N){var D=Lo(R);if(typeof D!="function")throw Error(H(150));if(R=D.call(R),R==null)throw Error(H(151));for(var O=D=null,w=x,E=x=0,C=null,p=R.next();w!==null&&!p.done;E++,p=R.next()){w.index>E?(C=w,w=null):C=w.sibling;var T=m(_,w,p.value,N);if(T===null){w===null&&(w=C);break}t&&w&&T.alternate===null&&e(_,w),x=i(T,x,E),O===null?D=T:O.sibling=T,O=T,w=C}if(p.done)return n(_,w),je&&vs(_,E),D;if(w===null){for(;!p.done;E++,p=R.next())p=f(_,p.value,N),p!==null&&(x=i(p,x,E),O===null?D=p:O.sibling=p,O=p);return je&&vs(_,E),D}for(w=r(_,w);!p.done;E++,p=R.next())p=y(w,_,E,p.value,N),p!==null&&(t&&p.alternate!==null&&w.delete(p.key===null?E:p.key),x=i(p,x,E),O===null?D=p:O.sibling=p,O=p);return t&&w.forEach(function(k){return e(_,k)}),je&&vs(_,E),D}function P(_,x,R,N){if(typeof R=="object"&&R!==null&&R.type===_i&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case zl:e:{for(var D=R.key,O=x;O!==null;){if(O.key===D){if(D=R.type,D===_i){if(O.tag===7){n(_,O.sibling),x=s(O,R.props.children),x.return=_,_=x;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ir&&Nv(D)===O.type){n(_,O.sibling),x=s(O,R.props),x.ref=Bo(_,O,R),x.return=_,_=x;break e}n(_,O);break}else e(_,O);O=O.sibling}R.type===_i?(x=Is(R.props.children,_.mode,N,R.key),x.return=_,_=x):(N=Nu(R.type,R.key,R.props,null,_.mode,N),N.ref=Bo(_,x,R),N.return=_,_=N)}return o(_);case wi:e:{for(O=R.key;x!==null;){if(x.key===O)if(x.tag===4&&x.stateNode.containerInfo===R.containerInfo&&x.stateNode.implementation===R.implementation){n(_,x.sibling),x=s(x,R.children||[]),x.return=_,_=x;break e}else{n(_,x);break}else e(_,x);x=x.sibling}x=Kh(R,_.mode,N),x.return=_,_=x}return o(_);case Ir:return O=R._init,P(_,x,O(R._payload),N)}if(Xo(R))return b(_,x,R,N);if(Lo(R))return I(_,x,R,N);eu(_,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,x!==null&&x.tag===6?(n(_,x.sibling),x=s(x,R),x.return=_,_=x):(n(_,x),x=Wh(R,_.mode,N),x.return=_,_=x),o(_)):n(_,x)}return P}var Wi=sS(!0),iS=sS(!1),ic=us(null),oc=null,Ci=null,Cm=null;function Rm(){Cm=Ci=oc=null}function Pm(t){var e=ic.current;Ve(ic),t._currentValue=e}function Zf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vi(t,e){oc=t,Cm=Ci=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ht=!0),t.firstContext=null)}function _n(t){var e=t._currentValue;if(Cm!==t)if(t={context:t,memoizedValue:e,next:null},Ci===null){if(oc===null)throw Error(H(308));Ci=t,oc.dependencies={lanes:0,firstContext:t}}else Ci=Ci.next=t;return e}var xs=null;function km(t){xs===null?xs=[t]:xs.push(t)}function oS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,km(e)):(n.next=s.next,s.next=n),e.interleaved=n,hr(t,r)}function hr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Cr=!1;function Nm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ar(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,hr(t,n)}return s=r.interleaved,s===null?(e.next=e,km(r)):(e.next=s.next,s.next=e),r.interleaved=e,hr(t,n)}function Au(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ym(t,n)}}function Dv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ac(t,e,n,r){var s=t.updateQueue;Cr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,h=c=u=null,a=i;do{var m=a.lane,y=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,I=a;switch(m=e,y=n,I.tag){case 1:if(b=I.payload,typeof b=="function"){f=b.call(y,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=I.payload,m=typeof b=="function"?b.call(y,f,m):b,m==null)break e;f=ze({},f,m);break e;case 2:Cr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=y,u=f):h=h.next=y,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ms|=o,t.lanes=o,t.memoizedState=f}}function Ov(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var ul={},Yn=us(ul),La=us(ul),Fa=us(ul);function Ss(t){if(t===ul)throw Error(H(174));return t}function Dm(t,e){switch(Ne(Fa,e),Ne(La,t),Ne(Yn,ul),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Df(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Df(e,t)}Ve(Yn),Ne(Yn,e)}function Ki(){Ve(Yn),Ve(La),Ve(Fa)}function lS(t){Ss(Fa.current);var e=Ss(Yn.current),n=Df(e,t.type);e!==n&&(Ne(La,t),Ne(Yn,n))}function Om(t){La.current===t&&(Ve(Yn),Ve(La))}var Ue=us(0);function lc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bh=[];function Mm(){for(var t=0;t<Bh.length;t++)Bh[t]._workInProgressVersionPrimary=null;Bh.length=0}var Iu=wr.ReactCurrentDispatcher,zh=wr.ReactCurrentBatchConfig,Os=0,Be=null,ot=null,ft=null,uc=!1,ha=!1,$a=0,XC=0;function It(){throw Error(H(321))}function Vm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vn(t[n],e[n]))return!1;return!0}function Lm(t,e,n,r,s,i){if(Os=i,Be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Iu.current=t===null||t.memoizedState===null?t2:n2,t=n(r,s),ha){i=0;do{if(ha=!1,$a=0,25<=i)throw Error(H(301));i+=1,ft=ot=null,e.updateQueue=null,Iu.current=r2,t=n(r,s)}while(ha)}if(Iu.current=cc,e=ot!==null&&ot.next!==null,Os=0,ft=ot=Be=null,uc=!1,e)throw Error(H(300));return t}function Fm(){var t=$a!==0;return $a=0,t}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Be.memoizedState=ft=t:ft=ft.next=t,ft}function En(){if(ot===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=ft===null?Be.memoizedState:ft.next;if(e!==null)ft=e,ot=t;else{if(t===null)throw Error(H(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ft===null?Be.memoizedState=ft=t:ft=ft.next=t}return ft}function ja(t,e){return typeof e=="function"?e(t):e}function Hh(t){var e=En(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=ot,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var h=c.lane;if((Os&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Be.lanes|=h,Ms|=h}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,Vn(r,e.memoizedState)||(Ht=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Be.lanes|=i,Ms|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qh(t){var e=En(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Vn(i,e.memoizedState)||(Ht=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function uS(){}function cS(t,e){var n=Be,r=En(),s=e(),i=!Vn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ht=!0),r=r.queue,$m(fS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,Ua(9,hS.bind(null,n,r,s,e),void 0,null),pt===null)throw Error(H(349));Os&30||dS(n,e,s)}return s}function dS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Be.updateQueue,e===null?(e={lastEffect:null,stores:null},Be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hS(t,e,n,r){e.value=n,e.getSnapshot=r,pS(e)&&mS(t)}function fS(t,e,n){return n(function(){pS(e)&&mS(t)})}function pS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vn(t,n)}catch{return!0}}function mS(t){var e=hr(t,1);e!==null&&Mn(e,t,1,-1)}function Mv(t){var e=Un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:t},e.queue=t,t=t.dispatch=e2.bind(null,Be,t),[e.memoizedState,t]}function Ua(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Be.updateQueue,e===null?(e={lastEffect:null,stores:null},Be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gS(){return En().memoizedState}function Cu(t,e,n,r){var s=Un();Be.flags|=t,s.memoizedState=Ua(1|e,n,void 0,r===void 0?null:r)}function Zc(t,e,n,r){var s=En();r=r===void 0?null:r;var i=void 0;if(ot!==null){var o=ot.memoizedState;if(i=o.destroy,r!==null&&Vm(r,o.deps)){s.memoizedState=Ua(e,n,i,r);return}}Be.flags|=t,s.memoizedState=Ua(1|e,n,i,r)}function Vv(t,e){return Cu(8390656,8,t,e)}function $m(t,e){return Zc(2048,8,t,e)}function yS(t,e){return Zc(4,2,t,e)}function vS(t,e){return Zc(4,4,t,e)}function wS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _S(t,e,n){return n=n!=null?n.concat([t]):null,Zc(4,4,wS.bind(null,e,t),n)}function jm(){}function ES(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xS(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function SS(t,e,n){return Os&21?(Vn(n,e)||(n=Cx(),Be.lanes|=n,Ms|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=n)}function JC(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=zh.transition;zh.transition={};try{t(!1),e()}finally{Te=n,zh.transition=r}}function TS(){return En().memoizedState}function ZC(t,e,n){var r=jr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bS(t))AS(e,n);else if(n=oS(t,e,n,r),n!==null){var s=$t();Mn(n,t,r,s),IS(n,e,r)}}function e2(t,e,n){var r=jr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bS(t))AS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Vn(a,o)){var u=e.interleaved;u===null?(s.next=s,km(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=oS(t,e,s,r),n!==null&&(s=$t(),Mn(n,t,r,s),IS(n,e,r))}}function bS(t){var e=t.alternate;return t===Be||e!==null&&e===Be}function AS(t,e){ha=uc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function IS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ym(t,n)}}var cc={readContext:_n,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},t2={readContext:_n,useCallback:function(t,e){return Un().memoizedState=[t,e===void 0?null:e],t},useContext:_n,useEffect:Vv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cu(4194308,4,wS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cu(4,2,t,e)},useMemo:function(t,e){var n=Un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Un();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ZC.bind(null,Be,t),[r.memoizedState,t]},useRef:function(t){var e=Un();return t={current:t},e.memoizedState=t},useState:Mv,useDebugValue:jm,useDeferredValue:function(t){return Un().memoizedState=t},useTransition:function(){var t=Mv(!1),e=t[0];return t=JC.bind(null,t[1]),Un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Be,s=Un();if(je){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),pt===null)throw Error(H(349));Os&30||dS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Vv(fS.bind(null,r,i,t),[t]),r.flags|=2048,Ua(9,hS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Un(),e=pt.identifierPrefix;if(je){var n=ir,r=sr;n=(r&~(1<<32-On(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$a++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=XC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},n2={readContext:_n,useCallback:ES,useContext:_n,useEffect:$m,useImperativeHandle:_S,useInsertionEffect:yS,useLayoutEffect:vS,useMemo:xS,useReducer:Hh,useRef:gS,useState:function(){return Hh(ja)},useDebugValue:jm,useDeferredValue:function(t){var e=En();return SS(e,ot.memoizedState,t)},useTransition:function(){var t=Hh(ja)[0],e=En().memoizedState;return[t,e]},useMutableSource:uS,useSyncExternalStore:cS,useId:TS,unstable_isNewReconciler:!1},r2={readContext:_n,useCallback:ES,useContext:_n,useEffect:$m,useImperativeHandle:_S,useInsertionEffect:yS,useLayoutEffect:vS,useMemo:xS,useReducer:qh,useRef:gS,useState:function(){return qh(ja)},useDebugValue:jm,useDeferredValue:function(t){var e=En();return ot===null?e.memoizedState=t:SS(e,ot.memoizedState,t)},useTransition:function(){var t=qh(ja)[0],e=En().memoizedState;return[t,e]},useMutableSource:uS,useSyncExternalStore:cS,useId:TS,unstable_isNewReconciler:!1};function Pn(t,e){if(t&&t.defaultProps){e=ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ep(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ed={isMounted:function(t){return(t=t._reactInternals)?qs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$t(),s=jr(t),i=ar(r,s);i.payload=e,n!=null&&(i.callback=n),e=Fr(t,i,s),e!==null&&(Mn(e,t,s,r),Au(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$t(),s=jr(t),i=ar(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Fr(t,i,s),e!==null&&(Mn(e,t,s,r),Au(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$t(),r=jr(t),s=ar(n,r);s.tag=2,e!=null&&(s.callback=e),e=Fr(t,s,r),e!==null&&(Mn(e,t,r,n),Au(e,t,r))}};function Lv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Da(n,r)||!Da(s,i):!0}function CS(t,e,n){var r=!1,s=Xr,i=e.contextType;return typeof i=="object"&&i!==null?i=_n(i):(s=Gt(e)?Ns:Ot.current,r=e.contextTypes,i=(r=r!=null)?Gi(t,s):Xr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ed,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Fv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ed.enqueueReplaceState(e,e.state,null)}function tp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Nm(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=_n(i):(i=Gt(e)?Ns:Ot.current,s.context=Gi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ep(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ed.enqueueReplaceState(s,s.state,null),ac(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Qi(t,e){try{var n="",r=e;do n+=kI(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Gh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function np(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var s2=typeof WeakMap=="function"?WeakMap:Map;function RS(t,e,n){n=ar(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hc||(hc=!0,hp=r),np(t,e)},n}function PS(t,e,n){n=ar(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){np(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){np(t,e),typeof r!="function"&&($r===null?$r=new Set([this]):$r.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $v(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new s2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=v2.bind(null,t,e,n),e.then(t,t))}function jv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Uv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ar(-1,1),e.tag=2,Fr(n,e,1))),n.lanes|=1),t)}var i2=wr.ReactCurrentOwner,Ht=!1;function Ft(t,e,n,r){e.child=t===null?iS(e,null,n,r):Wi(e,t.child,n,r)}function Bv(t,e,n,r,s){n=n.render;var i=e.ref;return Vi(e,s),r=Lm(t,e,n,r,i,s),n=Fm(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fr(t,e,s)):(je&&n&&bm(e),e.flags|=1,Ft(t,e,r,s),e.child)}function zv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Wm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,kS(t,e,i,r,s)):(t=Nu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Da,n(o,r)&&t.ref===e.ref)return fr(t,e,s)}return e.flags|=1,t=Ur(i,r),t.ref=e.ref,t.return=e,e.child=t}function kS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Da(i,r)&&t.ref===e.ref)if(Ht=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ht=!0);else return e.lanes=t.lanes,fr(t,e,s)}return rp(t,e,n,r,s)}function NS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Pi,Zt),Zt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ne(Pi,Zt),Zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ne(Pi,Zt),Zt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ne(Pi,Zt),Zt|=r;return Ft(t,e,s,n),e.child}function DS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rp(t,e,n,r,s){var i=Gt(n)?Ns:Ot.current;return i=Gi(e,i),Vi(e,s),n=Lm(t,e,n,r,i,s),r=Fm(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fr(t,e,s)):(je&&r&&bm(e),e.flags|=1,Ft(t,e,n,s),e.child)}function Hv(t,e,n,r,s){if(Gt(n)){var i=!0;nc(e)}else i=!1;if(Vi(e,s),e.stateNode===null)Ru(t,e),CS(e,n,r),tp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=_n(c):(c=Gt(n)?Ns:Ot.current,c=Gi(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Fv(e,o,r,c),Cr=!1;var m=e.memoizedState;o.state=m,ac(e,r,o,s),u=e.memoizedState,a!==r||m!==u||qt.current||Cr?(typeof h=="function"&&(ep(e,n,h,r),u=e.memoizedState),(a=Cr||Lv(e,n,a,r,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,aS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Pn(e.type,a),o.props=c,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=_n(u):(u=Gt(n)?Ns:Ot.current,u=Gi(e,u));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==u)&&Fv(e,o,r,u),Cr=!1,m=e.memoizedState,o.state=m,ac(e,r,o,s);var b=e.memoizedState;a!==f||m!==b||qt.current||Cr?(typeof y=="function"&&(ep(e,n,y,r),b=e.memoizedState),(c=Cr||Lv(e,n,c,r,m,b,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return sp(t,e,n,r,i,s)}function sp(t,e,n,r,s,i){DS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Rv(e,n,!1),fr(t,e,i);r=e.stateNode,i2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Wi(e,t.child,null,i),e.child=Wi(e,null,a,i)):Ft(t,e,a,i),e.memoizedState=r.state,s&&Rv(e,n,!0),e.child}function OS(t){var e=t.stateNode;e.pendingContext?Cv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Cv(t,e.context,!1),Dm(t,e.containerInfo)}function qv(t,e,n,r,s){return Yi(),Im(s),e.flags|=256,Ft(t,e,n,r),e.child}var ip={dehydrated:null,treeContext:null,retryLane:0};function op(t){return{baseLanes:t,cachePool:null,transitions:null}}function MS(t,e,n){var r=e.pendingProps,s=Ue.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ne(Ue,s&1),t===null)return Jf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=rd(o,r,0,null),t=Is(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=op(n),e.memoizedState=ip,t):Um(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return o2(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ur(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ur(a,i):(i=Is(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?op(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ip,r}return i=t.child,t=i.sibling,r=Ur(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Um(t,e){return e=rd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tu(t,e,n,r){return r!==null&&Im(r),Wi(e,t.child,null,n),t=Um(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function o2(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Gh(Error(H(422))),tu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=rd({mode:"visible",children:r.children},s,0,null),i=Is(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Wi(e,t.child,null,o),e.child.memoizedState=op(o),e.memoizedState=ip,i);if(!(e.mode&1))return tu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=Gh(i,r,void 0),tu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ht||a){if(r=pt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,hr(t,s),Mn(r,t,s,-1))}return Ym(),r=Gh(Error(H(421))),tu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=w2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,tn=Lr(s.nextSibling),nn=e,je=!0,Nn=null,t!==null&&(fn[pn++]=sr,fn[pn++]=ir,fn[pn++]=Ds,sr=t.id,ir=t.overflow,Ds=e),e=Um(e,r.children),e.flags|=4096,e)}function Gv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zf(t.return,e,n)}function Yh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function VS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ft(t,e,r.children,n),r=Ue.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gv(t,n,e);else if(t.tag===19)Gv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ne(Ue,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&lc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Yh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&lc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Yh(e,!0,n,null,i);break;case"together":Yh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ru(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ms|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Ur(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ur(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function a2(t,e,n){switch(e.tag){case 3:OS(e),Yi();break;case 5:lS(e);break;case 1:Gt(e.type)&&nc(e);break;case 4:Dm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ne(ic,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ne(Ue,Ue.current&1),e.flags|=128,null):n&e.child.childLanes?MS(t,e,n):(Ne(Ue,Ue.current&1),t=fr(t,e,n),t!==null?t.sibling:null);Ne(Ue,Ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return VS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne(Ue,Ue.current),r)break;return null;case 22:case 23:return e.lanes=0,NS(t,e,n)}return fr(t,e,n)}var LS,ap,FS,$S;LS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ap=function(){};FS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ss(Yn.current);var i=null;switch(n){case"input":s=Rf(t,s),r=Rf(t,r),i=[];break;case"select":s=ze({},s,{value:void 0}),r=ze({},r,{value:void 0}),i=[];break;case"textarea":s=Nf(t,s),r=Nf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ec)}Of(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Aa.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Aa.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Oe("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};$S=function(t,e,n,r){n!==r&&(e.flags|=4)};function zo(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function l2(t,e,n){var r=e.pendingProps;switch(Am(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(e),null;case 1:return Gt(e.type)&&tc(),Ct(e),null;case 3:return r=e.stateNode,Ki(),Ve(qt),Ve(Ot),Mm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nn!==null&&(mp(Nn),Nn=null))),ap(t,e),Ct(e),null;case 5:Om(e);var s=Ss(Fa.current);if(n=e.type,t!==null&&e.stateNode!=null)FS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Ct(e),null}if(t=Ss(Yn.current),Zl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[qn]=e,r[Va]=i,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(s=0;s<Zo.length;s++)Oe(Zo[s],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":tv(r,i),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Oe("invalid",r);break;case"textarea":rv(r,i),Oe("invalid",r)}Of(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Jl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Jl(r.textContent,a,t),s=["children",""+a]):Aa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Oe("scroll",r)}switch(n){case"input":Hl(r),nv(r,i,!0);break;case"textarea":Hl(r),sv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ec)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qn]=e,t[Va]=r,LS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Mf(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),s=r;break;case"iframe":case"object":case"embed":Oe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Zo.length;s++)Oe(Zo[s],t);s=r;break;case"source":Oe("error",t),s=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),s=r;break;case"details":Oe("toggle",t),s=r;break;case"input":tv(t,r),s=Rf(t,r),Oe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ze({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":rv(t,r),s=Nf(t,r),Oe("invalid",t);break;default:s=r}Of(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?gx(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&px(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ia(t,u):typeof u=="number"&&Ia(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Aa.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Oe("scroll",t):u!=null&&dm(t,i,u,o))}switch(n){case"input":Hl(t),nv(t,r,!1);break;case"textarea":Hl(t),sv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ni(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ni(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ec)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ct(e),null;case 6:if(t&&e.stateNode!=null)$S(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Ss(Fa.current),Ss(Yn.current),Zl(e)){if(r=e.stateNode,n=e.memoizedProps,r[qn]=e,(i=r.nodeValue!==n)&&(t=nn,t!==null))switch(t.tag){case 3:Jl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qn]=e,e.stateNode=r}return Ct(e),null;case 13:if(Ve(Ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&tn!==null&&e.mode&1&&!(e.flags&128))rS(),Yi(),e.flags|=98560,i=!1;else if(i=Zl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[qn]=e}else Yi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ct(e),i=!1}else Nn!==null&&(mp(Nn),Nn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ue.current&1?at===0&&(at=3):Ym())),e.updateQueue!==null&&(e.flags|=4),Ct(e),null);case 4:return Ki(),ap(t,e),t===null&&Oa(e.stateNode.containerInfo),Ct(e),null;case 10:return Pm(e.type._context),Ct(e),null;case 17:return Gt(e.type)&&tc(),Ct(e),null;case 19:if(Ve(Ue),i=e.memoizedState,i===null)return Ct(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)zo(i,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=lc(t),o!==null){for(e.flags|=128,zo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ne(Ue,Ue.current&1|2),e.child}t=t.sibling}i.tail!==null&&Xe()>Xi&&(e.flags|=128,r=!0,zo(i,!1),e.lanes=4194304)}else{if(!r)if(t=lc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!je)return Ct(e),null}else 2*Xe()-i.renderingStartTime>Xi&&n!==1073741824&&(e.flags|=128,r=!0,zo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Xe(),e.sibling=null,n=Ue.current,Ne(Ue,r?n&1|2:n&1),e):(Ct(e),null);case 22:case 23:return Gm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zt&1073741824&&(Ct(e),e.subtreeFlags&6&&(e.flags|=8192)):Ct(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function u2(t,e){switch(Am(e),e.tag){case 1:return Gt(e.type)&&tc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ki(),Ve(qt),Ve(Ot),Mm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Om(e),null;case 13:if(Ve(Ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Yi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve(Ue),null;case 4:return Ki(),null;case 10:return Pm(e.type._context),null;case 22:case 23:return Gm(),null;case 24:return null;default:return null}}var nu=!1,Nt=!1,c2=typeof WeakSet=="function"?WeakSet:Set,K=null;function Ri(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function lp(t,e,n){try{n()}catch(r){We(t,e,r)}}var Yv=!1;function d2(t,e){if(qf=Xu,t=Hx(),Tm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,f=t,m=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===t)break t;if(m===n&&++c===s&&(a=o),m===i&&++h===r&&(u=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gf={focusedElem:t,selectionRange:n},Xu=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var I=b.memoizedProps,P=b.memoizedState,_=e.stateNode,x=_.getSnapshotBeforeUpdate(e.elementType===e.type?I:Pn(e.type,I),P);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var R=e.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(N){We(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return b=Yv,Yv=!1,b}function fa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&lp(e,n,i)}s=s.next}while(s!==r)}}function td(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function up(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jS(t){var e=t.alternate;e!==null&&(t.alternate=null,jS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qn],delete e[Va],delete e[Kf],delete e[YC],delete e[WC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function US(t){return t.tag===5||t.tag===3||t.tag===4}function Wv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||US(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ec));else if(r!==4&&(t=t.child,t!==null))for(cp(t,e,n),t=t.sibling;t!==null;)cp(t,e,n),t=t.sibling}function dp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(dp(t,e,n),t=t.sibling;t!==null;)dp(t,e,n),t=t.sibling}var yt=null,kn=!1;function Tr(t,e,n){for(n=n.child;n!==null;)BS(t,e,n),n=n.sibling}function BS(t,e,n){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(Yc,n)}catch{}switch(n.tag){case 5:Nt||Ri(n,e);case 6:var r=yt,s=kn;yt=null,Tr(t,e,n),yt=r,kn=s,yt!==null&&(kn?(t=yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(kn?(t=yt,n=n.stateNode,t.nodeType===8?jh(t.parentNode,n):t.nodeType===1&&jh(t,n),ka(t)):jh(yt,n.stateNode));break;case 4:r=yt,s=kn,yt=n.stateNode.containerInfo,kn=!0,Tr(t,e,n),yt=r,kn=s;break;case 0:case 11:case 14:case 15:if(!Nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&lp(n,e,o),s=s.next}while(s!==r)}Tr(t,e,n);break;case 1:if(!Nt&&(Ri(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,e,a)}Tr(t,e,n);break;case 21:Tr(t,e,n);break;case 22:n.mode&1?(Nt=(r=Nt)||n.memoizedState!==null,Tr(t,e,n),Nt=r):Tr(t,e,n);break;default:Tr(t,e,n)}}function Kv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new c2),e.forEach(function(r){var s=_2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function An(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yt=a.stateNode,kn=!1;break e;case 3:yt=a.stateNode.containerInfo,kn=!0;break e;case 4:yt=a.stateNode.containerInfo,kn=!0;break e}a=a.return}if(yt===null)throw Error(H(160));BS(i,o,s),yt=null,kn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){We(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zS(e,t),e=e.sibling}function zS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(An(e,t),Fn(t),r&4){try{fa(3,t,t.return),td(3,t)}catch(I){We(t,t.return,I)}try{fa(5,t,t.return)}catch(I){We(t,t.return,I)}}break;case 1:An(e,t),Fn(t),r&512&&n!==null&&Ri(n,n.return);break;case 5:if(An(e,t),Fn(t),r&512&&n!==null&&Ri(n,n.return),t.flags&32){var s=t.stateNode;try{Ia(s,"")}catch(I){We(t,t.return,I)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&dx(s,i),Mf(a,o);var c=Mf(a,i);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?gx(s,f):h==="dangerouslySetInnerHTML"?px(s,f):h==="children"?Ia(s,f):dm(s,h,f,c)}switch(a){case"input":Pf(s,i);break;case"textarea":hx(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Ni(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ni(s,!!i.multiple,i.defaultValue,!0):Ni(s,!!i.multiple,i.multiple?[]:"",!1))}s[Va]=i}catch(I){We(t,t.return,I)}}break;case 6:if(An(e,t),Fn(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(I){We(t,t.return,I)}}break;case 3:if(An(e,t),Fn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ka(e.containerInfo)}catch(I){We(t,t.return,I)}break;case 4:An(e,t),Fn(t);break;case 13:An(e,t),Fn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Hm=Xe())),r&4&&Kv(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Nt=(c=Nt)||h,An(e,t),Nt=c):An(e,t),Fn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(K=t,h=t.child;h!==null;){for(f=K=h;K!==null;){switch(m=K,y=m.child,m.tag){case 0:case 11:case 14:case 15:fa(4,m,m.return);break;case 1:Ri(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(I){We(r,n,I)}}break;case 5:Ri(m,m.return);break;case 22:if(m.memoizedState!==null){Xv(f);continue}}y!==null?(y.return=m,K=y):Xv(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=mx("display",o))}catch(I){We(t,t.return,I)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(I){We(t,t.return,I)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:An(e,t),Fn(t),r&4&&Kv(t);break;case 21:break;default:An(e,t),Fn(t)}}function Fn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(US(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ia(s,""),r.flags&=-33);var i=Wv(t);dp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Wv(t);cp(t,a,o);break;default:throw Error(H(161))}}catch(u){We(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function h2(t,e,n){K=t,HS(t)}function HS(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var s=K,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||nu;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Nt;a=nu;var c=Nt;if(nu=o,(Nt=u)&&!c)for(K=s;K!==null;)o=K,u=o.child,o.tag===22&&o.memoizedState!==null?Jv(s):u!==null?(u.return=o,K=u):Jv(s);for(;i!==null;)K=i,HS(i),i=i.sibling;K=s,nu=a,Nt=c}Qv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,K=i):Qv(t)}}function Qv(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nt||td(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Nt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Pn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ov(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ov(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ka(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Nt||e.flags&512&&up(e)}catch(m){We(e,e.return,m)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function Xv(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function Jv(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{td(4,e)}catch(u){We(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){We(e,s,u)}}var i=e.return;try{up(e)}catch(u){We(e,i,u)}break;case 5:var o=e.return;try{up(e)}catch(u){We(e,o,u)}}}catch(u){We(e,e.return,u)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var f2=Math.ceil,dc=wr.ReactCurrentDispatcher,Bm=wr.ReactCurrentOwner,wn=wr.ReactCurrentBatchConfig,ye=0,pt=null,nt=null,Et=0,Zt=0,Pi=us(0),at=0,Ba=null,Ms=0,nd=0,zm=0,pa=null,zt=null,Hm=0,Xi=1/0,tr=null,hc=!1,hp=null,$r=null,ru=!1,Nr=null,fc=0,ma=0,fp=null,Pu=-1,ku=0;function $t(){return ye&6?Xe():Pu!==-1?Pu:Pu=Xe()}function jr(t){return t.mode&1?ye&2&&Et!==0?Et&-Et:QC.transition!==null?(ku===0&&(ku=Cx()),ku):(t=Te,t!==0||(t=window.event,t=t===void 0?16:Mx(t.type)),t):1}function Mn(t,e,n,r){if(50<ma)throw ma=0,fp=null,Error(H(185));ol(t,n,r),(!(ye&2)||t!==pt)&&(t===pt&&(!(ye&2)&&(nd|=n),at===4&&Pr(t,Et)),Yt(t,r),n===1&&ye===0&&!(e.mode&1)&&(Xi=Xe()+500,Jc&&cs()))}function Yt(t,e){var n=t.callbackNode;QI(t,e);var r=Qu(t,t===pt?Et:0);if(r===0)n!==null&&av(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&av(n),e===1)t.tag===0?KC(Zv.bind(null,t)):eS(Zv.bind(null,t)),qC(function(){!(ye&6)&&cs()}),n=null;else{switch(Rx(r)){case 1:n=gm;break;case 4:n=Ax;break;case 16:n=Ku;break;case 536870912:n=Ix;break;default:n=Ku}n=JS(n,qS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qS(t,e){if(Pu=-1,ku=0,ye&6)throw Error(H(327));var n=t.callbackNode;if(Li()&&t.callbackNode!==n)return null;var r=Qu(t,t===pt?Et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=pc(t,r);else{e=r;var s=ye;ye|=2;var i=YS();(pt!==t||Et!==e)&&(tr=null,Xi=Xe()+500,As(t,e));do try{g2();break}catch(a){GS(t,a)}while(!0);Rm(),dc.current=i,ye=s,nt!==null?e=0:(pt=null,Et=0,e=at)}if(e!==0){if(e===2&&(s=jf(t),s!==0&&(r=s,e=pp(t,s))),e===1)throw n=Ba,As(t,0),Pr(t,r),Yt(t,Xe()),n;if(e===6)Pr(t,r);else{if(s=t.current.alternate,!(r&30)&&!p2(s)&&(e=pc(t,r),e===2&&(i=jf(t),i!==0&&(r=i,e=pp(t,i))),e===1))throw n=Ba,As(t,0),Pr(t,r),Yt(t,Xe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:ws(t,zt,tr);break;case 3:if(Pr(t,r),(r&130023424)===r&&(e=Hm+500-Xe(),10<e)){if(Qu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){$t(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Wf(ws.bind(null,t,zt,tr),e);break}ws(t,zt,tr);break;case 4:if(Pr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-On(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*f2(r/1960))-r,10<r){t.timeoutHandle=Wf(ws.bind(null,t,zt,tr),r);break}ws(t,zt,tr);break;case 5:ws(t,zt,tr);break;default:throw Error(H(329))}}}return Yt(t,Xe()),t.callbackNode===n?qS.bind(null,t):null}function pp(t,e){var n=pa;return t.current.memoizedState.isDehydrated&&(As(t,e).flags|=256),t=pc(t,e),t!==2&&(e=zt,zt=n,e!==null&&mp(e)),t}function mp(t){zt===null?zt=t:zt.push.apply(zt,t)}function p2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Vn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pr(t,e){for(e&=~zm,e&=~nd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-On(e),r=1<<n;t[n]=-1,e&=~r}}function Zv(t){if(ye&6)throw Error(H(327));Li();var e=Qu(t,0);if(!(e&1))return Yt(t,Xe()),null;var n=pc(t,e);if(t.tag!==0&&n===2){var r=jf(t);r!==0&&(e=r,n=pp(t,r))}if(n===1)throw n=Ba,As(t,0),Pr(t,e),Yt(t,Xe()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ws(t,zt,tr),Yt(t,Xe()),null}function qm(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(Xi=Xe()+500,Jc&&cs())}}function Vs(t){Nr!==null&&Nr.tag===0&&!(ye&6)&&Li();var e=ye;ye|=1;var n=wn.transition,r=Te;try{if(wn.transition=null,Te=1,t)return t()}finally{Te=r,wn.transition=n,ye=e,!(ye&6)&&cs()}}function Gm(){Zt=Pi.current,Ve(Pi)}function As(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,HC(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(Am(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tc();break;case 3:Ki(),Ve(qt),Ve(Ot),Mm();break;case 5:Om(r);break;case 4:Ki();break;case 13:Ve(Ue);break;case 19:Ve(Ue);break;case 10:Pm(r.type._context);break;case 22:case 23:Gm()}n=n.return}if(pt=t,nt=t=Ur(t.current,null),Et=Zt=e,at=0,Ba=null,zm=nd=Ms=0,zt=pa=null,xs!==null){for(e=0;e<xs.length;e++)if(n=xs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}xs=null}return t}function GS(t,e){do{var n=nt;try{if(Rm(),Iu.current=cc,uc){for(var r=Be.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}uc=!1}if(Os=0,ft=ot=Be=null,ha=!1,$a=0,Bm.current=null,n===null||n.return===null){at=1,Ba=e,nt=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=Et,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=jv(o);if(y!==null){y.flags&=-257,Uv(y,o,a,i,e),y.mode&1&&$v(i,c,e),e=y,u=c;var b=e.updateQueue;if(b===null){var I=new Set;I.add(u),e.updateQueue=I}else b.add(u);break e}else{if(!(e&1)){$v(i,c,e),Ym();break e}u=Error(H(426))}}else if(je&&a.mode&1){var P=jv(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Uv(P,o,a,i,e),Im(Qi(u,a));break e}}i=u=Qi(u,a),at!==4&&(at=2),pa===null?pa=[i]:pa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=RS(i,u,e);Dv(i,_);break e;case 1:a=u;var x=i.type,R=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&($r===null||!$r.has(R)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=PS(i,a,e);Dv(i,N);break e}}i=i.return}while(i!==null)}KS(n)}catch(D){e=D,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function YS(){var t=dc.current;return dc.current=cc,t===null?cc:t}function Ym(){(at===0||at===3||at===2)&&(at=4),pt===null||!(Ms&268435455)&&!(nd&268435455)||Pr(pt,Et)}function pc(t,e){var n=ye;ye|=2;var r=YS();(pt!==t||Et!==e)&&(tr=null,As(t,e));do try{m2();break}catch(s){GS(t,s)}while(!0);if(Rm(),ye=n,dc.current=r,nt!==null)throw Error(H(261));return pt=null,Et=0,at}function m2(){for(;nt!==null;)WS(nt)}function g2(){for(;nt!==null&&!UI();)WS(nt)}function WS(t){var e=XS(t.alternate,t,Zt);t.memoizedProps=t.pendingProps,e===null?KS(t):nt=e,Bm.current=null}function KS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=u2(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,nt=null;return}}else if(n=l2(n,e,Zt),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);at===0&&(at=5)}function ws(t,e,n){var r=Te,s=wn.transition;try{wn.transition=null,Te=1,y2(t,e,n,r)}finally{wn.transition=s,Te=r}return null}function y2(t,e,n,r){do Li();while(Nr!==null);if(ye&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(XI(t,i),t===pt&&(nt=pt=null,Et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ru||(ru=!0,JS(Ku,function(){return Li(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=wn.transition,wn.transition=null;var o=Te;Te=1;var a=ye;ye|=4,Bm.current=null,d2(t,n),zS(n,t),LC(Gf),Xu=!!qf,Gf=qf=null,t.current=n,h2(n),BI(),ye=a,Te=o,wn.transition=i}else t.current=n;if(ru&&(ru=!1,Nr=t,fc=s),i=t.pendingLanes,i===0&&($r=null),qI(n.stateNode),Yt(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(hc)throw hc=!1,t=hp,hp=null,t;return fc&1&&t.tag!==0&&Li(),i=t.pendingLanes,i&1?t===fp?ma++:(ma=0,fp=t):ma=0,cs(),null}function Li(){if(Nr!==null){var t=Rx(fc),e=wn.transition,n=Te;try{if(wn.transition=null,Te=16>t?16:t,Nr===null)var r=!1;else{if(t=Nr,Nr=null,fc=0,ye&6)throw Error(H(331));var s=ye;for(ye|=4,K=t.current;K!==null;){var i=K,o=i.child;if(K.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(K=c;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:fa(8,h,i)}var f=h.child;if(f!==null)f.return=h,K=f;else for(;K!==null;){h=K;var m=h.sibling,y=h.return;if(jS(h),h===c){K=null;break}if(m!==null){m.return=y,K=m;break}K=y}}}var b=i.alternate;if(b!==null){var I=b.child;if(I!==null){b.child=null;do{var P=I.sibling;I.sibling=null,I=P}while(I!==null)}}K=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,K=o;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fa(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,K=_;break e}K=i.return}}var x=t.current;for(K=x;K!==null;){o=K;var R=o.child;if(o.subtreeFlags&2064&&R!==null)R.return=o,K=R;else e:for(o=x;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:td(9,a)}}catch(D){We(a,a.return,D)}if(a===o){K=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,K=N;break e}K=a.return}}if(ye=s,cs(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(Yc,t)}catch{}r=!0}return r}finally{Te=n,wn.transition=e}}return!1}function ew(t,e,n){e=Qi(n,e),e=RS(t,e,1),t=Fr(t,e,1),e=$t(),t!==null&&(ol(t,1,e),Yt(t,e))}function We(t,e,n){if(t.tag===3)ew(t,t,n);else for(;e!==null;){if(e.tag===3){ew(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($r===null||!$r.has(r))){t=Qi(n,t),t=PS(e,t,1),e=Fr(e,t,1),t=$t(),e!==null&&(ol(e,1,t),Yt(e,t));break}}e=e.return}}function v2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$t(),t.pingedLanes|=t.suspendedLanes&n,pt===t&&(Et&n)===n&&(at===4||at===3&&(Et&130023424)===Et&&500>Xe()-Hm?As(t,0):zm|=n),Yt(t,e)}function QS(t,e){e===0&&(t.mode&1?(e=Yl,Yl<<=1,!(Yl&130023424)&&(Yl=4194304)):e=1);var n=$t();t=hr(t,e),t!==null&&(ol(t,e,n),Yt(t,n))}function w2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),QS(t,n)}function _2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),QS(t,n)}var XS;XS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)Ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ht=!1,a2(t,e,n);Ht=!!(t.flags&131072)}else Ht=!1,je&&e.flags&1048576&&tS(e,sc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ru(t,e),t=e.pendingProps;var s=Gi(e,Ot.current);Vi(e,n),s=Lm(null,e,r,t,s,n);var i=Fm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gt(r)?(i=!0,nc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Nm(e),s.updater=ed,e.stateNode=s,s._reactInternals=e,tp(e,r,t,n),e=sp(null,e,r,!0,i,n)):(e.tag=0,je&&i&&bm(e),Ft(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ru(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=x2(r),t=Pn(r,t),s){case 0:e=rp(null,e,r,t,n);break e;case 1:e=Hv(null,e,r,t,n);break e;case 11:e=Bv(null,e,r,t,n);break e;case 14:e=zv(null,e,r,Pn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),rp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),Hv(t,e,r,s,n);case 3:e:{if(OS(e),t===null)throw Error(H(387));r=e.pendingProps,i=e.memoizedState,s=i.element,aS(t,e),ac(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Qi(Error(H(423)),e),e=qv(t,e,r,n,s);break e}else if(r!==s){s=Qi(Error(H(424)),e),e=qv(t,e,r,n,s);break e}else for(tn=Lr(e.stateNode.containerInfo.firstChild),nn=e,je=!0,Nn=null,n=iS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yi(),r===s){e=fr(t,e,n);break e}Ft(t,e,r,n)}e=e.child}return e;case 5:return lS(e),t===null&&Jf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Yf(r,s)?o=null:i!==null&&Yf(r,i)&&(e.flags|=32),DS(t,e),Ft(t,e,o,n),e.child;case 6:return t===null&&Jf(e),null;case 13:return MS(t,e,n);case 4:return Dm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wi(e,null,r,n):Ft(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),Bv(t,e,r,s,n);case 7:return Ft(t,e,e.pendingProps,n),e.child;case 8:return Ft(t,e,e.pendingProps.children,n),e.child;case 12:return Ft(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ne(ic,r._currentValue),r._currentValue=o,i!==null)if(Vn(i.value,o)){if(i.children===s.children&&!qt.current){e=fr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=ar(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Zf(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Zf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ft(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Vi(e,n),s=_n(s),r=r(s),e.flags|=1,Ft(t,e,r,n),e.child;case 14:return r=e.type,s=Pn(r,e.pendingProps),s=Pn(r.type,s),zv(t,e,r,s,n);case 15:return kS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),Ru(t,e),e.tag=1,Gt(r)?(t=!0,nc(e)):t=!1,Vi(e,n),CS(e,r,s),tp(e,r,s,n),sp(null,e,r,!0,t,n);case 19:return VS(t,e,n);case 22:return NS(t,e,n)}throw Error(H(156,e.tag))};function JS(t,e){return bx(t,e)}function E2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,e,n,r){return new E2(t,e,n,r)}function Wm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function x2(t){if(typeof t=="function")return Wm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fm)return 11;if(t===pm)return 14}return 2}function Ur(t,e){var n=t.alternate;return n===null?(n=yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Wm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _i:return Is(n.children,s,i,e);case hm:o=8,s|=8;break;case bf:return t=yn(12,n,e,s|2),t.elementType=bf,t.lanes=i,t;case Af:return t=yn(13,n,e,s),t.elementType=Af,t.lanes=i,t;case If:return t=yn(19,n,e,s),t.elementType=If,t.lanes=i,t;case lx:return rd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ox:o=10;break e;case ax:o=9;break e;case fm:o=11;break e;case pm:o=14;break e;case Ir:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=yn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Is(t,e,n,r){return t=yn(7,t,r,e),t.lanes=n,t}function rd(t,e,n,r){return t=yn(22,t,r,e),t.elementType=lx,t.lanes=n,t.stateNode={isHidden:!1},t}function Wh(t,e,n){return t=yn(6,t,null,e),t.lanes=n,t}function Kh(t,e,n){return e=yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function S2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rh(0),this.expirationTimes=Rh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Km(t,e,n,r,s,i,o,a,u){return t=new S2(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=yn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nm(i),t}function T2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ZS(t){if(!t)return Xr;t=t._reactInternals;e:{if(qs(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Gt(n))return Zx(t,n,e)}return e}function e1(t,e,n,r,s,i,o,a,u){return t=Km(n,r,!0,t,s,i,o,a,u),t.context=ZS(null),n=t.current,r=$t(),s=jr(n),i=ar(r,s),i.callback=e??null,Fr(n,i,s),t.current.lanes=s,ol(t,s,r),Yt(t,r),t}function sd(t,e,n,r){var s=e.current,i=$t(),o=jr(s);return n=ZS(n),e.context===null?e.context=n:e.pendingContext=n,e=ar(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fr(s,e,o),t!==null&&(Mn(t,s,o,i),Au(t,s,o)),o}function mc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qm(t,e){tw(t,e),(t=t.alternate)&&tw(t,e)}function b2(){return null}var t1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xm(t){this._internalRoot=t}id.prototype.render=Xm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));sd(t,e,null,null)};id.prototype.unmount=Xm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vs(function(){sd(null,t,null,null)}),e[dr]=null}};function id(t){this._internalRoot=t}id.prototype.unstable_scheduleHydration=function(t){if(t){var e=Nx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rr.length&&e!==0&&e<Rr[n].priority;n++);Rr.splice(n,0,t),n===0&&Ox(t)}};function Jm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function od(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nw(){}function A2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=mc(o);i.call(c)}}var o=e1(e,r,t,0,null,!1,!1,"",nw);return t._reactRootContainer=o,t[dr]=o.current,Oa(t.nodeType===8?t.parentNode:t),Vs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=mc(u);a.call(c)}}var u=Km(t,0,!1,null,null,!1,!1,"",nw);return t._reactRootContainer=u,t[dr]=u.current,Oa(t.nodeType===8?t.parentNode:t),Vs(function(){sd(e,u,n,r)}),u}function ad(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=mc(o);a.call(u)}}sd(e,o,t,s)}else o=A2(n,e,t,s,r);return mc(o)}Px=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jo(e.pendingLanes);n!==0&&(ym(e,n|1),Yt(e,Xe()),!(ye&6)&&(Xi=Xe()+500,cs()))}break;case 13:Vs(function(){var r=hr(t,1);if(r!==null){var s=$t();Mn(r,t,1,s)}}),Qm(t,1)}};vm=function(t){if(t.tag===13){var e=hr(t,134217728);if(e!==null){var n=$t();Mn(e,t,134217728,n)}Qm(t,134217728)}};kx=function(t){if(t.tag===13){var e=jr(t),n=hr(t,e);if(n!==null){var r=$t();Mn(n,t,e,r)}Qm(t,e)}};Nx=function(){return Te};Dx=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};Lf=function(t,e,n){switch(e){case"input":if(Pf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Xc(r);if(!s)throw Error(H(90));cx(r),Pf(r,s)}}}break;case"textarea":hx(t,n);break;case"select":e=n.value,e!=null&&Ni(t,!!n.multiple,e,!1)}};wx=qm;_x=Vs;var I2={usingClientEntryPoint:!1,Events:[ll,Ti,Xc,yx,vx,qm]},Ho={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C2={bundleType:Ho.bundleType,version:Ho.version,rendererPackageName:Ho.rendererPackageName,rendererConfig:Ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Sx(t),t===null?null:t.stateNode},findFiberByHostInstance:Ho.findFiberByHostInstance||b2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{Yc=su.inject(C2),Gn=su}catch{}}un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I2;un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jm(e))throw Error(H(200));return T2(t,e,null,n)};un.createRoot=function(t,e){if(!Jm(t))throw Error(H(299));var n=!1,r="",s=t1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Km(t,1,!1,null,null,n,!1,r,s),t[dr]=e.current,Oa(t.nodeType===8?t.parentNode:t),new Xm(e)};un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=Sx(e),t=t===null?null:t.stateNode,t};un.flushSync=function(t){return Vs(t)};un.hydrate=function(t,e,n){if(!od(e))throw Error(H(200));return ad(null,t,e,!0,n)};un.hydrateRoot=function(t,e,n){if(!Jm(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=t1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=e1(e,null,t,1,n??null,s,!1,i,o),t[dr]=e.current,Oa(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new id(e)};un.render=function(t,e,n){if(!od(e))throw Error(H(200));return ad(null,t,e,!1,n)};un.unmountComponentAtNode=function(t){if(!od(t))throw Error(H(40));return t._reactRootContainer?(Vs(function(){ad(null,null,t,!1,function(){t._reactRootContainer=null,t[dr]=null})}),!0):!1};un.unstable_batchedUpdates=qm;un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!od(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return ad(t,e,n,!1,r)};un.version="18.3.1-next-f1338f8080-20240426";function n1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n1)}catch(t){console.error(t)}}n1(),nx.exports=un;var R2=nx.exports,rw=R2;Sf.createRoot=rw.createRoot,Sf.hydrateRoot=rw.hydrateRoot;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),it=(t,e)=>{const n=z.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...c},h)=>z.createElement("svg",{ref:h,...P2,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${k2(t)}`,a].join(" "),...c},[...e.map(([f,m])=>z.createElement(f,m)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=it("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=it("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=it("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=it("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=it("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=it("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=it("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=it("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=it("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=it("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=it("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=it("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=it("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=it("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=it("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=it("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=it("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=it("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=it("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=it("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var sw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Q2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},i1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|c>>6,y=c&63;u||(y=64,o||(m=64)),r.push(n[h],n[f],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Q2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new X2;const m=i<<2|a>>4;if(r.push(m),c!==64){const y=a<<4&240|c>>2;if(r.push(y),f!==64){const b=c<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class X2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J2=function(t){const e=s1(t);return i1.encodeByteArray(e,!0)},gc=function(t){return J2(t).replace(/\./g,"")},Z2=function(t){try{return i1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=()=>eR().__FIREBASE_DEFAULTS__,nR=()=>{if(typeof process>"u"||typeof sw>"u")return;const t=sw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Z2(t[1]);return e&&JSON.parse(e)},eg=()=>{try{return tR()||nR()||rR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sR=t=>{var e,n;return(n=(e=eg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},iR=t=>{const e=sR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},o1=()=>{var t;return(t=eg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gc(JSON.stringify(n)),gc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uR(){var t;const e=(t=eg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cR(){return!uR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dR(){try{return typeof indexedDB=="object"}catch{return!1}}function hR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="FirebaseError";class fo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fR,Object.setPrototypeOf(this,fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,a1.prototype.create)}}class a1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?pR(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new fo(s,a,r)}}function pR(t,e){return t.replace(mR,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const mR=/\{\$([^}]+)}/g;function gp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(iw(i)&&iw(o)){if(!gp(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function iw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(t){return t&&t._delegate?t._delegate:t}class za{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vR(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yR(t){return t===_s?void 0:t}function vR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const _R={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},ER=ge.INFO,xR={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},SR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=xR[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class l1{constructor(e){this.name=e,this._logLevel=ER,this._logHandler=SR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_R[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const TR=(t,e)=>e.some(n=>t instanceof n);let ow,aw;function bR(){return ow||(ow=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AR(){return aw||(aw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u1=new WeakMap,yp=new WeakMap,c1=new WeakMap,Qh=new WeakMap,tg=new WeakMap;function IR(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Br(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&u1.set(n,t)}).catch(()=>{}),tg.set(e,t),e}function CR(t){if(yp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});yp.set(t,e)}let vp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||c1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Br(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RR(t){vp=t(vp)}function PR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xh(this),e,...n);return c1.set(r,e.sort?e.sort():[e]),Br(r)}:AR().includes(t)?function(...e){return t.apply(Xh(this),e),Br(u1.get(this))}:function(...e){return Br(t.apply(Xh(this),e))}}function kR(t){return typeof t=="function"?PR(t):(t instanceof IDBTransaction&&CR(t),TR(t,bR())?new Proxy(t,vp):t)}function Br(t){if(t instanceof IDBRequest)return IR(t);if(Qh.has(t))return Qh.get(t);const e=kR(t);return e!==t&&(Qh.set(t,e),tg.set(e,t)),e}const Xh=t=>tg.get(t);function NR(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Br(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Br(o.result),u.oldVersion,u.newVersion,Br(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const DR=["get","getKey","getAll","getAllKeys","count"],OR=["put","add","delete","clear"],Jh=new Map;function lw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jh.get(e))return Jh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=OR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||DR.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return Jh.set(e,i),i}RR(t=>({...t,get:(e,n,r)=>lw(e,n)||t.get(e,n,r),has:(e,n)=>!!lw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wp="@firebase/app",uw="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new l1("@firebase/app"),LR="@firebase/app-compat",FR="@firebase/analytics-compat",$R="@firebase/analytics",jR="@firebase/app-check-compat",UR="@firebase/app-check",BR="@firebase/auth",zR="@firebase/auth-compat",HR="@firebase/database",qR="@firebase/data-connect",GR="@firebase/database-compat",YR="@firebase/functions",WR="@firebase/functions-compat",KR="@firebase/installations",QR="@firebase/installations-compat",XR="@firebase/messaging",JR="@firebase/messaging-compat",ZR="@firebase/performance",eP="@firebase/performance-compat",tP="@firebase/remote-config",nP="@firebase/remote-config-compat",rP="@firebase/storage",sP="@firebase/storage-compat",iP="@firebase/firestore",oP="@firebase/vertexai",aP="@firebase/firestore-compat",lP="firebase",uP="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="[DEFAULT]",cP={[wp]:"fire-core",[LR]:"fire-core-compat",[$R]:"fire-analytics",[FR]:"fire-analytics-compat",[UR]:"fire-app-check",[jR]:"fire-app-check-compat",[BR]:"fire-auth",[zR]:"fire-auth-compat",[HR]:"fire-rtdb",[qR]:"fire-data-connect",[GR]:"fire-rtdb-compat",[YR]:"fire-fn",[WR]:"fire-fn-compat",[KR]:"fire-iid",[QR]:"fire-iid-compat",[XR]:"fire-fcm",[JR]:"fire-fcm-compat",[ZR]:"fire-perf",[eP]:"fire-perf-compat",[tP]:"fire-rc",[nP]:"fire-rc-compat",[rP]:"fire-gcs",[sP]:"fire-gcs-compat",[iP]:"fire-fst",[aP]:"fire-fst-compat",[oP]:"fire-vertex","fire-js":"fire-js",[lP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new Map,dP=new Map,Ep=new Map;function cw(t,e){try{t.container.addComponent(e)}catch(n){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vc(t){const e=t.name;if(Ep.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;Ep.set(e,t);for(const n of yc.values())cw(n,t);for(const n of dP.values())cw(n,t);return!0}function hP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fP(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new a1("app","Firebase",pP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=uP;function d1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_p,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw zr.create("bad-app-name",{appName:String(s)});if(n||(n=o1()),!n)throw zr.create("no-options");const i=yc.get(s);if(i){if(gp(n,i.options)&&gp(r,i.config))return i;throw zr.create("duplicate-app",{appName:s})}const o=new wR(s);for(const u of Ep.values())o.addComponent(u);const a=new mP(n,r,o);return yc.set(s,a),a}function yP(t=_p){const e=yc.get(t);if(!e&&t===_p&&o1())return d1();if(!e)throw zr.create("no-app",{appName:t});return e}function Fi(t,e,n){var r;let s=(r=cP[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(a.join(" "));return}vc(new za(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="firebase-heartbeat-database",wP=1,Ha="firebase-heartbeat-store";let Zh=null;function h1(){return Zh||(Zh=NR(vP,wP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ha)}catch(n){console.warn(n)}}}}).catch(t=>{throw zr.create("idb-open",{originalErrorMessage:t.message})})),Zh}async function _P(t){try{const n=(await h1()).transaction(Ha),r=await n.objectStore(Ha).get(f1(t));return await n.done,r}catch(e){if(e instanceof fo)pr.warn(e.message);else{const n=zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pr.warn(n.message)}}}async function dw(t,e){try{const r=(await h1()).transaction(Ha,"readwrite");await r.objectStore(Ha).put(e,f1(t)),await r.done}catch(n){if(n instanceof fo)pr.warn(n.message);else{const r=zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pr.warn(r.message)}}}function f1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=1024,xP=30;class SP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=hw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>xP){const o=AP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){pr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hw(),{heartbeatsToSend:r,unsentEntries:s}=TP(this._heartbeatsCache.heartbeats),i=gc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return pr.warn(n),""}}}function hw(){return new Date().toISOString().substring(0,10)}function TP(t,e=EP){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),fw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),fw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dR()?hR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _P(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return dw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return dw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function fw(t){return gc(JSON.stringify({version:2,heartbeats:t})).length}function AP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t){vc(new za("platform-logger",e=>new MR(e),"PRIVATE")),vc(new za("heartbeat",e=>new SP(e),"PRIVATE")),Fi(wp,uw,t),Fi(wp,uw,"esm2017"),Fi("fire-js","")}IP("");var CP="firebase",RP="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fi(CP,RP,"app");var pw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hr,p1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,E){function C(){}C.prototype=E.prototype,w.D=E.prototype,w.prototype=new C,w.prototype.constructor=w,w.C=function(p,T,k){for(var A=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)A[Y-2]=arguments[Y];return E.prototype[T].apply(p,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(w,E,C){C||(C=0);var p=Array(16);if(typeof E=="string")for(var T=0;16>T;++T)p[T]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(T=0;16>T;++T)p[T]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=w.g[0],C=w.g[1],T=w.g[2];var k=w.g[3],A=E+(k^C&(T^k))+p[0]+3614090360&4294967295;E=C+(A<<7&4294967295|A>>>25),A=k+(T^E&(C^T))+p[1]+3905402710&4294967295,k=E+(A<<12&4294967295|A>>>20),A=T+(C^k&(E^C))+p[2]+606105819&4294967295,T=k+(A<<17&4294967295|A>>>15),A=C+(E^T&(k^E))+p[3]+3250441966&4294967295,C=T+(A<<22&4294967295|A>>>10),A=E+(k^C&(T^k))+p[4]+4118548399&4294967295,E=C+(A<<7&4294967295|A>>>25),A=k+(T^E&(C^T))+p[5]+1200080426&4294967295,k=E+(A<<12&4294967295|A>>>20),A=T+(C^k&(E^C))+p[6]+2821735955&4294967295,T=k+(A<<17&4294967295|A>>>15),A=C+(E^T&(k^E))+p[7]+4249261313&4294967295,C=T+(A<<22&4294967295|A>>>10),A=E+(k^C&(T^k))+p[8]+1770035416&4294967295,E=C+(A<<7&4294967295|A>>>25),A=k+(T^E&(C^T))+p[9]+2336552879&4294967295,k=E+(A<<12&4294967295|A>>>20),A=T+(C^k&(E^C))+p[10]+4294925233&4294967295,T=k+(A<<17&4294967295|A>>>15),A=C+(E^T&(k^E))+p[11]+2304563134&4294967295,C=T+(A<<22&4294967295|A>>>10),A=E+(k^C&(T^k))+p[12]+1804603682&4294967295,E=C+(A<<7&4294967295|A>>>25),A=k+(T^E&(C^T))+p[13]+4254626195&4294967295,k=E+(A<<12&4294967295|A>>>20),A=T+(C^k&(E^C))+p[14]+2792965006&4294967295,T=k+(A<<17&4294967295|A>>>15),A=C+(E^T&(k^E))+p[15]+1236535329&4294967295,C=T+(A<<22&4294967295|A>>>10),A=E+(T^k&(C^T))+p[1]+4129170786&4294967295,E=C+(A<<5&4294967295|A>>>27),A=k+(C^T&(E^C))+p[6]+3225465664&4294967295,k=E+(A<<9&4294967295|A>>>23),A=T+(E^C&(k^E))+p[11]+643717713&4294967295,T=k+(A<<14&4294967295|A>>>18),A=C+(k^E&(T^k))+p[0]+3921069994&4294967295,C=T+(A<<20&4294967295|A>>>12),A=E+(T^k&(C^T))+p[5]+3593408605&4294967295,E=C+(A<<5&4294967295|A>>>27),A=k+(C^T&(E^C))+p[10]+38016083&4294967295,k=E+(A<<9&4294967295|A>>>23),A=T+(E^C&(k^E))+p[15]+3634488961&4294967295,T=k+(A<<14&4294967295|A>>>18),A=C+(k^E&(T^k))+p[4]+3889429448&4294967295,C=T+(A<<20&4294967295|A>>>12),A=E+(T^k&(C^T))+p[9]+568446438&4294967295,E=C+(A<<5&4294967295|A>>>27),A=k+(C^T&(E^C))+p[14]+3275163606&4294967295,k=E+(A<<9&4294967295|A>>>23),A=T+(E^C&(k^E))+p[3]+4107603335&4294967295,T=k+(A<<14&4294967295|A>>>18),A=C+(k^E&(T^k))+p[8]+1163531501&4294967295,C=T+(A<<20&4294967295|A>>>12),A=E+(T^k&(C^T))+p[13]+2850285829&4294967295,E=C+(A<<5&4294967295|A>>>27),A=k+(C^T&(E^C))+p[2]+4243563512&4294967295,k=E+(A<<9&4294967295|A>>>23),A=T+(E^C&(k^E))+p[7]+1735328473&4294967295,T=k+(A<<14&4294967295|A>>>18),A=C+(k^E&(T^k))+p[12]+2368359562&4294967295,C=T+(A<<20&4294967295|A>>>12),A=E+(C^T^k)+p[5]+4294588738&4294967295,E=C+(A<<4&4294967295|A>>>28),A=k+(E^C^T)+p[8]+2272392833&4294967295,k=E+(A<<11&4294967295|A>>>21),A=T+(k^E^C)+p[11]+1839030562&4294967295,T=k+(A<<16&4294967295|A>>>16),A=C+(T^k^E)+p[14]+4259657740&4294967295,C=T+(A<<23&4294967295|A>>>9),A=E+(C^T^k)+p[1]+2763975236&4294967295,E=C+(A<<4&4294967295|A>>>28),A=k+(E^C^T)+p[4]+1272893353&4294967295,k=E+(A<<11&4294967295|A>>>21),A=T+(k^E^C)+p[7]+4139469664&4294967295,T=k+(A<<16&4294967295|A>>>16),A=C+(T^k^E)+p[10]+3200236656&4294967295,C=T+(A<<23&4294967295|A>>>9),A=E+(C^T^k)+p[13]+681279174&4294967295,E=C+(A<<4&4294967295|A>>>28),A=k+(E^C^T)+p[0]+3936430074&4294967295,k=E+(A<<11&4294967295|A>>>21),A=T+(k^E^C)+p[3]+3572445317&4294967295,T=k+(A<<16&4294967295|A>>>16),A=C+(T^k^E)+p[6]+76029189&4294967295,C=T+(A<<23&4294967295|A>>>9),A=E+(C^T^k)+p[9]+3654602809&4294967295,E=C+(A<<4&4294967295|A>>>28),A=k+(E^C^T)+p[12]+3873151461&4294967295,k=E+(A<<11&4294967295|A>>>21),A=T+(k^E^C)+p[15]+530742520&4294967295,T=k+(A<<16&4294967295|A>>>16),A=C+(T^k^E)+p[2]+3299628645&4294967295,C=T+(A<<23&4294967295|A>>>9),A=E+(T^(C|~k))+p[0]+4096336452&4294967295,E=C+(A<<6&4294967295|A>>>26),A=k+(C^(E|~T))+p[7]+1126891415&4294967295,k=E+(A<<10&4294967295|A>>>22),A=T+(E^(k|~C))+p[14]+2878612391&4294967295,T=k+(A<<15&4294967295|A>>>17),A=C+(k^(T|~E))+p[5]+4237533241&4294967295,C=T+(A<<21&4294967295|A>>>11),A=E+(T^(C|~k))+p[12]+1700485571&4294967295,E=C+(A<<6&4294967295|A>>>26),A=k+(C^(E|~T))+p[3]+2399980690&4294967295,k=E+(A<<10&4294967295|A>>>22),A=T+(E^(k|~C))+p[10]+4293915773&4294967295,T=k+(A<<15&4294967295|A>>>17),A=C+(k^(T|~E))+p[1]+2240044497&4294967295,C=T+(A<<21&4294967295|A>>>11),A=E+(T^(C|~k))+p[8]+1873313359&4294967295,E=C+(A<<6&4294967295|A>>>26),A=k+(C^(E|~T))+p[15]+4264355552&4294967295,k=E+(A<<10&4294967295|A>>>22),A=T+(E^(k|~C))+p[6]+2734768916&4294967295,T=k+(A<<15&4294967295|A>>>17),A=C+(k^(T|~E))+p[13]+1309151649&4294967295,C=T+(A<<21&4294967295|A>>>11),A=E+(T^(C|~k))+p[4]+4149444226&4294967295,E=C+(A<<6&4294967295|A>>>26),A=k+(C^(E|~T))+p[11]+3174756917&4294967295,k=E+(A<<10&4294967295|A>>>22),A=T+(E^(k|~C))+p[2]+718787259&4294967295,T=k+(A<<15&4294967295|A>>>17),A=C+(k^(T|~E))+p[9]+3951481745&4294967295,w.g[0]=w.g[0]+E&4294967295,w.g[1]=w.g[1]+(T+(A<<21&4294967295|A>>>11))&4294967295,w.g[2]=w.g[2]+T&4294967295,w.g[3]=w.g[3]+k&4294967295}r.prototype.u=function(w,E){E===void 0&&(E=w.length);for(var C=E-this.blockSize,p=this.B,T=this.h,k=0;k<E;){if(T==0)for(;k<=C;)s(this,w,k),k+=this.blockSize;if(typeof w=="string"){for(;k<E;)if(p[T++]=w.charCodeAt(k++),T==this.blockSize){s(this,p),T=0;break}}else for(;k<E;)if(p[T++]=w[k++],T==this.blockSize){s(this,p),T=0;break}}this.h=T,this.o+=E},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var E=1;E<w.length-8;++E)w[E]=0;var C=8*this.o;for(E=w.length-8;E<w.length;++E)w[E]=C&255,C/=256;for(this.u(w),w=Array(16),E=C=0;4>E;++E)for(var p=0;32>p;p+=8)w[C++]=this.g[E]>>>p&255;return w};function i(w,E){var C=a;return Object.prototype.hasOwnProperty.call(C,w)?C[w]:C[w]=E(w)}function o(w,E){this.h=E;for(var C=[],p=!0,T=w.length-1;0<=T;T--){var k=w[T]|0;p&&k==E||(C[T]=k,p=!1)}this.g=C}var a={};function u(w){return-128<=w&&128>w?i(w,function(E){return new o([E|0],0>E?-1:0)}):new o([w|0],0>w?-1:0)}function c(w){if(isNaN(w)||!isFinite(w))return f;if(0>w)return P(c(-w));for(var E=[],C=1,p=0;w>=C;p++)E[p]=w/C|0,C*=4294967296;return new o(E,0)}function h(w,E){if(w.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(w.charAt(0)=="-")return P(h(w.substring(1),E));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(E,8)),p=f,T=0;T<w.length;T+=8){var k=Math.min(8,w.length-T),A=parseInt(w.substring(T,T+k),E);8>k?(k=c(Math.pow(E,k)),p=p.j(k).add(c(A))):(p=p.j(C),p=p.add(c(A)))}return p}var f=u(0),m=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(I(this))return-P(this).m();for(var w=0,E=1,C=0;C<this.g.length;C++){var p=this.i(C);w+=(0<=p?p:4294967296+p)*E,E*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(b(this))return"0";if(I(this))return"-"+P(this).toString(w);for(var E=c(Math.pow(w,6)),C=this,p="";;){var T=N(C,E).g;C=_(C,T.j(E));var k=((0<C.g.length?C.g[0]:C.h)>>>0).toString(w);if(C=T,b(C))return k+p;for(;6>k.length;)k="0"+k;p=k+p}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function b(w){if(w.h!=0)return!1;for(var E=0;E<w.g.length;E++)if(w.g[E]!=0)return!1;return!0}function I(w){return w.h==-1}t.l=function(w){return w=_(this,w),I(w)?-1:b(w)?0:1};function P(w){for(var E=w.g.length,C=[],p=0;p<E;p++)C[p]=~w.g[p];return new o(C,~w.h).add(m)}t.abs=function(){return I(this)?P(this):this},t.add=function(w){for(var E=Math.max(this.g.length,w.g.length),C=[],p=0,T=0;T<=E;T++){var k=p+(this.i(T)&65535)+(w.i(T)&65535),A=(k>>>16)+(this.i(T)>>>16)+(w.i(T)>>>16);p=A>>>16,k&=65535,A&=65535,C[T]=A<<16|k}return new o(C,C[C.length-1]&-2147483648?-1:0)};function _(w,E){return w.add(P(E))}t.j=function(w){if(b(this)||b(w))return f;if(I(this))return I(w)?P(this).j(P(w)):P(P(this).j(w));if(I(w))return P(this.j(P(w)));if(0>this.l(y)&&0>w.l(y))return c(this.m()*w.m());for(var E=this.g.length+w.g.length,C=[],p=0;p<2*E;p++)C[p]=0;for(p=0;p<this.g.length;p++)for(var T=0;T<w.g.length;T++){var k=this.i(p)>>>16,A=this.i(p)&65535,Y=w.i(T)>>>16,ee=w.i(T)&65535;C[2*p+2*T]+=A*ee,x(C,2*p+2*T),C[2*p+2*T+1]+=k*ee,x(C,2*p+2*T+1),C[2*p+2*T+1]+=A*Y,x(C,2*p+2*T+1),C[2*p+2*T+2]+=k*Y,x(C,2*p+2*T+2)}for(p=0;p<E;p++)C[p]=C[2*p+1]<<16|C[2*p];for(p=E;p<2*E;p++)C[p]=0;return new o(C,0)};function x(w,E){for(;(w[E]&65535)!=w[E];)w[E+1]+=w[E]>>>16,w[E]&=65535,E++}function R(w,E){this.g=w,this.h=E}function N(w,E){if(b(E))throw Error("division by zero");if(b(w))return new R(f,f);if(I(w))return E=N(P(w),E),new R(P(E.g),P(E.h));if(I(E))return E=N(w,P(E)),new R(P(E.g),E.h);if(30<w.g.length){if(I(w)||I(E))throw Error("slowDivide_ only works with positive integers.");for(var C=m,p=E;0>=p.l(w);)C=D(C),p=D(p);var T=O(C,1),k=O(p,1);for(p=O(p,2),C=O(C,2);!b(p);){var A=k.add(p);0>=A.l(w)&&(T=T.add(C),k=A),p=O(p,1),C=O(C,1)}return E=_(w,T.j(E)),new R(T,E)}for(T=f;0<=w.l(E);){for(C=Math.max(1,Math.floor(w.m()/E.m())),p=Math.ceil(Math.log(C)/Math.LN2),p=48>=p?1:Math.pow(2,p-48),k=c(C),A=k.j(E);I(A)||0<A.l(w);)C-=p,k=c(C),A=k.j(E);b(k)&&(k=m),T=T.add(k),w=_(w,A)}return new R(T,w)}t.A=function(w){return N(this,w).h},t.and=function(w){for(var E=Math.max(this.g.length,w.g.length),C=[],p=0;p<E;p++)C[p]=this.i(p)&w.i(p);return new o(C,this.h&w.h)},t.or=function(w){for(var E=Math.max(this.g.length,w.g.length),C=[],p=0;p<E;p++)C[p]=this.i(p)|w.i(p);return new o(C,this.h|w.h)},t.xor=function(w){for(var E=Math.max(this.g.length,w.g.length),C=[],p=0;p<E;p++)C[p]=this.i(p)^w.i(p);return new o(C,this.h^w.h)};function D(w){for(var E=w.g.length+1,C=[],p=0;p<E;p++)C[p]=w.i(p)<<1|w.i(p-1)>>>31;return new o(C,w.h)}function O(w,E){var C=E>>5;E%=32;for(var p=w.g.length-C,T=[],k=0;k<p;k++)T[k]=0<E?w.i(k+C)>>>E|w.i(k+C+1)<<32-E:w.i(k+C);return new o(T,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,p1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Hr=o}).apply(typeof pw<"u"?pw:typeof self<"u"?self:typeof window<"u"?window:{});var iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var m1,ea,g1,Du,xp,y1,v1,w1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,g){return l==Array.prototype||l==Object.prototype||(l[d]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof iu=="object"&&iu];for(var d=0;d<l.length;++d){var g=l[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(l,d){if(d)e:{var g=r;l=l.split(".");for(var S=0;S<l.length-1;S++){var M=l[S];if(!(M in g))break e;g=g[M]}l=l[l.length-1],S=g[l],d=d(S),d!=S&&d!=null&&e(g,l,{configurable:!0,writable:!0,value:d})}}function i(l,d){l instanceof String&&(l+="");var g=0,S=!1,M={next:function(){if(!S&&g<l.length){var V=g++;return{value:d(V,l[V]),done:!1}}return S=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(l){return l||function(){return i(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function c(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,g){return l.call.apply(l.bind,arguments)}function f(l,d,g){if(!l)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,S),l.apply(d,M)}}return function(){return l.apply(d,arguments)}}function m(l,d,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function y(l,d){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),l.apply(this,S)}}function b(l,d){function g(){}g.prototype=d.prototype,l.aa=d.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(S,M,V){for(var G=Array(arguments.length-2),be=2;be<arguments.length;be++)G[be-2]=arguments[be];return d.prototype[M].apply(S,G)}}function I(l){const d=l.length;if(0<d){const g=Array(d);for(let S=0;S<d;S++)g[S]=l[S];return g}return[]}function P(l,d){for(let g=1;g<arguments.length;g++){const S=arguments[g];if(u(S)){const M=l.length||0,V=S.length||0;l.length=M+V;for(let G=0;G<V;G++)l[M+G]=S[G]}else l.push(S)}}class _{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function x(l){return/^[\s\xa0]*$/.test(l)}function R(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function N(l){return N[" "](l),l}N[" "]=function(){};var D=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function O(l,d,g){for(const S in l)d.call(g,l[S],S,l)}function w(l,d){for(const g in l)d.call(void 0,l[g],g,l)}function E(l){const d={};for(const g in l)d[g]=l[g];return d}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function p(l,d){let g,S;for(let M=1;M<arguments.length;M++){S=arguments[M];for(g in S)l[g]=S[g];for(let V=0;V<C.length;V++)g=C[V],Object.prototype.hasOwnProperty.call(S,g)&&(l[g]=S[g])}}function T(l){var d=1;l=l.split(":");const g=[];for(;0<d&&l.length;)g.push(l.shift()),d--;return l.length&&g.push(l.join(":")),g}function k(l){a.setTimeout(()=>{throw l},0)}function A(){var l=Z;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Y{constructor(){this.h=this.g=null}add(d,g){const S=ee.get();S.set(d,g),this.h?this.h.next=S:this.g=S,this.h=S}}var ee=new _(()=>new ve,l=>l.reset());class ve{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,U=!1,Z=new Y,te=()=>{const l=a.Promise.resolve(void 0);xe=()=>{l.then(Pe)}};var Pe=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(g){k(g)}var d=ee;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}U=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,d),a.removeEventListener("test",g,d)}catch{}return l}();function ke(l,d){if(Q.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,S=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(D){e:{try{N(d.nodeName);var M=!0;break e}catch{}M=!1}M||(d=null)}}else g=="mouseover"?d=l.fromElement:g=="mouseout"&&(d=l.toElement);this.relatedTarget=d,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ze[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ke.aa.h.call(this)}}b(ke,Q);var Ze={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ct="closure_listenable_"+(1e6*Math.random()|0),So=0;function ni(l,d,g,S,M){this.listener=l,this.proxy=null,this.src=d,this.type=g,this.capture=!!S,this.ha=M,this.key=++So,this.da=this.fa=!1}function _r(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function hs(l){this.src=l,this.g={},this.h=0}hs.prototype.add=function(l,d,g,S,M){var V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);var G=si(l,d,S,M);return-1<G?(d=l[G],g||(d.fa=!1)):(d=new ni(d,this.src,V,!!S,M),d.fa=g,l.push(d)),d};function ri(l,d){var g=d.type;if(g in l.g){var S=l.g[g],M=Array.prototype.indexOf.call(S,d,void 0),V;(V=0<=M)&&Array.prototype.splice.call(S,M,1),V&&(_r(d),l.g[g].length==0&&(delete l.g[g],l.h--))}}function si(l,d,g,S){for(var M=0;M<l.length;++M){var V=l[M];if(!V.da&&V.listener==d&&V.capture==!!g&&V.ha==S)return M}return-1}var dn="closure_lm_"+(1e6*Math.random()|0),sh={};function Ky(l,d,g,S,M){if(Array.isArray(d)){for(var V=0;V<d.length;V++)Ky(l,d[V],g,S,M);return null}return g=Jy(g),l&&l[ct]?l.K(d,g,c(S)?!!S.capture:!1,M):AA(l,d,g,!1,S,M)}function AA(l,d,g,S,M,V){if(!d)throw Error("Invalid event type");var G=c(M)?!!M.capture:!!M,be=oh(l);if(be||(l[dn]=be=new hs(l)),g=be.add(d,g,S,G,V),g.proxy)return g;if(S=IA(),g.proxy=S,S.src=l,S.listener=g,l.addEventListener)oe||(M=G),M===void 0&&(M=!1),l.addEventListener(d.toString(),S,M);else if(l.attachEvent)l.attachEvent(Xy(d.toString()),S);else if(l.addListener&&l.removeListener)l.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function IA(){function l(g){return d.call(l.src,l.listener,g)}const d=CA;return l}function Qy(l,d,g,S,M){if(Array.isArray(d))for(var V=0;V<d.length;V++)Qy(l,d[V],g,S,M);else S=c(S)?!!S.capture:!!S,g=Jy(g),l&&l[ct]?(l=l.i,d=String(d).toString(),d in l.g&&(V=l.g[d],g=si(V,g,S,M),-1<g&&(_r(V[g]),Array.prototype.splice.call(V,g,1),V.length==0&&(delete l.g[d],l.h--)))):l&&(l=oh(l))&&(d=l.g[d.toString()],l=-1,d&&(l=si(d,g,S,M)),(g=-1<l?d[l]:null)&&ih(g))}function ih(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[ct])ri(d.i,l);else{var g=l.type,S=l.proxy;d.removeEventListener?d.removeEventListener(g,S,l.capture):d.detachEvent?d.detachEvent(Xy(g),S):d.addListener&&d.removeListener&&d.removeListener(S),(g=oh(d))?(ri(g,l),g.h==0&&(g.src=null,d[dn]=null)):_r(l)}}}function Xy(l){return l in sh?sh[l]:sh[l]="on"+l}function CA(l,d){if(l.da)l=!0;else{d=new ke(d,this);var g=l.listener,S=l.ha||l.src;l.fa&&ih(l),l=g.call(S,d)}return l}function oh(l){return l=l[dn],l instanceof hs?l:null}var ah="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jy(l){return typeof l=="function"?l:(l[ah]||(l[ah]=function(d){return l.handleEvent(d)}),l[ah])}function Tt(){q.call(this),this.i=new hs(this),this.M=this,this.F=null}b(Tt,q),Tt.prototype[ct]=!0,Tt.prototype.removeEventListener=function(l,d,g,S){Qy(this,l,d,g,S)};function Mt(l,d){var g,S=l.F;if(S)for(g=[];S;S=S.F)g.push(S);if(l=l.M,S=d.type||d,typeof d=="string")d=new Q(d,l);else if(d instanceof Q)d.target=d.target||l;else{var M=d;d=new Q(S,l),p(d,M)}if(M=!0,g)for(var V=g.length-1;0<=V;V--){var G=d.g=g[V];M=Al(G,S,!0,d)&&M}if(G=d.g=l,M=Al(G,S,!0,d)&&M,M=Al(G,S,!1,d)&&M,g)for(V=0;V<g.length;V++)G=d.g=g[V],M=Al(G,S,!1,d)&&M}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var g=l.g[d],S=0;S<g.length;S++)_r(g[S]);delete l.g[d],l.h--}}this.F=null},Tt.prototype.K=function(l,d,g,S){return this.i.add(String(l),d,!1,g,S)},Tt.prototype.L=function(l,d,g,S){return this.i.add(String(l),d,!0,g,S)};function Al(l,d,g,S){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var M=!0,V=0;V<d.length;++V){var G=d[V];if(G&&!G.da&&G.capture==g){var be=G.listener,mt=G.ha||G.src;G.fa&&ri(l.i,G),M=be.call(mt,S)!==!1&&M}}return M&&!S.defaultPrevented}function Zy(l,d,g){if(typeof l=="function")g&&(l=m(l,g));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function e0(l){l.g=Zy(()=>{l.g=null,l.i&&(l.i=!1,e0(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class RA extends q{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:e0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function To(l){q.call(this),this.h=l,this.g={}}b(To,q);var t0=[];function n0(l){O(l.g,function(d,g){this.g.hasOwnProperty(g)&&ih(d)},l),l.g={}}To.prototype.N=function(){To.aa.N.call(this),n0(this)},To.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lh=a.JSON.stringify,PA=a.JSON.parse,kA=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function uh(){}uh.prototype.h=null;function r0(l){return l.h||(l.h=l.i())}function s0(){}var bo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ch(){Q.call(this,"d")}b(ch,Q);function dh(){Q.call(this,"c")}b(dh,Q);var fs={},i0=null;function Il(){return i0=i0||new Tt}fs.La="serverreachability";function o0(l){Q.call(this,fs.La,l)}b(o0,Q);function Ao(l){const d=Il();Mt(d,new o0(d))}fs.STAT_EVENT="statevent";function a0(l,d){Q.call(this,fs.STAT_EVENT,l),this.stat=d}b(a0,Q);function Vt(l){const d=Il();Mt(d,new a0(d,l))}fs.Ma="timingevent";function l0(l,d){Q.call(this,fs.Ma,l),this.size=d}b(l0,Q);function Io(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function Co(){this.g=!0}Co.prototype.xa=function(){this.g=!1};function NA(l,d,g,S,M,V){l.info(function(){if(l.g)if(V)for(var G="",be=V.split("&"),mt=0;mt<be.length;mt++){var we=be[mt].split("=");if(1<we.length){var bt=we[0];we=we[1];var At=bt.split("_");G=2<=At.length&&At[1]=="type"?G+(bt+"="+we+"&"):G+(bt+"=redacted&")}}else G=null;else G=V;return"XMLHTTP REQ ("+S+") [attempt "+M+"]: "+d+`
`+g+`
`+G})}function DA(l,d,g,S,M,V,G){l.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+M+"]: "+d+`
`+g+`
`+V+" "+G})}function ii(l,d,g,S){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+MA(l,g)+(S?" "+S:"")})}function OA(l,d){l.info(function(){return"TIMEOUT: "+d})}Co.prototype.info=function(){};function MA(l,d){if(!l.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var S=g[l];if(!(2>S.length)){var M=S[1];if(Array.isArray(M)&&!(1>M.length)){var V=M[0];if(V!="noop"&&V!="stop"&&V!="close")for(var G=1;G<M.length;G++)M[G]=""}}}}return lh(g)}catch{return d}}var Cl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},u0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hh;function Rl(){}b(Rl,uh),Rl.prototype.g=function(){return new XMLHttpRequest},Rl.prototype.i=function(){return{}},hh=new Rl;function Er(l,d,g,S){this.j=l,this.i=d,this.l=g,this.R=S||1,this.U=new To(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new c0}function c0(){this.i=null,this.g="",this.h=!1}var d0={},fh={};function ph(l,d,g){l.L=1,l.v=Dl(Jn(d)),l.m=g,l.P=!0,h0(l,null)}function h0(l,d){l.F=Date.now(),Pl(l),l.A=Jn(l.v);var g=l.A,S=l.R;Array.isArray(S)||(S=[String(S)]),A0(g.i,"t",S),l.C=0,g=l.j.J,l.h=new c0,l.g=H0(l.j,g?d:null,!l.m),0<l.O&&(l.M=new RA(m(l.Y,l,l.g),l.O)),d=l.U,g=l.g,S=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(t0[0]=M.toString()),M=t0);for(var V=0;V<M.length;V++){var G=Ky(g,M[V],S||d.handleEvent,!1,d.h||d);if(!G)break;d.g[G.key]=G}d=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Ao(),NA(l.i,l.u,l.A,l.l,l.R,l.m)}Er.prototype.ca=function(l){l=l.target;const d=this.M;d&&Zn(l)==3?d.j():this.Y(l)},Er.prototype.Y=function(l){try{if(l==this.g)e:{const At=Zn(this.g);var d=this.g.Ba();const li=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||D0(this.g)))){this.J||At!=4||d==7||(d==8||0>=li?Ao(3):Ao(2)),mh(this);var g=this.g.Z();this.X=g;t:if(f0(this)){var S=D0(this.g);l="";var M=S.length,V=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ps(this),Ro(this);var G="";break t}this.h.i=new a.TextDecoder}for(d=0;d<M;d++)this.h.h=!0,l+=this.h.i.decode(S[d],{stream:!(V&&d==M-1)});S.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=g==200,DA(this.i,this.u,this.A,this.l,this.R,At,g),this.o){if(this.T&&!this.K){t:{if(this.g){var be,mt=this.g;if((be=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(be)){var we=be;break t}}we=null}if(g=we)ii(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gh(this,g);else{this.o=!1,this.s=3,Vt(12),ps(this),Ro(this);break e}}if(this.P){g=!0;let bn;for(;!this.J&&this.C<G.length;)if(bn=VA(this,G),bn==fh){At==4&&(this.s=4,Vt(14),g=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==d0){this.s=4,Vt(15),ii(this.i,this.l,G,"[Invalid Chunk]"),g=!1;break}else ii(this.i,this.l,bn,null),gh(this,bn);if(f0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||G.length!=0||this.h.h||(this.s=1,Vt(16),g=!1),this.o=this.o&&g,!g)ii(this.i,this.l,G,"[Invalid Chunked Response]"),ps(this),Ro(this);else if(0<G.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),xh(bt),bt.M=!0,Vt(11))}}else ii(this.i,this.l,G,null),gh(this,G);At==4&&ps(this),this.o&&!this.J&&(At==4?j0(this.j,this):(this.o=!1,Pl(this)))}else ZA(this.g),g==400&&0<G.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),ps(this),Ro(this)}}}catch{}finally{}};function f0(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function VA(l,d){var g=l.C,S=d.indexOf(`
`,g);return S==-1?fh:(g=Number(d.substring(g,S)),isNaN(g)?d0:(S+=1,S+g>d.length?fh:(d=d.slice(S,S+g),l.C=S+g,d)))}Er.prototype.cancel=function(){this.J=!0,ps(this)};function Pl(l){l.S=Date.now()+l.I,p0(l,l.I)}function p0(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Io(m(l.ba,l),d)}function mh(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Er.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(OA(this.i,this.A),this.L!=2&&(Ao(),Vt(17)),ps(this),this.s=2,Ro(this)):p0(this,this.S-l)};function Ro(l){l.j.G==0||l.J||j0(l.j,l)}function ps(l){mh(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,n0(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function gh(l,d){try{var g=l.j;if(g.G!=0&&(g.g==l||yh(g.h,l))){if(!l.K&&yh(g.h,l)&&g.G==3){try{var S=g.Da.g.parse(d)}catch{S=null}if(Array.isArray(S)&&S.length==3){var M=S;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)$l(g),Ll(g);else break e;Eh(g),Vt(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=Io(m(g.Za,g),6e3));if(1>=y0(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else gs(g,11)}else if((l.K||g.g==l)&&$l(g),!x(d))for(M=g.Da.g.parse(d),d=0;d<M.length;d++){let we=M[d];if(g.T=we[0],we=we[1],g.G==2)if(we[0]=="c"){g.K=we[1],g.ia=we[2];const bt=we[3];bt!=null&&(g.la=bt,g.j.info("VER="+g.la));const At=we[4];At!=null&&(g.Aa=At,g.j.info("SVER="+g.Aa));const li=we[5];li!=null&&typeof li=="number"&&0<li&&(S=1.5*li,g.L=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const bn=l.g;if(bn){const Ul=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ul){var V=S.h;V.g||Ul.indexOf("spdy")==-1&&Ul.indexOf("quic")==-1&&Ul.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(vh(V,V.h),V.h=null))}if(S.D){const Sh=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Sh&&(S.ya=Sh,De(S.I,S.D,Sh))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),S=g;var G=l;if(S.qa=z0(S,S.J?S.ia:null,S.W),G.K){v0(S.h,G);var be=G,mt=S.L;mt&&(be.I=mt),be.B&&(mh(be),Pl(be)),S.g=G}else F0(S);0<g.i.length&&Fl(g)}else we[0]!="stop"&&we[0]!="close"||gs(g,7);else g.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?gs(g,7):_h(g):we[0]!="noop"&&g.l&&g.l.ta(we),g.v=0)}}Ao(4)}catch{}}var LA=class{constructor(l,d){this.g=l,this.map=d}};function m0(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function g0(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function y0(l){return l.h?1:l.g?l.g.size:0}function yh(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function vh(l,d){l.g?l.g.add(d):l.h=d}function v0(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}m0.prototype.cancel=function(){if(this.i=w0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function w0(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const g of l.g.values())d=d.concat(g.D);return d}return I(l.i)}function FA(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var d=[],g=l.length,S=0;S<g;S++)d.push(l[S]);return d}d=[],g=0;for(S in l)d[g++]=l[S];return d}function $A(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var d=[];l=l.length;for(var g=0;g<l;g++)d.push(g);return d}d=[],g=0;for(const S in l)d[g++]=S;return d}}}function _0(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var g=$A(l),S=FA(l),M=S.length,V=0;V<M;V++)d.call(void 0,S[V],g&&g[V],l)}var E0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jA(l,d){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var S=l[g].indexOf("="),M=null;if(0<=S){var V=l[g].substring(0,S);M=l[g].substring(S+1)}else V=l[g];d(V,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function ms(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ms){this.h=l.h,kl(this,l.j),this.o=l.o,this.g=l.g,Nl(this,l.s),this.l=l.l;var d=l.i,g=new No;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),x0(this,g),this.m=l.m}else l&&(d=String(l).match(E0))?(this.h=!1,kl(this,d[1]||"",!0),this.o=Po(d[2]||""),this.g=Po(d[3]||"",!0),Nl(this,d[4]),this.l=Po(d[5]||"",!0),x0(this,d[6]||"",!0),this.m=Po(d[7]||"")):(this.h=!1,this.i=new No(null,this.h))}ms.prototype.toString=function(){var l=[],d=this.j;d&&l.push(ko(d,S0,!0),":");var g=this.g;return(g||d=="file")&&(l.push("//"),(d=this.o)&&l.push(ko(d,S0,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(ko(g,g.charAt(0)=="/"?zA:BA,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",ko(g,qA)),l.join("")};function Jn(l){return new ms(l)}function kl(l,d,g){l.j=g?Po(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Nl(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function x0(l,d,g){d instanceof No?(l.i=d,GA(l.i,l.h)):(g||(d=ko(d,HA)),l.i=new No(d,l.h))}function De(l,d,g){l.i.set(d,g)}function Dl(l){return De(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Po(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ko(l,d,g){return typeof l=="string"?(l=encodeURI(l).replace(d,UA),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function UA(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var S0=/[#\/\?@]/g,BA=/[#\?:]/g,zA=/[#\?]/g,HA=/[#\?@]/g,qA=/#/g;function No(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function xr(l){l.g||(l.g=new Map,l.h=0,l.i&&jA(l.i,function(d,g){l.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}t=No.prototype,t.add=function(l,d){xr(this),this.i=null,l=oi(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(d),this.h+=1,this};function T0(l,d){xr(l),d=oi(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function b0(l,d){return xr(l),d=oi(l,d),l.g.has(d)}t.forEach=function(l,d){xr(this),this.g.forEach(function(g,S){g.forEach(function(M){l.call(d,M,S,this)},this)},this)},t.na=function(){xr(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let S=0;S<d.length;S++){const M=l[S];for(let V=0;V<M.length;V++)g.push(d[S])}return g},t.V=function(l){xr(this);let d=[];if(typeof l=="string")b0(this,l)&&(d=d.concat(this.g.get(oi(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)d=d.concat(l[g])}return d},t.set=function(l,d){return xr(this),this.i=null,l=oi(this,l),b0(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function A0(l,d,g){T0(l,d),0<g.length&&(l.i=null,l.g.set(oi(l,d),I(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var S=d[g];const V=encodeURIComponent(String(S)),G=this.V(S);for(S=0;S<G.length;S++){var M=V;G[S]!==""&&(M+="="+encodeURIComponent(String(G[S]))),l.push(M)}}return this.i=l.join("&")};function oi(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function GA(l,d){d&&!l.j&&(xr(l),l.i=null,l.g.forEach(function(g,S){var M=S.toLowerCase();S!=M&&(T0(this,S),A0(this,M,g))},l)),l.j=d}function YA(l,d){const g=new Co;if(a.Image){const S=new Image;S.onload=y(Sr,g,"TestLoadImage: loaded",!0,d,S),S.onerror=y(Sr,g,"TestLoadImage: error",!1,d,S),S.onabort=y(Sr,g,"TestLoadImage: abort",!1,d,S),S.ontimeout=y(Sr,g,"TestLoadImage: timeout",!1,d,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=l}else d(!1)}function WA(l,d){const g=new Co,S=new AbortController,M=setTimeout(()=>{S.abort(),Sr(g,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:S.signal}).then(V=>{clearTimeout(M),V.ok?Sr(g,"TestPingServer: ok",!0,d):Sr(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),Sr(g,"TestPingServer: error",!1,d)})}function Sr(l,d,g,S,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),S(g)}catch{}}function KA(){this.g=new kA}function QA(l,d,g){const S=g||"";try{_0(l,function(M,V){let G=M;c(M)&&(G=lh(M)),d.push(S+V+"="+encodeURIComponent(G))})}catch(M){throw d.push(S+"type="+encodeURIComponent("_badmap")),M}}function Ol(l){this.l=l.Ub||null,this.j=l.eb||!1}b(Ol,uh),Ol.prototype.g=function(){return new Ml(this.l,this.j)},Ol.prototype.i=function(l){return function(){return l}}({});function Ml(l,d){Tt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Ml,Tt),t=Ml.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Oo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Do(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Oo(this)),this.g&&(this.readyState=3,Oo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;I0(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function I0(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Do(this):Oo(this),this.readyState==3&&I0(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Do(this))},t.Qa=function(l){this.g&&(this.response=l,Do(this))},t.ga=function(){this.g&&Do(this)};function Do(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Oo(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=d.next();return l.join(`\r
`)};function Oo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ml.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function C0(l){let d="";return O(l,function(g,S){d+=S,d+=":",d+=g,d+=`\r
`}),d}function wh(l,d,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=C0(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):De(l,d,g))}function qe(l){Tt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(qe,Tt);var XA=/^https?$/i,JA=["POST","PUT"];t=qe.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hh.g(),this.v=this.o?r0(this.o):r0(hh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(V){R0(this,V);return}if(l=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var M in S)g.set(M,S[M]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const V of S.keys())g.set(V,S.get(V));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(V=>V.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(JA,d,void 0))||S||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,G]of g)this.g.setRequestHeader(V,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{N0(this),this.u=!0,this.g.send(l),this.u=!1}catch(V){R0(this,V)}};function R0(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,P0(l),Vl(l)}function P0(l){l.A||(l.A=!0,Mt(l,"complete"),Mt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Mt(this,"complete"),Mt(this,"abort"),Vl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vl(this,!0)),qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?k0(this):this.bb())},t.bb=function(){k0(this)};function k0(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Zn(l)!=4||l.Z()!=2)){if(l.u&&Zn(l)==4)Zy(l.Ea,0,l);else if(Mt(l,"readystatechange"),Zn(l)==4){l.h=!1;try{const G=l.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var S;if(S=G===0){var M=String(l.D).match(E0)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),S=!XA.test(M?M.toLowerCase():"")}g=S}if(g)Mt(l,"complete"),Mt(l,"success");else{l.m=6;try{var V=2<Zn(l)?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.Z()+"]",P0(l)}}finally{Vl(l)}}}}function Vl(l,d){if(l.g){N0(l);const g=l.g,S=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||Mt(l,"ready");try{g.onreadystatechange=S}catch{}}}function N0(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Zn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),PA(d)}};function D0(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ZA(l){const d={};l=(l.g&&2<=Zn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<l.length;S++){if(x(l[S]))continue;var g=T(l[S]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const V=d[M]||[];d[M]=V,V.push(g)}w(d,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mo(l,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||d}function O0(l){this.Aa=0,this.i=[],this.j=new Co,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mo("baseRetryDelayMs",5e3,l),this.cb=Mo("retryDelaySeedMs",1e4,l),this.Wa=Mo("forwardChannelMaxRetries",2,l),this.wa=Mo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new m0(l&&l.concurrentRequestLimit),this.Da=new KA,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=O0.prototype,t.la=8,t.G=1,t.connect=function(l,d,g,S){Vt(0),this.W=l,this.H=d||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.I=z0(this,null,this.W),Fl(this)};function _h(l){if(M0(l),l.G==3){var d=l.U++,g=Jn(l.I);if(De(g,"SID",l.K),De(g,"RID",d),De(g,"TYPE","terminate"),Vo(l,g),d=new Er(l,l.j,d),d.L=2,d.v=Dl(Jn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=d.v,g=!0),g||(d.g=H0(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Pl(d)}B0(l)}function Ll(l){l.g&&(xh(l),l.g.cancel(),l.g=null)}function M0(l){Ll(l),l.u&&(a.clearTimeout(l.u),l.u=null),$l(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Fl(l){if(!g0(l.h)&&!l.s){l.s=!0;var d=l.Ga;xe||te(),U||(xe(),U=!0),Z.add(d,l),l.B=0}}function eI(l,d){return y0(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Io(m(l.Ga,l,d),U0(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Er(this,this.j,l);let V=this.o;if(this.S&&(V?(V=E(V),p(V,this.S)):V=this.S),this.m!==null||this.O||(M.H=V,V=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(d+=S,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=L0(this,M,d),g=Jn(this.I),De(g,"RID",l),De(g,"CVER",22),this.D&&De(g,"X-HTTP-Session-Id",this.D),Vo(this,g),V&&(this.O?d="headers="+encodeURIComponent(String(C0(V)))+"&"+d:this.m&&wh(g,this.m,V)),vh(this.h,M),this.Ua&&De(g,"TYPE","init"),this.P?(De(g,"$req",d),De(g,"SID","null"),M.T=!0,ph(M,g,null)):ph(M,g,d),this.G=2}}else this.G==3&&(l?V0(this,l):this.i.length==0||g0(this.h)||V0(this))};function V0(l,d){var g;d?g=d.l:g=l.U++;const S=Jn(l.I);De(S,"SID",l.K),De(S,"RID",g),De(S,"AID",l.T),Vo(l,S),l.m&&l.o&&wh(S,l.m,l.o),g=new Er(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),d&&(l.i=d.D.concat(l.i)),d=L0(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),vh(l.h,g),ph(g,S,d)}function Vo(l,d){l.H&&O(l.H,function(g,S){De(d,S,g)}),l.l&&_0({},function(g,S){De(d,S,g)})}function L0(l,d,g){g=Math.min(l.i.length,g);var S=l.l?m(l.l.Na,l.l,l):null;e:{var M=l.i;let V=-1;for(;;){const G=["count="+g];V==-1?0<g?(V=M[0].g,G.push("ofs="+V)):V=0:G.push("ofs="+V);let be=!0;for(let mt=0;mt<g;mt++){let we=M[mt].g;const bt=M[mt].map;if(we-=V,0>we)V=Math.max(0,M[mt].g-100),be=!1;else try{QA(bt,G,"req"+we+"_")}catch{S&&S(bt)}}if(be){S=G.join("&");break e}}}return l=l.i.splice(0,g),d.D=l,S}function F0(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;xe||te(),U||(xe(),U=!0),Z.add(d,l),l.v=0}}function Eh(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Io(m(l.Fa,l),U0(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,$0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Io(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),Ll(this),$0(this))};function xh(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function $0(l){l.g=new Er(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Jn(l.qa);De(d,"RID","rpc"),De(d,"SID",l.K),De(d,"AID",l.T),De(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&De(d,"TO",l.ja),De(d,"TYPE","xmlhttp"),Vo(l,d),l.m&&l.o&&wh(d,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Dl(Jn(d)),g.m=null,g.P=!0,h0(g,l)}t.Za=function(){this.C!=null&&(this.C=null,Ll(this),Eh(this),Vt(19))};function $l(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function j0(l,d){var g=null;if(l.g==d){$l(l),xh(l),l.g=null;var S=2}else if(yh(l.h,d))g=d.D,v0(l.h,d),S=1;else return;if(l.G!=0){if(d.o)if(S==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var M=l.B;S=Il(),Mt(S,new l0(S,g)),Fl(l)}else F0(l);else if(M=d.s,M==3||M==0&&0<d.X||!(S==1&&eI(l,d)||S==2&&Eh(l)))switch(g&&0<g.length&&(d=l.h,d.i=d.i.concat(g)),M){case 1:gs(l,5);break;case 4:gs(l,10);break;case 3:gs(l,6);break;default:gs(l,2)}}}function U0(l,d){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*d}function gs(l,d){if(l.j.info("Error code "+d),d==2){var g=m(l.fb,l),S=l.Xa;const M=!S;S=new ms(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||kl(S,"https"),Dl(S),M?YA(S.toString(),g):WA(S.toString(),g)}else Vt(2);l.G=0,l.l&&l.l.sa(d),B0(l),M0(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function B0(l){if(l.G=0,l.ka=[],l.l){const d=w0(l.h);(d.length!=0||l.i.length!=0)&&(P(l.ka,d),P(l.ka,l.i),l.h.i.length=0,I(l.i),l.i.length=0),l.l.ra()}}function z0(l,d,g){var S=g instanceof ms?Jn(g):new ms(g);if(S.g!="")d&&(S.g=d+"."+S.g),Nl(S,S.s);else{var M=a.location;S=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;var V=new ms(null);S&&kl(V,S),d&&(V.g=d),M&&Nl(V,M),g&&(V.l=g),S=V}return g=l.D,d=l.ya,g&&d&&De(S,g,d),De(S,"VER",l.la),Vo(l,S),S}function H0(l,d,g){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new qe(new Ol({eb:g})):new qe(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function q0(){}t=q0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function jl(){}jl.prototype.g=function(l,d){return new Xt(l,d)};function Xt(l,d){Tt.call(this),this.g=new O0(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!x(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!x(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new ai(this)}b(Xt,Tt),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){_h(this.g)},Xt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=lh(l),l=g);d.i.push(new LA(d.Ya++,l)),d.G==3&&Fl(d)},Xt.prototype.N=function(){this.g.l=null,delete this.j,_h(this.g),delete this.g,Xt.aa.N.call(this)};function G0(l){ch.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const g in d){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}b(G0,ch);function Y0(){dh.call(this),this.status=1}b(Y0,dh);function ai(l){this.g=l}b(ai,q0),ai.prototype.ua=function(){Mt(this.g,"a")},ai.prototype.ta=function(l){Mt(this.g,new G0(l))},ai.prototype.sa=function(l){Mt(this.g,new Y0)},ai.prototype.ra=function(){Mt(this.g,"b")},jl.prototype.createWebChannel=jl.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,w1=function(){return new jl},v1=function(){return Il()},y1=fs,xp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cl.NO_ERROR=0,Cl.TIMEOUT=8,Cl.HTTP_ERROR=6,Du=Cl,u0.COMPLETE="complete",g1=u0,s0.EventType=bo,bo.OPEN="a",bo.CLOSE="b",bo.ERROR="c",bo.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,ea=s0,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,m1=qe}).apply(typeof iu<"u"?iu:typeof self<"u"?self:typeof window<"u"?window:{});const mw="@firebase/firestore",gw="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new l1("@firebase/firestore");function mi(){return Fs.logLevel}function W(t,...e){if(Fs.logLevel<=ge.DEBUG){const n=e.map(ng);Fs.debug(`Firestore (${po}): ${t}`,...n)}}function mr(t,...e){if(Fs.logLevel<=ge.ERROR){const n=e.map(ng);Fs.error(`Firestore (${po}): ${t}`,...n)}}function Ji(t,...e){if(Fs.logLevel<=ge.WARN){const n=e.map(ng);Fs.warn(`Firestore (${po}): ${t}`,...n)}}function ng(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t="Unexpected state"){const e=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: `+t;throw mr(e),new Error(e)}function Se(t,e){t||ne()}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends fo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class kP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class NP{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Se(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Cs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Cs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Cs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string"),new _1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new kt(e)}}class DP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class OP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new DP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MP{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,fP(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Se(this.o===void 0);const r=i=>{i.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new yw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string"),this.R=n.token,new yw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=VP(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function Tp(t,e){const n=Sp().encode(t),r=Sp().encode(e);for(let s=0;s<Math.min(n.length,r.length);s++){const i=ce(n[s],r[s]);if(i!==0)return i}return ce(n.length,r.length)}function Zi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=-62135596800,ww=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ww);return new lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<vw)throw new X(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ww}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-vw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{static fromTimestamp(e){return new re(e)}static min(){return new re(new lt(0,0))}static max(){return new re(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="__name__";class Bn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(),r===void 0?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Bn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ce(e.length,n.length)}static compareSegments(e,n){const r=Bn.isNumericId(e),s=Bn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Bn.extractNumericId(e).compare(Bn.extractNumericId(n)):Tp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hr.fromString(e.substring(4,e.length-2))}}class Me extends Bn{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const LP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends Bn{construct(e,n,r){return new _t(e,n,r)}static isValidIdentifier(e){return LP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_w}static keyField(){return new _t([_w])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new X(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new X(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new X(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(n)}static emptyPath(){return new _t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Me.fromString(e))}static fromName(e){return new J(Me.fromString(e).popFirst(5))}static empty(){return new J(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Me(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=-1;function FP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=re.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new Jr(s,J.empty(),e)}function $P(t){return new Jr(t.readTime,t.key,qa)}class Jr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Jr(re.min(),J.empty(),qa)}static max(){return new Jr(re.max(),J.empty(),qa)}}function jP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==UP)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(s=>s?F.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new F((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function zP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function go(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ld.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=-1;function ud(t){return t==null}function wc(t){return t===0&&1/t==-1/0}function HP(t){return typeof t=="number"&&Number.isInteger(t)&&!wc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="";function qP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ew(e)),e=GP(t.get(n),e);return Ew(e)}function GP(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case x1:n+="";break;default:n+=i}}return n}function Ew(t){return t+x1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function S1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||vt.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ou(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ou(this.root,e,this.comparator,!1)}getReverseIterator(){return new ou(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ou(this.root,e,this.comparator,!0)}}class ou{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??vt.RED,this.left=s??vt.EMPTY,this.right=i??vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new vt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return vt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();const e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1;vt.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,r,s,i){return this}insert(e,n,r){return new vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sw(this.data.getIterator())}getIteratorFrom(e){return new Sw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class Sw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new ut(_t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new T1("Invalid base64 string: "+i):i}}(e);return new St(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const YP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(t){if(Se(!!t),typeof t=="string"){let e=0;const n=YP.exec(t);if(Se(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function es(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="server_timestamp",A1="__type__",I1="__previous_value__",C1="__local_write_time__";function sg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[A1])===null||n===void 0?void 0:n.stringValue)===b1}function cd(t){const e=t.mapValue.fields[I1];return sg(e)?cd(e):e}function Ga(t){const e=Zr(t.mapValue.fields[C1].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n,r,s,i,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}const _c="(default)";class Ya{constructor(e,n){this.projectId=e,this.database=n||_c}static empty(){return new Ya("","")}get isDefaultDatabase(){return this.database===_c}isEqual(e){return e instanceof Ya&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="__type__",KP="__max__",au={mapValue:{}},P1="__vector__",Ec="value";function ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sg(t)?4:XP(t)?9007199254740991:QP(t)?10:11:ne()}function Xn(t,e){if(t===e)return!0;const n=ts(t);if(n!==ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ga(t).isEqual(Ga(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Zr(s.timestampValue),a=Zr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return es(s.bytesValue).isEqual(es(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Qe(s.geoPointValue.latitude)===Qe(i.geoPointValue.latitude)&&Qe(s.geoPointValue.longitude)===Qe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Qe(s.integerValue)===Qe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Qe(s.doubleValue),a=Qe(i.doubleValue);return o===a?wc(o)===wc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Zi(t.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(xw(o)!==xw(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Xn(o[u],a[u])))return!1;return!0}(t,e);default:return ne()}}function Wa(t,e){return(t.values||[]).find(n=>Xn(n,e))!==void 0}function eo(t,e){if(t===e)return 0;const n=ts(t),r=ts(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Qe(i.integerValue||i.doubleValue),u=Qe(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Tw(t.timestampValue,e.timestampValue);case 4:return Tw(Ga(t),Ga(e));case 5:return Tp(t.stringValue,e.stringValue);case 6:return function(i,o){const a=es(i),u=es(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=ce(a[c],u[c]);if(h!==0)return h}return ce(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ce(Qe(i.latitude),Qe(o.latitude));return a!==0?a:ce(Qe(i.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return bw(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,u,c,h;const f=i.fields||{},m=o.fields||{},y=(a=f[Ec])===null||a===void 0?void 0:a.arrayValue,b=(u=m[Ec])===null||u===void 0?void 0:u.arrayValue,I=ce(((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0,((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0);return I!==0?I:bw(y,b)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===au.mapValue&&o===au.mapValue)return 0;if(i===au.mapValue)return 1;if(o===au.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const m=Tp(u[f],h[f]);if(m!==0)return m;const y=eo(a[u[f]],c[h[f]]);if(y!==0)return y}return ce(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ne()}}function Tw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=Zr(t),r=Zr(e),s=ce(n.seconds,r.seconds);return s!==0?s:ce(n.nanos,r.nanos)}function bw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=eo(n[s],r[s]);if(i)return i}return ce(n.length,r.length)}function to(t){return bp(t)}function bp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return es(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=bp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${bp(n.fields[o])}`;return s+"}"}(t.mapValue):ne()}function Ou(t){switch(ts(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cd(t);return e?16+Ou(e):16;case 5:return 2*t.stringValue.length;case 6:return es(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Ou(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Gs(r.fields,(i,o)=>{s+=i.length+Ou(o)}),s}(t.mapValue);default:throw ne()}}function Aw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ap(t){return!!t&&"integerValue"in t}function ig(t){return!!t&&"arrayValue"in t}function Iw(t){return!!t&&"nullValue"in t}function Cw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mu(t){return!!t&&"mapValue"in t}function QP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[R1])===null||n===void 0?void 0:n.stringValue)===P1}function ga(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ga(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ga(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===KP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Mu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ga(n)}setAll(e){let n=_t.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ga(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Mu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Mu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Gs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new gn(ga(this.value))}}function k1(t){const e=[];return Gs(t.fields,(n,r)=>{const s=new _t([n]);if(Mu(r)){const i=k1(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Dt(e,0,re.min(),re.min(),re.min(),gn.empty(),0)}static newFoundDocument(e,n,r,s){return new Dt(e,1,n,re.min(),r,s,0)}static newNoDocument(e,n){return new Dt(e,2,n,re.min(),re.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new Dt(e,3,n,re.min(),re.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){this.position=e,this.inclusive=n}}function Rw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=eo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Pw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n="asc"){this.field=e,this.dir=n}}function JP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{}class rt extends N1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ek(e,n,r):n==="array-contains"?new rk(e,r):n==="in"?new sk(e,r):n==="not-in"?new ik(e,r):n==="array-contains-any"?new ok(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tk(e,r):new nk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(eo(n,this.value)):n!==null&&ts(this.value)===ts(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends N1{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Ln(e,n)}matches(e){return D1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function D1(t){return t.op==="and"}function O1(t){return ZP(t)&&D1(t)}function ZP(t){for(const e of t.filters)if(e instanceof Ln)return!1;return!0}function Ip(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+to(t.value);if(O1(t))return t.filters.map(e=>Ip(e)).join(",");{const e=t.filters.map(n=>Ip(n)).join(",");return`${t.op}(${e})`}}function M1(t,e){return t instanceof rt?function(r,s){return s instanceof rt&&r.op===s.op&&r.field.isEqual(s.field)&&Xn(r.value,s.value)}(t,e):t instanceof Ln?function(r,s){return s instanceof Ln&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&M1(o,s.filters[a]),!0):!1}(t,e):void ne()}function V1(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${to(n.value)}`}(t):t instanceof Ln?function(n){return n.op.toString()+" {"+n.getFilters().map(V1).join(" ,")+"}"}(t):"Filter"}class ek extends rt{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class tk extends rt{constructor(e,n){super(e,"in",n),this.keys=L1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nk extends rt{constructor(e,n){super(e,"not-in",n),this.keys=L1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function L1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class rk extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ig(n)&&Wa(n.arrayValue,this.value)}}class sk extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wa(this.value.arrayValue,n)}}class ik extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wa(this.value.arrayValue,n)}}class ok extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ig(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.le=null}}function kw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new ak(t,e,n,r,s,i,o)}function og(t){const e=se(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ip(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ud(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>to(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>to(r)).join(",")),e.le=n}return e.le}function ag(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!M1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pw(t.startAt,e.startAt)&&Pw(t.endAt,e.endAt)}function Cp(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function lk(t,e,n,r,s,i,o,a){return new cl(t,e,n,r,s,i,o,a)}function lg(t){return new cl(t)}function Nw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function F1(t){return t.collectionGroup!==null}function ya(t){const e=se(t);if(e.he===null){e.he=[];const n=new Set;for(const i of e.explicitOrderBy)e.he.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ut(_t.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.he.push(new Sc(i,r))}),n.has(_t.keyField().canonicalString())||e.he.push(new Sc(_t.keyField(),r))}return e.he}function Wn(t){const e=se(t);return e.Pe||(e.Pe=uk(e,ya(t))),e.Pe}function uk(t,e){if(t.limitType==="F")return kw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Sc(s.field,i)});const n=t.endAt?new xc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xc(t.startAt.position,t.startAt.inclusive):null;return kw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Rp(t,e){const n=t.filters.concat([e]);return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Pp(t,e,n){return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dd(t,e){return ag(Wn(t),Wn(e))&&t.limitType===e.limitType}function $1(t){return`${og(Wn(t))}|lt:${t.limitType}`}function gi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>V1(s)).join(", ")}]`),ud(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>to(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>to(s)).join(",")),`Target(${r})`}(Wn(t))}; limitType=${t.limitType})`}function hd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):J.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ya(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=Rw(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,ya(r),s)||r.endAt&&!function(o,a,u){const c=Rw(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,ya(r),s))}(t,e)}function ck(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function j1(t){return(e,n)=>{let r=!1;for(const s of ya(t)){const i=dk(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function dk(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?eo(u,c):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return S1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new He(J.comparator);function gr(){return hk}const U1=new He(J.comparator);function ta(...t){let e=U1;for(const n of t)e=e.insert(n.key,n);return e}function B1(t){let e=U1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ts(){return va()}function z1(){return va()}function va(){return new Ys(t=>t.toString(),(t,e)=>t.isEqual(e))}const fk=new He(J.comparator),pk=new ut(J.comparator);function de(...t){let e=pk;for(const n of t)e=e.add(n);return e}const mk=new ut(ce);function gk(){return mk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wc(e)?"-0":e}}function H1(t){return{integerValue:""+t}}function yk(t,e){return HP(e)?H1(e):ug(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this._=void 0}}function vk(t,e,n){return t instanceof Tc?function(s,i){const o={fields:{[A1]:{stringValue:b1},[C1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&sg(i)&&(i=cd(i)),i&&(o.fields[I1]=i),{mapValue:o}}(n,e):t instanceof Ka?G1(t,e):t instanceof Qa?Y1(t,e):function(s,i){const o=q1(s,i),a=Dw(o)+Dw(s.Ie);return Ap(o)&&Ap(s.Ie)?H1(a):ug(s.serializer,a)}(t,e)}function wk(t,e,n){return t instanceof Ka?G1(t,e):t instanceof Qa?Y1(t,e):n}function q1(t,e){return t instanceof bc?function(r){return Ap(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Tc extends fd{}class Ka extends fd{constructor(e){super(),this.elements=e}}function G1(t,e){const n=W1(e);for(const r of t.elements)n.some(s=>Xn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Qa extends fd{constructor(e){super(),this.elements=e}}function Y1(t,e){let n=W1(e);for(const r of t.elements)n=n.filter(s=>!Xn(s,r));return{arrayValue:{values:n}}}class bc extends fd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Dw(t){return Qe(t.integerValue||t.doubleValue)}function W1(t){return ig(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _k(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ka&&s instanceof Ka||r instanceof Qa&&s instanceof Qa?Zi(r.elements,s.elements,Xn):r instanceof bc&&s instanceof bc?Xn(r.Ie,s.Ie):r instanceof Tc&&s instanceof Tc}(t.transform,e.transform)}class Ek{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pd{}function K1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new X1(t.key,lr.none()):new dl(t.key,t.data,lr.none());{const n=t.data,r=gn.empty();let s=new ut(_t.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ws(t.key,r,new Dn(s.toArray()),lr.none())}}function xk(t,e,n){t instanceof dl?function(s,i,o){const a=s.value.clone(),u=Mw(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ws?function(s,i,o){if(!Vu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Mw(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(Q1(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function wa(t,e,n,r){return t instanceof dl?function(i,o,a,u){if(!Vu(i.precondition,o))return a;const c=i.value.clone(),h=Vw(i.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ws?function(i,o,a,u){if(!Vu(i.precondition,o))return a;const c=Vw(i.fieldTransforms,u,o),h=o.data;return h.setAll(Q1(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Vu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Sk(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=q1(r.transform,s||null);i!=null&&(n===null&&(n=gn.empty()),n.set(r.field,i))}return n||null}function Ow(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Zi(r,s,(i,o)=>_k(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class dl extends pd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ws extends pd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Q1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Mw(t,e,n){const r=new Map;Se(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,wk(o,a,n[s]))}return r}function Vw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,vk(i,o,e))}return r}class X1 extends pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tk extends pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&xk(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=z1();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=K1(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&Zi(this.mutations,e.mutations,(n,r)=>Ow(n,r))&&Zi(this.baseMutations,e.baseMutations,(n,r)=>Ow(n,r))}}class cg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Se(e.mutations.length===r.length);let s=function(){return fk}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new cg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,fe;function Ck(t){switch(t){case j.OK:return ne();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return ne()}}function J1(t){if(t===void 0)return mr("GRPC error has no .code"),j.UNKNOWN;switch(t){case et.OK:return j.OK;case et.CANCELLED:return j.CANCELLED;case et.UNKNOWN:return j.UNKNOWN;case et.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case et.INTERNAL:return j.INTERNAL;case et.UNAVAILABLE:return j.UNAVAILABLE;case et.UNAUTHENTICATED:return j.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case et.NOT_FOUND:return j.NOT_FOUND;case et.ALREADY_EXISTS:return j.ALREADY_EXISTS;case et.PERMISSION_DENIED:return j.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case et.ABORTED:return j.ABORTED;case et.OUT_OF_RANGE:return j.OUT_OF_RANGE;case et.UNIMPLEMENTED:return j.UNIMPLEMENTED;case et.DATA_LOSS:return j.DATA_LOSS;default:return ne()}}(fe=et||(et={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=new Hr([4294967295,4294967295],0);function Lw(t){const e=Sp().encode(t),n=new p1;return n.update(e),new Uint8Array(n.digest())}function Fw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Hr([n,r],0),new Hr([s,i],0)]}class dg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new na(`Invalid padding: ${n}`);if(r<0)throw new na(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new na(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new na(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Hr.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(Hr.fromNumber(r)));return s.compare(Rk)===1&&(s=new Hr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Lw(e),[r,s]=Fw(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);if(!this.Re(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new dg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=Lw(e),[r,s]=Fw(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class na extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,hl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new md(re.min(),s,new He(ce),gr(),de())}}class hl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hl(r,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class Z1{constructor(e,n){this.targetId=e,this.ge=n}}class eT{constructor(e,n,r=St.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class $w{constructor(){this.pe=0,this.ye=jw(),this.we=St.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=de(),n=de(),r=de();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ne()}}),new hl(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=jw()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Se(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Pk{constructor(e){this.ke=e,this.qe=new Map,this.Qe=gr(),this.$e=lu(),this.Ue=lu(),this.Ke=new He(ce)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const i=s.target;if(Cp(i))if(r===0){const o=new J(i.path);this.ze(n,o,Dt.newNoDocument(o,re.min()))}else Se(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),u=a?this.nt(a,e,o):1;if(u!==0){this.Ye(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=es(r).toUint8Array()}catch(u){if(u instanceof T1)return Ji("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new dg(o,s,i)}catch(u){return Ji(u instanceof na?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,i,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((i,o)=>{const a=this.Xe(o);if(a){if(i.current&&Cp(a.target)){const u=new J(a.target.path);this._t(u).has(o)||this.ut(o,u)||this.ze(o,u,Dt.newNoDocument(u,e))}i.ve&&(n.set(o,i.Fe()),i.Me())}});let r=de();this.Ue.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Xe(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.Qe.forEach((i,o)=>o.setReadTime(e));const s=new md(e,n,this.Ke,this.Qe,r);return this.Qe=gr(),this.$e=lu(),this.Ue=lu(),this.Ke=new He(ce),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new $w,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new ut(ce),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new ut(ce),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new $w),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function lu(){return new He(J.comparator)}function jw(){return new He(J.comparator)}const kk={asc:"ASCENDING",desc:"DESCENDING"},Nk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dk={and:"AND",or:"OR"};class Ok{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kp(t,e){return t.useProto3Json||ud(e)?e:{value:e}}function Ac(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Mk(t,e){return Ac(t,e.toTimestamp())}function Kn(t){return Se(!!t),re.fromTimestamp(function(n){const r=Zr(n);return new lt(r.seconds,r.nanos)}(t))}function hg(t,e){return Np(t,e).canonicalString()}function Np(t,e){const n=function(s){return new Me(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nT(t){const e=Me.fromString(t);return Se(aT(e)),e}function Dp(t,e){return hg(t.databaseId,e.path)}function ef(t,e){const n=nT(e);if(n.get(1)!==t.databaseId.projectId)throw new X(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(sT(n))}function rT(t,e){return hg(t.databaseId,e)}function Vk(t){const e=nT(t);return e.length===4?Me.emptyPath():sT(e)}function Op(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sT(t){return Se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Uw(t,e,n){return{name:Dp(t,e),fields:n.value.mapValue.fields}}function Lk(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(Se(h===void 0||typeof h=="string"),St.fromBase64String(h||"")):(Se(h===void 0||h instanceof Buffer||h instanceof Uint8Array),St.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?j.UNKNOWN:J1(c.code);return new X(h,c.message||"")}(o);n=new eT(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ef(t,r.document.name),i=Kn(r.document.updateTime),o=r.document.createTime?Kn(r.document.createTime):re.min(),a=new gn({mapValue:{fields:r.document.fields}}),u=Dt.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Lu(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ef(t,r.document),i=r.readTime?Kn(r.readTime):re.min(),o=Dt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Lu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ef(t,r.document),i=r.removedTargetIds||[];n=new Lu([],i,s,null)}else{if(!("filter"in e))return ne();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Ik(s,i),a=r.targetId;n=new Z1(a,o)}}return n}function Fk(t,e){let n;if(e instanceof dl)n={update:Uw(t,e.key,e.value)};else if(e instanceof X1)n={delete:Dp(t,e.key)};else if(e instanceof Ws)n={update:Uw(t,e.key,e.data),updateMask:Yk(e.fieldMask)};else{if(!(e instanceof Tk))return ne();n={verify:Dp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Tc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ka)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bc)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ne()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Mk(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ne()}(t,e.precondition)),n}function $k(t,e){return t&&t.length>0?(Se(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Kn(s.updateTime):Kn(i);return o.isEqual(re.min())&&(o=Kn(i)),new Ek(o,s.transformResults||[])}(n,e))):[]}function jk(t,e){return{documents:[rT(t,e.path)]}}function Uk(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rT(t,s);const i=function(c){if(c.length!==0)return oT(Ln.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:yi(m.field),direction:Hk(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=kp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:s}}function Bk(t){let e=Vk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Se(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=iT(f);return m instanceof Ln&&O1(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(b){return new Sc(vi(b.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,ud(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,y=f.values||[];return new xc(y,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,y=f.values||[];return new xc(y,m)}(n.endAt)),lk(e,s,o,i,a,"F",u,c)}function zk(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vi(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=vi(n.unaryFilter.field);return rt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=vi(n.unaryFilter.field);return rt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vi(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return rt.create(vi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ln.create(n.compositeFilter.filters.map(r=>iT(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function Hk(t){return kk[t]}function qk(t){return Nk[t]}function Gk(t){return Dk[t]}function yi(t){return{fieldPath:t.canonicalString()}}function vi(t){return _t.fromServerFormat(t.fieldPath)}function oT(t){return t instanceof rt?function(n){if(n.op==="=="){if(Cw(n.value))return{unaryFilter:{field:yi(n.field),op:"IS_NAN"}};if(Iw(n.value))return{unaryFilter:{field:yi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Cw(n.value))return{unaryFilter:{field:yi(n.field),op:"IS_NOT_NAN"}};if(Iw(n.value))return{unaryFilter:{field:yi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yi(n.field),op:qk(n.op),value:n.value}}}(t):t instanceof Ln?function(n){const r=n.getFilters().map(s=>oT(s));return r.length===1?r[0]:{compositeFilter:{op:Gk(n.op),filters:r}}}(t):ne()}function Yk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n,r,s,i=re.min(),o=re.min(),a=St.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.Tt=e}}function Kk(t){const e=Bk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.Tn=new Xk}addToCollectionParentIndex(e,n){return this.Tn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Jr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class Xk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ut(Me.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ut(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lT=41943040;class Bt{static withCacheSize(e){return new Bt(e,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bt.DEFAULT_COLLECTION_PERCENTILE=10,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bt.DEFAULT=new Bt(lT,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bt.DISABLED=new Bt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new no(0)}static Kn(){return new no(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="LruGarbageCollector",Jk=1048576;function Hw([t,e],[n,r]){const s=ce(t,n);return s===0?ce(e,r):s}class Zk{constructor(e){this.Hn=e,this.buffer=new ut(Hw),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Hw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class eN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){W(zw,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){go(n)?W(zw,"Ignoring IndexedDB error during garbage collection: ",n):await mo(n)}await this.er(3e5)})}}class tN{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(ld.ae);const r=new Zk(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Bw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bw):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,i,o,a,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),mi()<=ge.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function nN(t,e){return new tN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.changes=new Ys(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&wa(r.mutation,s,Dn.empty(),lt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){const s=Ts();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ta();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ts();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=gr();const o=va(),a=function(){return va()}();return n.forEach((u,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Ws)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),wa(h.mutation,c,h.mutation.getFieldMask(),lt.now())):o.set(c.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new sN(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=va();let s=new He((o,a)=>o-a),i=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||Dn.empty();h=a.applyToLocalView(c,h),r.set(u,h);const f=(s.get(a.batchId)||de()).add(u);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,f=z1();h.forEach(m=>{if(!i.has(m)){const y=K1(n.get(m),r.get(m));y!==null&&f.set(m,y),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):F1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):F.resolve(Ts());let a=qa,u=i;return o.next(c=>F.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,de())).next(h=>({batchId:a,changes:B1(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let s=ta();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ta();return this.indexManager.getCollectionParents(e,i).next(a=>F.forEach(a,u=>{const c=function(f,m){return new cl(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Dt.newInvalidDocument(h)))});let a=ta();return o.forEach((u,c)=>{const h=i.get(u);h!==void 0&&wa(h.mutation,c,Dn.empty(),lt.now()),hd(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return F.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Kn(s.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:Kk(s.bundledQuery),readTime:Kn(s.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.overlays=new He(J.comparator),this.Rr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ts();return F.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Et(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const s=Ts(),i=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return F.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new He((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=Ts(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Ts(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return F.resolve(a)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ak(n,r));let i=this.Rr.get(n);i===void 0&&(i=de(),this.Rr.set(n,i)),this.Rr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.Vr=new ut(ht.mr),this.gr=new ut(ht.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new ht(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new ht(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new J(new Me([])),r=new ht(n,e),s=new ht(n,e+1),i=[];return this.gr.forEachInRange([r,s],o=>{this.wr(o),i.push(o.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new J(new Me([])),r=new ht(n,e),s=new ht(n,e+1);let i=de();return this.gr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ht(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ht{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return J.comparator(e.key,n.key)||ce(e.Cr,n.Cr)}static pr(e,n){return ce(e.Cr,n.Cr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new ut(ht.mr)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new bk(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Mr=this.Mr.add(new ht(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?rg:this.Fr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ht(n,0),s=new ht(n,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([r,s],o=>{const a=this.Or(o.Cr);i.push(a)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(ce);return n.forEach(s=>{const i=new ht(s,0),o=new ht(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],a=>{r=r.add(a.Cr)})}),F.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;J.isDocumentKey(i)||(i=i.child(""));const o=new ht(new J(i),0);let a=new ut(ce);return this.Mr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.Cr)),!0)},o),F.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Se(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return F.forEach(n.mutations,s=>{const i=new ht(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new ht(n,0),s=this.Mr.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.kr=e,this.docs=function(){return new He(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=gr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Dt.newInvalidDocument(s))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=gr();const o=n.path,a=new J(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||jP($P(h),r)<=0||(s.has(h.key)||hd(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ne()}qr(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dN(this)}getSize(e){return F.resolve(this.size)}}class dN extends rN{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.persistence=e,this.Qr=new Ys(n=>og(n),ag),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.$r=0,this.Ur=new fg,this.targetCount=0,this.Kr=no.Un()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),F.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new no(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.zn(n),F.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),F.waitFor(i).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new ld(0),this.zr=!1,this.zr=!0,this.jr=new lN,this.referenceDelegate=e(this),this.Hr=new hN(this),this.indexManager=new Qk,this.remoteDocumentCache=function(s){return new cN(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Wk(n),this.Yr=new oN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new uN(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const s=new fN(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(i=>this.referenceDelegate.Xr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}ei(e,n){return F.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class fN extends BP{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.ti=new fg,this.ni=null}static ri(e){return new pg(e)}get ii(){if(this.ni)return this.ni;throw ne()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),F.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ii.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.ii,r=>{const s=J.fromPath(r);return this.si(e,s).next(i=>{i||n.removeEntry(s,re.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return F.or([()=>F.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Ic{constructor(e,n){this.persistence=e,this.oi=new Ys(r=>qP(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=nN(this,n)}static ri(e,n){return new Ic(e,n)}Zr(){}Xr(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return F.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(i=>i?F.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,i.removeEntry(o,re.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),F.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ou(e.data.value)),n}ar(e,n,r){return F.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return F.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=de(),s=de();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new mg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return cR()?8:zP(lR())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new pN;return this._s(e,n,o).next(a=>{if(i.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>i.result)}us(e,n,r,s){return r.documentReadCount<this.es?(mi()<=ge.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",gi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),F.resolve()):(mi()<=ge.DEBUG&&W("QueryEngine","Query:",gi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(mi()<=ge.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",gi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(n))):F.resolve())}rs(e,n){if(Nw(n))return F.resolve(null);let r=Wn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Pp(n,null,"F"),r=Wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=de(...i);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.cs(n,a);return this.ls(n,c,o,u.readTime)?this.rs(e,Pp(n,null,"F")):this.hs(e,c,n,u)}))})))}ss(e,n,r,s){return Nw(n)||s.isEqual(re.min())?F.resolve(null):this.ns.getDocuments(e,r).next(i=>{const o=this.cs(n,i);return this.ls(n,o,r,s)?F.resolve(null):(mi()<=ge.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),gi(n)),this.hs(e,o,n,FP(s,qa)).next(a=>a))})}cs(e,n){let r=new ut(j1(e));return n.forEach((s,i)=>{hd(e,i)&&(r=r.add(i))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,n,r){return mi()<=ge.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",gi(n)),this.ns.getDocumentsMatchingQuery(e,n,Jr.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="LocalStore",gN=3e8;class yN{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new He(ce),this.Is=new Ys(i=>og(i),ag),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function vN(t,e,n,r){return new yN(t,e,n,r)}async function cT(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=de();for(const c of s){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function wN(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const f=c.batch,m=f.keys();let y=F.resolve();return m.forEach(b=>{y=y.next(()=>h.getEntry(u,b)).next(I=>{const P=c.docVersions.get(b);Se(P!==null),I.version.compareTo(P)<0&&(f.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),h.addEntry(I)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=de();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function dT(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function _N(t,e){const n=se(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.Hr.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Hr.addMatchingKeys(i,h.addedDocuments,f)));let y=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(St.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(f,y),function(I,P,_){return I.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=gN?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,y,h)&&a.push(n.Hr.updateTargetData(i,y))});let u=gr(),c=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(EN(i,o,e.documentUpdates).next(h=>{u=h.Vs,c=h.fs})),!r.isEqual(re.min())){const h=n.Hr.getLastRemoteSnapshotVersion(i).next(f=>n.Hr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.Ts=s,i))}function EN(t,e,n){let r=de(),s=de();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=gr();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):W(gg,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Vs:o,fs:s}})}function xN(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=rg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function SN(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(i=>i?(s=i,F.resolve(s)):n.Hr.allocateTargetId(r).next(o=>(s=new Dr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Mp(t,e,n){const r=se(t),s=r.Ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!go(o))throw o;W(gg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function qw(t,e,n){const r=se(t);let s=re.min(),i=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const f=se(u),m=f.Is.get(h);return m!==void 0?F.resolve(f.Ts.get(m)):f.Hr.getTargetData(c,h)}(r,o,Wn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?s:re.min(),n?i:de())).next(a=>(TN(r,ck(e),a),{documents:a,gs:i})))}function TN(t,e,n){let r=t.Es.get(e)||re.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Es.set(e,r)}class Gw{constructor(){this.activeTargetIds=gk()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bN{constructor(){this.ho=new Gw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Gw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="ConnectivityMonitor";class Ww{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){W(Yw,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){W(Yw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu=null;function Vp(){return uu===null?uu=function(){return 268435456+Math.round(2147483648*Math.random())}():uu++,"0x"+uu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="RestConnection",IN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===_c?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,i){const o=Vp(),a=this.bo(e,n.toUriEncodedString());W(tf,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,s,i),this.vo(e,a,u,r).then(c=>(W(tf,`Received RPC '${e}' ${o}: `,c),c),c=>{throw Ji(tf,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,s,i,o){return this.So(e,n,r,s,i)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+po}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}bo(e,n){const r=IN[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class PN extends CN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const i=Vp();return new Promise((o,a)=>{const u=new m1;u.setWithCredentials(!0),u.listenOnce(g1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Du.NO_ERROR:const h=u.getResponseJson();W(Rt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case Du.TIMEOUT:W(Rt,`RPC '${e}' ${i} timed out`),a(new X(j.DEADLINE_EXCEEDED,"Request time out"));break;case Du.HTTP_ERROR:const f=u.getStatus();if(W(Rt,`RPC '${e}' ${i} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const b=function(P){const _=P.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(_)>=0?_:j.UNKNOWN}(y.status);a(new X(b,y.message))}else a(new X(j.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new X(j.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{W(Rt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);W(Rt,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",c,r,15)})}Wo(e,n,r){const s=Vp(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=w1(),a=v1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=i.join("");W(Rt,`Creating RPC '${e}' stream ${s}: ${h}`,u);const f=o.createWebChannel(h,u);let m=!1,y=!1;const b=new RN({Fo:P=>{y?W(Rt,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(m||(W(Rt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),W(Rt,`RPC '${e}' stream ${s} sending:`,P),f.send(P))},Mo:()=>f.close()}),I=(P,_,x)=>{P.listen(_,R=>{try{x(R)}catch(N){setTimeout(()=>{throw N},0)}})};return I(f,ea.EventType.OPEN,()=>{y||(W(Rt,`RPC '${e}' stream ${s} transport opened.`),b.Qo())}),I(f,ea.EventType.CLOSE,()=>{y||(y=!0,W(Rt,`RPC '${e}' stream ${s} transport closed`),b.Uo())}),I(f,ea.EventType.ERROR,P=>{y||(y=!0,Ji(Rt,`RPC '${e}' stream ${s} transport errored:`,P),b.Uo(new X(j.UNAVAILABLE,"The operation could not be completed")))}),I(f,ea.EventType.MESSAGE,P=>{var _;if(!y){const x=P.data[0];Se(!!x);const R=x,N=(R==null?void 0:R.error)||((_=R[0])===null||_===void 0?void 0:_.error);if(N){W(Rt,`RPC '${e}' stream ${s} received error:`,N);const D=N.status;let O=function(C){const p=et[C];if(p!==void 0)return J1(p)}(D),w=N.message;O===void 0&&(O=j.INTERNAL,w="Unknown error status: "+D+" with message "+N.message),y=!0,b.Uo(new X(O,w)),f.close()}else W(Rt,`RPC '${e}' stream ${s} received:`,x),b.Ko(x)}}),I(a,y1.STAT_EVENT,P=>{P.stat===xp.PROXY?W(Rt,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===xp.NOPROXY&&W(Rt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.$o()},0),b}}function nf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t){return new Ok(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&W("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="PersistentStream";class fT{constructor(e,n,r,s,i,o,a,u){this.Ti=e,this.n_=r,this.r_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new hT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new X(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return W(Kw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(W(Kw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kN extends fT{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=Lk(this.serializer,e),r=function(i){if(!("targetChange"in i))return re.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?Kn(o.readTime):re.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Op(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=Cp(u)?{documents:jk(i,u)}:{query:Uk(i,u).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=tT(i,o.resumeToken);const c=kp(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(re.min())>0){a.readTime=Ac(i,o.snapshotVersion.toTimestamp());const c=kp(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=zk(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Op(this.serializer),n.removeTarget=e,this.I_(n)}}class NN extends fT{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Se(!!e.streamToken),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=$k(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Op(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Fk(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{}class ON extends DN{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new X(j.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,Np(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(j.UNKNOWN,i.toString())})}Co(e,n,r,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,Np(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(j.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class MN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(mr(n),this.N_=!1):W("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="RemoteStore";class VN{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(o=>{r.enqueueAndForget(async()=>{Ks(this)&&(W($s,"Restarting streams for network reachability change."),await async function(u){const c=se(u);c.W_.add(4),await fl(c),c.j_.set("Unknown"),c.W_.delete(4),await yd(c)}(this))})}),this.j_=new MN(r,s)}}async function yd(t){if(Ks(t))for(const e of t.G_)await e(!0)}async function fl(t){for(const e of t.G_)await e(!1)}function pT(t,e){const n=se(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),_g(n)?wg(n):yo(n).c_()&&vg(n,e))}function yg(t,e){const n=se(t),r=yo(n);n.K_.delete(e),r.c_()&&mT(n,e),n.K_.size===0&&(r.c_()?r.P_():Ks(n)&&n.j_.set("Unknown"))}function vg(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yo(t).y_(e)}function mT(t,e){t.H_.Ne(e),yo(t).w_(e)}function wg(t){t.H_=new Pk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),yo(t).start(),t.j_.B_()}function _g(t){return Ks(t)&&!yo(t).u_()&&t.K_.size>0}function Ks(t){return se(t).W_.size===0}function gT(t){t.H_=void 0}async function LN(t){t.j_.set("Online")}async function FN(t){t.K_.forEach((e,n)=>{vg(t,e)})}async function $N(t,e){gT(t),_g(t)?(t.j_.q_(e),wg(t)):t.j_.set("Unknown")}async function jN(t,e,n){if(t.j_.set("Online"),e instanceof eT&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.K_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.K_.delete(a),s.H_.removeTarget(a))}(t,e)}catch(r){W($s,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cc(t,r)}else if(e instanceof Lu?t.H_.We(e):e instanceof Z1?t.H_.Ze(e):t.H_.je(e),!n.isEqual(re.min()))try{const r=await dT(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.H_.ot(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.K_.get(c);h&&i.K_.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=i.K_.get(u);if(!h)return;i.K_.set(u,h.withResumeToken(St.EMPTY_BYTE_STRING,h.snapshotVersion)),mT(i,u);const f=new Dr(h.target,u,c,h.sequenceNumber);vg(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){W($s,"Failed to raise snapshot:",r),await Cc(t,r)}}async function Cc(t,e,n){if(!go(e))throw e;t.W_.add(1),await fl(t),t.j_.set("Offline"),n||(n=()=>dT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W($s,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await yd(t)})}function yT(t,e){return e().catch(n=>Cc(t,n,e))}async function vd(t){const e=se(t),n=ns(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:rg;for(;UN(e);)try{const s=await xN(e.localStore,r);if(s===null){e.U_.length===0&&n.P_();break}r=s.batchId,BN(e,s)}catch(s){await Cc(e,s)}vT(e)&&wT(e)}function UN(t){return Ks(t)&&t.U_.length<10}function BN(t,e){t.U_.push(e);const n=ns(t);n.c_()&&n.S_&&n.b_(e.mutations)}function vT(t){return Ks(t)&&!ns(t).u_()&&t.U_.length>0}function wT(t){ns(t).start()}async function zN(t){ns(t).C_()}async function HN(t){const e=ns(t);for(const n of t.U_)e.b_(n.mutations)}async function qN(t,e,n){const r=t.U_.shift(),s=cg.from(r,e,n);await yT(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await vd(t)}async function GN(t,e){e&&ns(t).S_&&await async function(r,s){if(function(o){return Ck(o)&&o!==j.ABORTED}(s.code)){const i=r.U_.shift();ns(r).h_(),await yT(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await vd(r)}}(t,e),vT(t)&&wT(t)}async function Qw(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),W($s,"RemoteStore received new credentials");const r=Ks(n);n.W_.add(3),await fl(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await yd(n)}async function YN(t,e){const n=se(t);e?(n.W_.delete(2),await yd(n)):e||(n.W_.add(2),await fl(n),n.j_.set("Unknown"))}function yo(t){return t.J_||(t.J_=function(n,r,s){const i=se(n);return i.M_(),new kN(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:LN.bind(null,t),No:FN.bind(null,t),Lo:$N.bind(null,t),p_:jN.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),_g(t)?wg(t):t.j_.set("Unknown")):(await t.J_.stop(),gT(t))})),t.J_}function ns(t){return t.Y_||(t.Y_=function(n,r,s){const i=se(n);return i.M_(),new NN(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:zN.bind(null,t),Lo:GN.bind(null,t),D_:HN.bind(null,t),v_:qN.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await vd(t)):(await t.Y_.stop(),t.U_.length>0&&(W($s,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Eg(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xg(t,e){if(mr("AsyncQueue",`${e}: ${t}`),go(t))return new X(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{static emptySet(e){return new $i(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=ta(),this.sortedSet=new He(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $i)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $i;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.Z_=new He(J.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ne():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ro{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ro(e,n,$i.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class KN{constructor(){this.queries=Jw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=se(n),i=s.queries;s.queries=Jw(),i.forEach((o,a)=>{for(const u of a.ta)u.onError(r)})})(this,new X(j.ABORTED,"Firestore shutting down"))}}function Jw(){return new Ys(t=>$1(t),dd)}async function QN(t,e){const n=se(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.na()&&e.ra()&&(r=2):(i=new WN,r=e.ra()?0:1);try{switch(r){case 0:i.ea=await n.onListen(s,!0);break;case 1:i.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=xg(o,`Initialization of query '${gi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ta.push(e),e.sa(n.onlineState),i.ea&&e.oa(i.ea)&&Sg(n)}async function XN(t,e){const n=se(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ta.indexOf(e);o>=0&&(i.ta.splice(o,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function JN(t,e){const n=se(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ta)a.oa(s)&&(r=!0);o.ea=s}}r&&Sg(n)}function ZN(t,e,n){const r=se(t),s=r.queries.get(e);if(s)for(const i of s.ta)i.onError(n);r.queries.delete(e)}function Sg(t){t.ia.forEach(e=>{e.next()})}var Lp,Zw;(Zw=Lp||(Lp={}))._a="default",Zw.Cache="cache";class eD{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ro(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this.key=e}}class ET{constructor(e){this.key=e}}class tD{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=de(),this.mutatedKeys=de(),this.ya=j1(e),this.wa=new $i(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new Xw,s=n?n.wa:this.wa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),y=hd(this.query,f)?f:null,b=!!m&&this.mutatedKeys.has(m.key),I=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let P=!1;m&&y?m.data.isEqual(y.data)?b!==I&&(r.track({type:3,doc:y}),P=!0):this.va(m,y)||(r.track({type:2,doc:y}),P=!0,(u&&this.ya(y,u)>0||c&&this.ya(y,c)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),P=!0):m&&!y&&(r.track({type:1,doc:m}),P=!0,(u||c)&&(a=!0)),P&&(y?(o=o.add(y),i=I?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{wa:o,Da:r,ls:a,mutatedKeys:i}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((h,f)=>function(y,b){const I=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return I(y)-I(b)}(h.type,f.type)||this.ya(h.doc,f.doc)),this.Ca(r),s=s!=null&&s;const a=n&&!s?this.Fa():[],u=this.pa.size===0&&this.current&&!s?1:0,c=u!==this.ga;return this.ga=u,o.length!==0||c?{snapshot:new ro(this.query,e.wa,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Xw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=de(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new ET(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new _T(r))}),n}Oa(e){this.fa=e.gs,this.pa=de();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return ro.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Tg="SyncEngine";class nD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rD{constructor(e){this.key=e,this.Ba=!1}}class sD{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Ys(a=>$1(a),dd),this.qa=new Map,this.Qa=new Set,this.$a=new He(J.comparator),this.Ua=new Map,this.Ka=new fg,this.Wa={},this.Ga=new Map,this.za=no.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function iD(t,e,n=!0){const r=IT(t);let s;const i=r.ka.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await xT(r,e,n,!0),s}async function oD(t,e){const n=IT(t);await xT(n,e,!0,!1)}async function xT(t,e,n,r){const s=await SN(t.localStore,Wn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await aD(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&pT(t.remoteStore,s),a}async function aD(t,e,n,r,s){t.Ha=(f,m,y)=>async function(I,P,_,x){let R=P.view.ba(_);R.ls&&(R=await qw(I.localStore,P.query,!1).then(({documents:w})=>P.view.ba(w,R)));const N=x&&x.targetChanges.get(P.targetId),D=x&&x.targetMismatches.get(P.targetId)!=null,O=P.view.applyChanges(R,I.isPrimaryClient,N,D);return t_(I,P.targetId,O.Ma),O.snapshot}(t,f,m,y);const i=await qw(t.localStore,e,!0),o=new tD(e,i.gs),a=o.ba(i.documents),u=hl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);t_(t,n,c.Ma);const h=new nD(e,n,o);return t.ka.set(e,h),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function lD(t,e,n){const r=se(t),s=r.ka.get(e),i=r.qa.get(s.targetId);if(i.length>1)return r.qa.set(s.targetId,i.filter(o=>!dd(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Mp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&yg(r.remoteStore,s.targetId),Fp(r,s.targetId)}).catch(mo)):(Fp(r,s.targetId),await Mp(r.localStore,s.targetId,!0))}async function uD(t,e){const n=se(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yg(n.remoteStore,r.targetId))}async function cD(t,e,n){const r=yD(t);try{const s=await function(o,a){const u=se(o),c=lt.now(),h=a.reduce((y,b)=>y.add(b.key),de());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=gr(),I=de();return u.ds.getEntries(y,h).next(P=>{b=P,b.forEach((_,x)=>{x.isValidDocument()||(I=I.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,b)).next(P=>{f=P;const _=[];for(const x of a){const R=Sk(x,f.get(x.key).overlayedDocument);R!=null&&_.push(new Ws(x.key,R,k1(R.value.mapValue),lr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,_,a)}).next(P=>{m=P;const _=P.applyToLocalDocumentSet(f,I);return u.documentOverlayCache.saveOverlays(y,P.batchId,_)})}).then(()=>({batchId:m.batchId,changes:B1(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.Wa[o.currentUser.toKey()];c||(c=new He(ce)),c=c.insert(a,u),o.Wa[o.currentUser.toKey()]=c}(r,s.batchId,n),await pl(r,s.changes),await vd(r.remoteStore)}catch(s){const i=xg(s,"Failed to persist write");n.reject(i)}}async function ST(t,e){const n=se(t);try{const r=await _N(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ua.get(i);o&&(Se(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?Se(o.Ba):s.removedDocuments.size>0&&(Se(o.Ba),o.Ba=!1))}),await pl(n,r,e)}catch(r){await mo(r)}}function e_(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((i,o)=>{const a=o.view.sa(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=se(o);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const m of f.ta)m.sa(a)&&(c=!0)}),c&&Sg(u)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dD(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ua.get(e),i=s&&s.key;if(i){let o=new He(J.comparator);o=o.insert(i,Dt.newNoDocument(i,re.min()));const a=de().add(i),u=new md(re.min(),new Map,new He(ce),o,a);await ST(r,u),r.$a=r.$a.remove(i),r.Ua.delete(e),bg(r)}else await Mp(r.localStore,e,!1).then(()=>Fp(r,e,n)).catch(mo)}async function hD(t,e){const n=se(t),r=e.batch.batchId;try{const s=await wN(n.localStore,e);bT(n,r,null),TT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pl(n,s)}catch(s){await mo(s)}}async function fD(t,e,n){const r=se(t);try{const s=await function(o,a){const u=se(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(Se(f!==null),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);bT(r,e,n),TT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await pl(r,s)}catch(s){await mo(s)}}function TT(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function bT(t,e,n){const r=se(t);let s=r.Wa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function Fp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||AT(t,r)})}function AT(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(yg(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),bg(t))}function t_(t,e,n){for(const r of n)r instanceof _T?(t.Ka.addReference(r.key,e),pD(t,r)):r instanceof ET?(W(Tg,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||AT(t,r.key)):ne()}function pD(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(W(Tg,"New document in limbo: "+n),t.Qa.add(r),bg(t))}function bg(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new J(Me.fromString(e)),r=t.za.next();t.Ua.set(r,new rD(n)),t.$a=t.$a.insert(n,r),pT(t.remoteStore,new Dr(Wn(lg(n.path)),r,"TargetPurposeLimboResolution",ld.ae))}}async function pl(t,e,n){const r=se(t),s=[],i=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,u)=>{o.push(r.Ha(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){s.push(c);const f=mg.Yi(u.targetId,c);i.push(f)}}))}),await Promise.all(o),r.La.p_(s),await async function(u,c){const h=se(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>F.forEach(c,m=>F.forEach(m.Hi,y=>h.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>F.forEach(m.Ji,y=>h.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!go(f))throw f;W(gg,"Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const y=h.Ts.get(m),b=y.snapshotVersion,I=y.withLastLimboFreeSnapshotVersion(b);h.Ts=h.Ts.insert(m,I)}}}(r.localStore,i))}async function mD(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){W(Tg,"User change. New user:",e.toKey());const r=await cT(n.localStore,e);n.currentUser=e,function(i,o){i.Ga.forEach(a=>{a.forEach(u=>{u.reject(new X(j.CANCELLED,o))})}),i.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pl(n,r.Rs)}}function gD(t,e){const n=se(t),r=n.Ua.get(e);if(r&&r.Ba)return de().add(r.key);{let s=de();const i=n.qa.get(e);if(!i)return s;for(const o of i){const a=n.ka.get(o);s=s.unionWith(a.view.Sa)}return s}}function IT(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ST.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dD.bind(null,e),e.La.p_=JN.bind(null,e.eventManager),e.La.Ja=ZN.bind(null,e.eventManager),e}function yD(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fD.bind(null,e),e}class Rc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return vN(this.persistence,new mN,e.initialUser,this.serializer)}Xa(e){return new uT(pg.ri,this.serializer)}Za(e){return new bN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rc.provider={build:()=>new Rc};class vD extends Rc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Se(this.persistence.referenceDelegate instanceof Ic);const r=this.persistence.referenceDelegate.garbageCollector;return new eN(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Bt.withCacheSize(this.cacheSizeBytes):Bt.DEFAULT;return new uT(r=>Ic.ri(r,n),this.serializer)}}class $p{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>e_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mD.bind(null,this.syncEngine),await YN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KN}()}createDatastore(e){const n=gd(e.databaseInfo.databaseId),r=function(i){return new PN(i)}(e.databaseInfo);return function(i,o,a,u){return new ON(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new VN(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>e_(this.syncEngine,n,0),function(){return Ww.D()?new Ww:new AN}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,h){const f=new sD(s,i,o,a,u,c);return h&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=se(s);W($s,"RemoteStore shutting down."),i.W_.add(5),await fl(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$p.provider={build:()=>new $p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="FirestoreClient";class _D{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=kt.UNAUTHENTICATED,this.clientId=E1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{W(rs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W(rs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rf(t,e){t.asyncQueue.verifyOperationInProgress(),W(rs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await cT(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function n_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ED(t);W(rs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Qw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Qw(e.remoteStore,s)),t._onlineComponents=e}async function ED(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W(rs,"Using user provided OfflineComponentProvider");try{await rf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===j.FAILED_PRECONDITION||s.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ji("Error using user provided cache. Falling back to memory cache: "+n),await rf(t,new Rc)}}else W(rs,"Using default OfflineComponentProvider"),await rf(t,new vD(void 0));return t._offlineComponents}async function CT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W(rs,"Using user provided OnlineComponentProvider"),await n_(t,t._uninitializedComponentsProvider._online)):(W(rs,"Using default OnlineComponentProvider"),await n_(t,new $p))),t._onlineComponents}function xD(t){return CT(t).then(e=>e.syncEngine)}async function r_(t){const e=await CT(t),n=e.eventManager;return n.onListen=iD.bind(null,e.syncEngine),n.onUnlisten=lD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uD.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t,e,n){if(!n)throw new X(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function SD(t,e,n,r){if(e===!0&&r===!0)throw new X(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function i_(t){if(!J.isDocumentKey(t))throw new X(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function o_(t){if(J.isDocumentKey(t))throw new X(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function ji(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wd(t);throw new X(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="firestore.googleapis.com",a_=!0;class l_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kT,this.ssl=a_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:a_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Jk)throw new X(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new X(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new X(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new X(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PP;switch(r.type){case"firstParty":return new OP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=s_.get(n);r&&(W("ComponentProvider","Removing Datastore"),s_.delete(n),r.terminate())}(this),Promise.resolve()}}function TD(t,e,n,r={}){var s;const i=(t=ji(t,_d))._getSettings(),o=`${e}:${n}`;if(i.host!==kT&&i.host!==o&&Ji("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=kt.MOCK_USER;else{a=aR(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new X(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new kt(c)}t._authCredentials=new kP(new _1(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vo(this.firestore,e,this._query)}}class Wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}}class qr extends vo{constructor(e,n,r){super(e,n,lg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new J(e))}withConverter(e){return new qr(this.firestore,e,this._path)}}function js(t,e,...n){if(t=Ls(t),PT("collection","path",e),t instanceof _d){const r=Me.fromString(e,...n);return o_(r),new qr(t,null,r)}{if(!(t instanceof Wt||t instanceof qr))throw new X(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return o_(r),new qr(t.firestore,null,r)}}function bD(t,e,...n){if(t=Ls(t),arguments.length===1&&(e=E1.newId()),PT("doc","path",e),t instanceof _d){const r=Me.fromString(e,...n);return i_(r),new Wt(t,null,new J(r))}{if(!(t instanceof Wt||t instanceof qr))throw new X(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return i_(r),new Wt(t.firestore,t instanceof qr?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="AsyncQueue";class c_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new hT(this,"async_queue_retry"),this.Su=()=>{const r=nf();r&&W(u_,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=nf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=nf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Cs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!go(e))throw e;W(u_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw mr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=Eg.createAndSchedule(this,e,n,r,i=>this.Fu(i));return this.fu.push(s),s}Du(){this.gu&&ne()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function d_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Pc extends _d{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new c_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new c_(e),this._firestoreClient=void 0,await e}}}function AD(t,e){const n=typeof t=="object"?t:yP(),r=typeof t=="string"?t:_c,s=hP(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=iR("firestore");i&&TD(s,...i)}return s}function NT(t){if(t._terminated)throw new X(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ID(t),t._firestoreClient}function ID(t){var e,n,r;const s=t._freezeSettings(),i=function(a,u,c,h){return new WP(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,RT(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new _D(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this._byteString=e}static fromBase64String(e){try{return new so(St.fromBase64String(e))}catch(n){throw new X(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new so(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=/^__.*__$/;class RD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new dl(e,this.data,n,this.fieldTransforms)}}function OT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}class Rg{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Rg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return kc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(OT(this.Lu)&&CD.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class PD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gd(e)}ju(e,n,r,s=!1){return new Rg({Lu:e,methodName:n,zu:r,path:_t.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function MT(t){const e=t._freezeSettings(),n=gd(t._databaseId);return new PD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kD(t,e,n,r,s,i={}){const o=t.ju(i.merge||i.mergeFields?2:0,e,n,s);FT("Data must be an object, but it was:",o,r);const a=VT(r,o);let u,c;if(i.merge)u=new Dn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=DD(e,f,n);if(!o.contains(m))throw new X(j.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);MD(h,m)||h.push(m)}u=new Dn(h),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new RD(new gn(a),u,c)}function ND(t,e,n,r=!1){return Pg(n,t.ju(r?4:3,e))}function Pg(t,e){if(LT(t=Ls(t)))return FT("Unsupported field value:",e,t),VT(t,e);if(t instanceof DT)return function(r,s){if(!OT(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=Pg(a,s.Ku(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ls(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yk(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=lt.fromDate(r);return{timestampValue:Ac(s.serializer,i)}}if(r instanceof lt){const i=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ac(s.serializer,i)}}if(r instanceof Ig)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof so)return{bytesValue:tT(s.serializer,r._byteString)};if(r instanceof Wt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:hg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Cg)return function(o,a){return{mapValue:{fields:{[R1]:{stringValue:P1},[Ec]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return ug(a.serializer,c)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${wd(r)}`)}(t,e)}function VT(t,e){const n={};return S1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(t,(r,s)=>{const i=Pg(s,e.qu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function LT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof Ig||t instanceof so||t instanceof Wt||t instanceof DT||t instanceof Cg)}function FT(t,e,n){if(!LT(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=wd(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function DD(t,e,n){if((e=Ls(e))instanceof Ag)return e._internalPath;if(typeof e=="string")return $T(t,e);throw kc("Field path arguments must be of type string or ",t,!1,void 0,n)}const OD=new RegExp("[~\\*/\\[\\]]");function $T(t,e,n){if(e.search(OD)>=0)throw kc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ag(...e.split("."))._internalPath}catch{throw kc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new X(j.INVALID_ARGUMENT,a+t+u)}function MD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(UT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VD extends jT{data(){return super.data()}}function UT(t,e){return typeof e=="string"?$T(t,e):e instanceof Ag?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kg{}class FD extends kg{}function $D(t,e,...n){let r=[];e instanceof kg&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof Dg).length,a=i.filter(u=>u instanceof Ng).length;if(o>1||o>0&&a>0)throw new X(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Ng extends FD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ng(e,n,r)}_apply(e){const n=this._parse(e);return BT(e._query,n),new vo(e.firestore,e.converter,Rp(e._query,n))}_parse(e){const n=MT(e.firestore);return function(i,o,a,u,c,h,f){let m;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new X(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){f_(f,h);const b=[];for(const I of f)b.push(h_(u,i,I));m={arrayValue:{values:b}}}else m=h_(u,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||f_(f,h),m=ND(a,o,f,h==="in"||h==="not-in");return rt.create(c,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Dg extends kg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Dg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ln.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const u of a)BT(o,u),o=Rp(o,u)}(e._query,n),new vo(e.firestore,e.converter,Rp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function h_(t,e,n){if(typeof(n=Ls(n))=="string"){if(n==="")throw new X(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F1(e)&&n.indexOf("/")!==-1)throw new X(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!J.isDocumentKey(r))throw new X(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Aw(t,new J(r))}if(n instanceof Wt)return Aw(t,n._key);throw new X(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wd(n)}.`)}function f_(t,e){if(!Array.isArray(t)||t.length===0)throw new X(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BT(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jD{convertValue(e,n="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Gs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Ec].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Qe(o.doubleValue));return new Cg(i)}convertGeoPoint(e){return new Ig(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=cd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ga(e));default:return null}}convertTimestamp(e){const n=Zr(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Se(aT(r));const s=new Ya(r.get(1),r.get(3)),i=new J(r.popFirst(5));return s.isEqual(n)||mr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zT extends jT{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(UT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Fu extends zT{data(e={}){return super.data(e)}}class BD{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ra(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Fu(this._firestore,this._userDataWriter,r.key,r,new ra(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new Fu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ra(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new Fu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ra(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:zD(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}class HT extends jD{constructor(e){super(),this.firestore=e}convertBytes(e){return new so(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function HD(t,e,n){t=ji(t,Wt);const r=ji(t.firestore,Pc),s=UD(t.converter,e);return qD(r,[kD(MT(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,lr.none())])}function Us(t,...e){var n,r,s;t=Ls(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||d_(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(d_(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let u,c,h;if(t instanceof Wt)c=ji(t.firestore,Pc),h=lg(t._key.path),u={next:f=>{e[o]&&e[o](GD(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=ji(t,vo);c=ji(f.firestore,Pc),h=f._query;const m=new HT(c);u={next:y=>{e[o]&&e[o](new BD(c,m,f,y))},error:e[o+1],complete:e[o+2]},LD(t._query)}return function(m,y,b,I){const P=new wD(I),_=new eD(y,P,b);return m.asyncQueue.enqueueAndForget(async()=>QN(await r_(m),_)),()=>{P.su(),m.asyncQueue.enqueueAndForget(async()=>XN(await r_(m),_))}}(NT(c),h,a,u)}function qD(t,e){return function(r,s){const i=new Cs;return r.asyncQueue.enqueueAndForget(async()=>cD(await xD(r),s,i)),i.promise}(NT(t),e)}function GD(t,e,n){const r=n.docs.get(e._key),s=new HT(t);return new zT(t,s,e._key,r,new ra(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){po=s})(gP),vc(new za("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Pc(new NP(r.getProvider("auth-internal")),new MP(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new X(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ya(c.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Fi(mw,gw,e),Fi(mw,gw,"esm2017")})();const YD={apiKey:"AIzaSyCBZLT3rgxVorNPu5iKdGDV4QL1JBKidZA",authDomain:"investment-dashboard-77e78.firebaseapp.com",projectId:"investment-dashboard-77e78",storageBucket:"investment-dashboard-77e78.firebasestorage.app",messagingSenderId:"412792088409",appId:"1:412792088409:web:cf4317d151df3211d64e48"},WD=d1(YD),ss=AD(WD),jp={YMAG:{frequency:"weekly",history:{2025:{1:.16,2:.19,3:"TBD",4:.19,5:.19,6:.19,7:.19,8:.19}}},YMAX:{frequency:"weekly",history:{2025:{1:.15,2:.19,3:"TBD"}}},LFGY:{frequency:"weekly",history:{2025:{1:.69,2:.69,3:"TBD"}}},GPTY:{frequency:"weekly",history:{2025:{1:"TBD",2:.34,3:"TBD"}}},TSLY:{frequency:"13x",history:{2025:{1:.72,2:"TBD"}}},GOOY:{frequency:"13x",history:{2025:{1:.33,2:"TBD"}}},YBIT:{frequency:"13x",history:{2025:{1:.79,2:"TBD"}}},OARK:{frequency:"13x",history:{2025:{1:.33,2:"TBD"}}},XOMO:{frequency:"13x",history:{2025:{1:.35,2:"TBD"}}},TSMY:{frequency:"13x",history:{2025:{1:.65,2:"TBD"}}},CRSH:{frequency:"13x",history:{2025:{1:.29,2:"TBD"}}},FIVY:{frequency:"13x",history:{2025:{1:1.68,2:"TBD"}}},FEAT:{frequency:"13x",history:{2025:{1:2.2,2:"TBD"}}},NVDY:{frequency:"13x",history:{2025:{1:.87,2:"TBD"}}},FBY:{frequency:"13x",history:{2025:{1:.54,2:"TBD"}}},GDXY:{frequency:"13x",history:{2025:{1:.48,2:"TBD"}}},JPMO:{frequency:"13x",history:{2025:{1:.5,2:"TBD"}}},MRNY:{frequency:"13x",history:{2025:{1:.26,2:"TBD"}}},MARO:{frequency:"13x",history:{2025:{1:2.3,2:"TBD"}}},PLTY:{frequency:"13x",history:{2025:{1:1.68,2:"TBD"}}},CONY:{frequency:"monthly",history:{2025:{1:.83,2:1.05}}},MSFO:{frequency:"monthly",history:{2025:{1:.37,2:.36}}},AMDY:{frequency:"monthly",history:{2025:{1:.34,2:.38}}},NFLY:{frequency:"monthly",history:{2025:{1:.58,2:1.07}}},PYPY:{frequency:"monthly",history:{2025:{1:.43,2:.67}}},ULTY:{frequency:"monthly",history:{2025:{1:.57,2:.54}}},ABNY:{frequency:"monthly",history:{2025:{1:.42,2:.4}}},MSTY:{frequency:"monthly",history:{2025:{1:2.28,2:"TBD"}}},AMZY:{frequency:"monthly",history:{2025:{1:.4,2:"TBD"}}},APLY:{frequency:"monthly",history:{2025:{1:.28,2:"TBD"}}},DISO:{frequency:"monthly",history:{2025:{1:.28,2:"TBD"}}},SQY:{frequency:"monthly",history:{2025:{1:.63,2:"TBD"}}},SMCY:{frequency:"monthly",history:{2025:{1:1.72,2:"TBD"}}},AIYY:{frequency:"monthly",history:{2025:{1:.38,2:"TBD"}}}},p_=Object.entries(jp).map(([t,e])=>({ticker:t,frequency:e.frequency,group:KD(e.frequency),name:QD(t)}));function KD(t){switch(t){case"weekly":return"WEEKLY";case"13x":return t.includes("A")?"GROUP_A":"GROUP_B";case"monthly":return t.includes("C")?"GROUP_C":"GROUP_D";default:return""}}function QD(t){return{YMAG:"YieldMax AAPL Option Income Strategy ETF",YMAX:"YieldMax TSLA Option Income Strategy ETF",LFGY:"Leverage Shares FAANG+ ETF",GPTY:"Growth Property Trust ETF",TSLY:"YieldMax TSLA Option Income Strategy ETF"}[t]||`${t} ETF`}var m_;(function(t){t.HEADER="header",t.QUERY="query"})(m_||(m_={}));var g_;(function(t){t.HEADER="header",t.QUERY="query"})(g_||(g_={}));var Xa;(function(t){t.HTTP="http",t.HTTPS="https"})(Xa||(Xa={}));var Nc;(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(Nc||(Nc={}));var y_;(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(y_||(y_={}));const Up="__smithy_context";var v_;(function(t){t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services"})(v_||(v_={}));var w_;(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(w_||(w_={}));const Ed=t=>t[Up]||(t[Up]={}),ur=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e},qT="preferred",XD=["disabled","preferred","required"];function JD(t){return XD.includes(t)}const ZD=t=>{const e=ur(t.accountIdEndpointMode??qT);return{...t,accountIdEndpointMode:async()=>{const n=await e();if(!JD(n))throw new Error(`Invalid value for accountIdEndpointMode: ${n}. Valid values are: "required", "preferred", "disabled".`);return n}}},eO=t=>{let e=t.httpHandler;return{setHttpHandler(n){e=n},httpHandler(){return e},updateHttpClientConfig(n,r){e.updateHttpClientConfig(n,r)},httpHandlerConfigs(){return e.httpHandlerConfigs()}}},tO=t=>({httpHandler:t.httpHandler()});class an{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const n=new an({...e,headers:{...e.headers}});return n.query&&(n.query=nO(n.query)),n}static isInstance(e){if(!e)return!1;const n=e;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){return an.clone(this)}}function nO(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}},{})}class Dc{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const n=e;return typeof n.statusCode=="number"&&typeof n.headers=="object"}}function yr(t){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:t}),this.done=!1}yr.prototype.next=function(){if(this.done)return{done:!0};var t=this._next();return t.done&&(this.done=!0),t};typeof Symbol<"u"&&(yr.prototype[Symbol.iterator]=function(){return this});yr.of=function(){var t=arguments,e=t.length,n=0;return new yr(function(){return n>=e?{done:!0}:{done:!1,value:t[n++]}})};yr.empty=function(){var t=new yr(null);return t.done=!0,t};yr.is=function(t){return t instanceof yr?!0:typeof t=="object"&&t!==null&&typeof t.next=="function"};var rO=yr,GT=typeof ArrayBuffer<"u",YT=typeof Symbol<"u";function WT(t,e){var n,r,s,i,o;if(!t)throw new Error("obliterator/forEach: invalid iterable.");if(typeof e!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(t)||GT&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(s=0,i=t.length;s<i;s++)e(t[s],s);return}if(typeof t.forEach=="function"){t.forEach(e);return}if(YT&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(n=t,s=0;o=n.next(),o.done!==!0;)e(o.value,s),s++;return}for(r in t)t.hasOwnProperty(r)&&e(t[r],r)}WT.forEachWithNullKeys=function(t,e){var n,r,s,i,o;if(!t)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof e!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(t)||GT&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(s=0,i=t.length;s<i;s++)e(t[s],null);return}if(t instanceof Set){t.forEach(function(a){e(a,null)});return}if(typeof t.forEach=="function"){t.forEach(e);return}if(YT&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(n=t,s=0;o=n.next(),o.done!==!0;)e(o.value,null),s++;return}for(r in t)t.hasOwnProperty(r)&&e(t[r],r)};var KT=WT,Og={};(function(t){var e=Math.pow(2,8)-1,n=Math.pow(2,16)-1,r=Math.pow(2,32)-1,s=Math.pow(2,7)-1,i=Math.pow(2,15)-1,o=Math.pow(2,31)-1;t.getPointerArray=function(u){var c=u-1;return c<=e?Uint8Array:c<=n?Uint16Array:c<=r?Uint32Array:Float64Array},t.getSignedPointerArray=function(u){var c=u-1;return c<=s?Int8Array:c<=i?Int16Array:c<=o?Int32Array:Float64Array},t.getNumberType=function(u){return u===(u|0)?Math.sign(u)===-1?u<=127&&u>=-128?Int8Array:u<=32767&&u>=-32768?Int16Array:Int32Array:u<=255?Uint8Array:u<=65535?Uint16Array:Uint32Array:Float64Array};var a={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};t.getMinimalRepresentation=function(u,c){var h=null,f=0,m,y,b,I,P;for(I=0,P=u.length;I<P;I++)b=c?c(u[I]):u[I],y=t.getNumberType(b),m=a[y.name],m>f&&(f=m,h=y);return h},t.isTypedArray=function(u){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(u)},t.concat=function(){var u=0,c,h,f;for(c=0,f=arguments.length;c<f;c++)u+=arguments[c].length;var m=new arguments[0].constructor(u);for(c=0,h=0;c<f;c++)m.set(arguments[c],h),h+=arguments[c].length;return m},t.indices=function(u){for(var c=t.getPointerArray(u),h=new c(u),f=0;f<u;f++)h[f]=f;return h}})(Og);var ml={},QT=KT,XT=Og;function sO(t){return Array.isArray(t)||XT.isTypedArray(t)}function Mg(t){if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size}function iO(t){var e=Mg(t),n=typeof e=="number"?new Array(e):[],r=0;return QT(t,function(s){n[r++]=s}),n}function oO(t){var e=Mg(t),n=typeof e=="number"?XT.getPointerArray(e):Array,r=typeof e=="number"?new Array(e):[],s=typeof e=="number"?new n(e):[],i=0;return QT(t,function(o){r[i]=o,s[i]=i++}),[r,s]}ml.isArrayLike=sO;ml.guessLength=Mg;ml.toArray=iO;ml.toArrayWithIndices=oO;var Vg=rO,aO=KT,lO=Og,uO=ml;function st(t,e,n){if(arguments.length<2&&(n=t,t=null,e=null),this.capacity=n,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var r=lO.getPointerArray(n);this.forward=new r(n),this.backward=new r(n),this.K=typeof t=="function"?new t(n):new Array(n),this.V=typeof e=="function"?new e(n):new Array(n),this.size=0,this.head=0,this.tail=0,this.items={}}st.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};st.prototype.splayOnTop=function(t){var e=this.head;if(this.head===t)return this;var n=this.backward[t],r=this.forward[t];return this.tail===t?this.tail=n:this.backward[r]=n,this.forward[n]=r,this.backward[e]=t,this.head=t,this.forward[t]=e,this};st.prototype.set=function(t,e){var n=this.items[t];if(typeof n<"u"){this.splayOnTop(n),this.V[n]=e;return}this.size<this.capacity?n=this.size++:(n=this.tail,this.tail=this.backward[n],delete this.items[this.K[n]]),this.items[t]=n,this.K[n]=t,this.V[n]=e,this.forward[n]=this.head,this.backward[this.head]=n,this.head=n};st.prototype.setpop=function(t,e){var n=null,r=null,s=this.items[t];return typeof s<"u"?(this.splayOnTop(s),n=this.V[s],this.V[s]=e,{evicted:!1,key:t,value:n}):(this.size<this.capacity?s=this.size++:(s=this.tail,this.tail=this.backward[s],n=this.V[s],r=this.K[s],delete this.items[this.K[s]]),this.items[t]=s,this.K[s]=t,this.V[s]=e,this.forward[s]=this.head,this.backward[this.head]=s,this.head=s,r?{evicted:!0,key:r,value:n}:null)};st.prototype.has=function(t){return t in this.items};st.prototype.get=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.splayOnTop(e),this.V[e]};st.prototype.peek=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.V[e]};st.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var n=0,r=this.size,s=this.head,i=this.K,o=this.V,a=this.forward;n<r;)t.call(e,o[s],i[s],this),s=a[s],n++};st.prototype.keys=function(){var t=0,e=this.size,n=this.head,r=this.K,s=this.forward;return new Vg(function(){if(t>=e)return{done:!0};var i=r[n];return t++,t<e&&(n=s[n]),{done:!1,value:i}})};st.prototype.values=function(){var t=0,e=this.size,n=this.head,r=this.V,s=this.forward;return new Vg(function(){if(t>=e)return{done:!0};var i=r[n];return t++,t<e&&(n=s[n]),{done:!1,value:i}})};st.prototype.entries=function(){var t=0,e=this.size,n=this.head,r=this.K,s=this.V,i=this.forward;return new Vg(function(){if(t>=e)return{done:!0};var o=r[n],a=s[n];return t++,t<e&&(n=i[n]),{done:!1,value:[o,a]}})};typeof Symbol<"u"&&(st.prototype[Symbol.iterator]=st.prototype.entries);st.prototype.inspect=function(){for(var t=new Map,e=this.entries(),n;n=e.next(),!n.done;)t.set(n.value[0],n.value[1]);return Object.defineProperty(t,"constructor",{value:st,enumerable:!1}),t};typeof Symbol<"u"&&(st.prototype[Symbol.for("nodejs.util.inspect.custom")]=st.prototype.inspect);st.from=function(t,e,n,r){if(arguments.length<2){if(r=uO.guessLength(t),typeof r!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(r=e,e=null,n=null);var s=new st(e,n,r);return aO(t,function(i,o){s.set(o,i)}),s};var cO=st;const dO=HE(cO);let hO=class{constructor(e){B(this,"cache");this.cache=new dO(e)}getEndpoint(e){const n=this.get(e);if(!n||n.length===0)return;const r=n.map(s=>s.Address);return r[Math.floor(Math.random()*r.length)]}get(e){if(!this.has(e))return;const n=this.cache.get(e);if(!n)return;const r=Date.now(),s=n.filter(i=>r<i.Expires);if(s.length===0){this.delete(e);return}return s}set(e,n){const r=Date.now();this.cache.set(e,n.map(({Address:s,CachePeriodInMinutes:i})=>({Address:s,Expires:r+i*60*1e3})))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;const n=this.cache.peek(e);return n?n.length>0:!1}clear(){this.cache.clear()}};const fO=(t,{endpointDiscoveryCommandCtor:e})=>({...t,endpointDiscoveryCommandCtor:e,endpointCache:new hO(t.endpointCacheSize??1e3),endpointDiscoveryEnabled:t.endpointDiscoveryEnabled!==void 0?()=>Promise.resolve(t.endpointDiscoveryEnabled):t.endpointDiscoveryEnabledProvider,isClientEndpointDiscoveryEnabled:t.endpointDiscoveryEnabled!==void 0});function Cj(t){return t}const pO=t=>e=>async n=>{if(!an.isInstance(n.request))return e(n);const{request:r}=n,{handlerProtocol:s=""}=t.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]=r.hostname+(r.port?":"+r.port:"");else if(!r.headers.host){let i=r.hostname;r.port!=null&&(i+=`:${r.port}`),r.headers.host=i}return e(n)},mO={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},gO=t=>({applyToStack:e=>{e.add(pO(t),mO)}}),yO=()=>(t,e)=>async n=>{var r,s;try{const i=await t(n),{clientName:o,commandName:a,logger:u,dynamoDbDocumentClientOptions:c={}}=e,{overrideInputFilterSensitiveLog:h,overrideOutputFilterSensitiveLog:f}=c,m=h??e.inputFilterSensitiveLog,y=f??e.outputFilterSensitiveLog,{$metadata:b,...I}=i.output;return(r=u==null?void 0:u.info)==null||r.call(u,{clientName:o,commandName:a,input:m(n.input),output:y(I),metadata:b}),i}catch(i){const{clientName:o,commandName:a,logger:u,dynamoDbDocumentClientOptions:c={}}=e,{overrideInputFilterSensitiveLog:h}=c,f=h??e.inputFilterSensitiveLog;throw(s=u==null?void 0:u.error)==null||s.call(u,{clientName:o,commandName:a,input:f(n.input),error:i,metadata:i.$metadata}),i}},vO={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},wO=t=>({applyToStack:e=>{e.add(yO(),vO)}});var __={};const E_="X-Amzn-Trace-Id",_O="AWS_LAMBDA_FUNCTION_NAME",EO="_X_AMZN_TRACE_ID",xO=t=>e=>async n=>{const{request:r}=n;if(!an.isInstance(r)||t.runtime!=="node"||r.headers.hasOwnProperty(E_))return e(n);const s=__[_O],i=__[EO],o=a=>typeof a=="string"&&a.length>0;return o(s)&&o(i)&&(r.headers[E_]=i),e({...n,request:r})},SO={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},TO=t=>({applyToStack:e=>{e.add(xO(t),SO)}});function bO(t){const e=new Map;for(const n of t)e.set(n.schemeId,n);return e}const AO=(t,e)=>(n,r)=>async s=>{var c;const i=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,r,s.input)),o=bO(t.httpAuthSchemes),a=Ed(r),u=[];for(const h of i){const f=o.get(h.schemeId);if(!f){u.push(`HttpAuthScheme \`${h.schemeId}\` was not enabled for this service.`);continue}const m=f.identityProvider(await e.identityProviderConfigProvider(t));if(!m){u.push(`HttpAuthScheme \`${h.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:y={},signingProperties:b={}}=((c=h.propertiesExtractor)==null?void 0:c.call(h,t,r))||{};h.identityProperties=Object.assign(h.identityProperties||{},y),h.signingProperties=Object.assign(h.signingProperties||{},b),a.selectedHttpAuthScheme={httpAuthOption:h,identity:await m(h.identityProperties),signer:f.signer};break}if(!a.selectedHttpAuthScheme)throw new Error(u.join(`
`));return n(s)},IO={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},CO=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:n})=>({applyToStack:r=>{r.addRelativeTo(AO(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:n}),IO)}}),RO=(t,e)=>(n,r)=>async s=>{var o,a,u,c;const{response:i}=await n(s);try{const h=await e(i,t);return{response:i,output:h}}catch(h){if(Object.defineProperty(h,"$response",{value:i}),!("$metadata"in h)){const f="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{h.message+=`
  `+f}catch{!r.logger||((a=(o=r.logger)==null?void 0:o.constructor)==null?void 0:a.name)==="NoOpLogger"?console.warn(f):(c=(u=r.logger)==null?void 0:u.warn)==null||c.call(u,f)}typeof h.$responseBodyText<"u"&&h.$response&&(h.$response.body=h.$responseBodyText)}throw h}},PO=(t,e)=>(n,r)=>async s=>{var a;const i=(a=r.endpointV2)!=null&&a.url&&t.urlParser?async()=>t.urlParser(r.endpointV2.url):t.endpoint;if(!i)throw new Error("No valid endpoint provider available.");const o=await e(s.input,{...t,endpoint:i});return n({...s,request:o})},kO={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Lg={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function xd(t,e,n){return{applyToStack:r=>{r.add(RO(t,n),kO),r.add(PO(t,e),Lg)}}}Lg.name;const NO=t=>e=>{throw e},DO=(t,e)=>{},OO=t=>(e,n)=>async r=>{if(!an.isInstance(r.request))return e(r);const i=Ed(n).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:o={}},identity:a,signer:u}=i,c=await e({...r,request:await u.sign(r.request,a,o)}).catch((u.errorHandler||NO)(o));return(u.successHandler||DO)(c.response,o),c},MO={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},VO=t=>({applyToStack:e=>{e.addRelativeTo(OO(),MO)}}),sa=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e},is={},wo=new Array(64);for(let t=0,e=65,n=90;t+e<=n;t++){const r=String.fromCharCode(t+e);is[r]=t,wo[t]=r}for(let t=0,e=97,n=122;t+e<=n;t++){const r=String.fromCharCode(t+e),s=t+26;is[r]=s,wo[s]=r}for(let t=0;t<10;t++){is[t.toString(10)]=t+52;const e=t.toString(10),n=t+52;is[e]=n,wo[n]=e}is["+"]=62;wo[62]="+";is["/"]=63;wo[63]="/";const Ui=6,_a=8,LO=63,Fg=t=>{let e=t.length/4*3;t.slice(-2)==="=="?e-=2:t.slice(-1)==="="&&e--;const n=new ArrayBuffer(e),r=new DataView(n);for(let s=0;s<t.length;s+=4){let i=0,o=0;for(let c=s,h=s+3;c<=h;c++)if(t[c]!=="="){if(!(t[c]in is))throw new TypeError(`Invalid character ${t[c]} in base64 string.`);i|=is[t[c]]<<(h-c)*Ui,o+=Ui}else i>>=Ui;const a=s/4*3;i>>=o%_a;const u=Math.floor(o/_a);for(let c=0;c<u;c++){const h=(u-c-1)*_a;r.setUint8(a+c,(i&255<<h)>>h)}}return new Uint8Array(n)},io=t=>new TextEncoder().encode(t),Ea=t=>typeof t=="string"?io(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t),JT=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)};function ZT(t){let e;typeof t=="string"?e=io(t):e=t;const n=typeof e=="object"&&typeof e.length=="number",r=typeof e=="object"&&typeof e.byteOffset=="number"&&typeof e.byteLength=="number";if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let s="";for(let i=0;i<e.length;i+=3){let o=0,a=0;for(let c=i,h=Math.min(i+3,e.length);c<h;c++)o|=e[c]<<(h-c-1)*_a,a+=_a;const u=Math.ceil(a/Ui);o<<=u*Ui-a;for(let c=1;c<=u;c++){const h=(u-c)*Ui;s+=wo[(o&LO<<h)>>h]}s+="==".slice(0,4-u)}return s}function FO(t,e="utf-8"){return e==="base64"?ZT(t):JT(t)}function $O(t,e){return e==="base64"?Rs.mutate(Fg(t)):Rs.mutate(io(t))}class Rs extends Uint8Array{static fromString(e,n="utf-8"){switch(typeof e){case"string":return $O(e,n);default:throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}}static mutate(e){return Object.setPrototypeOf(e,Rs.prototype),e}transformToString(e="utf-8"){return FO(this,e)}}const Ps=t=>encodeURIComponent(t).replace(/[!'()*]/g,jO),jO=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;function UO(t){const e=[];for(let n of Object.keys(t).sort()){const r=t[n];if(n=Ps(n),Array.isArray(r))for(let s=0,i=r.length;s<i;s++)e.push(`${n}=${Ps(r[s])}`);else{let s=n;(r||typeof r=="string")&&(s+=`=${Ps(r)}`),e.push(s)}}return e.join("&")}function x_(t,e){return new Request(t,e)}function BO(t=0){return new Promise((e,n)=>{t&&setTimeout(()=>{const r=new Error(`Request did not complete within ${t} ms`);r.name="TimeoutError",n(r)},t)})}const sf={supported:void 0};class $g{static create(e){return typeof(e==null?void 0:e.handle)=="function"?e:new $g(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(n=>n||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),sf.supported===void 0&&(sf.supported=typeof Request<"u"&&"keepalive"in x_("https://[::1]"))}destroy(){}async handle(e,{abortSignal:n}={}){var _;this.config||(this.config=await this.configProvider);const r=this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(n!=null&&n.aborted){const x=new Error("Request aborted");return x.name="AbortError",Promise.reject(x)}let o=e.path;const a=UO(e.query||{});a&&(o+=`?${a}`),e.fragment&&(o+=`#${e.fragment}`);let u="";if(e.username!=null||e.password!=null){const x=e.username??"",R=e.password??"";u=`${x}:${R}@`}const{port:c,method:h}=e,f=`${e.protocol}//${u}${e.hostname}${c?`:${c}`:""}${o}`,m=h==="GET"||h==="HEAD"?void 0:e.body,y={body:m,headers:new Headers(e.headers),method:h,credentials:i};(_=this.config)!=null&&_.cache&&(y.cache=this.config.cache),m&&(y.duplex="half"),typeof AbortController<"u"&&(y.signal=n),sf.supported&&(y.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(y,this.config.requestInit(e));let b=()=>{};const I=x_(f,y),P=[fetch(I).then(x=>{const R=x.headers,N={};for(const O of R.entries())N[O[0]]=O[1];return x.body!=null?{response:new Dc({headers:N,reason:x.statusText,statusCode:x.status,body:x.body})}:x.blob().then(O=>({response:new Dc({headers:N,reason:x.statusText,statusCode:x.status,body:O})}))}),BO(r)];return n&&P.push(new Promise((x,R)=>{const N=()=>{const D=new Error("Request aborted");D.name="AbortError",R(D)};if(typeof n.addEventListener=="function"){const D=n;D.addEventListener("abort",N,{once:!0}),b=()=>D.removeEventListener("abort",N)}else n.onabort=N})),Promise.race(P).finally(b)}updateHttpClientConfig(e,n){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[e]=n,r))}httpHandlerConfigs(){return this.config??{}}}const zO=async t=>{var e;return typeof Blob=="function"&&t instanceof Blob||((e=t.constructor)==null?void 0:e.name)==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await t.arrayBuffer()):HO(t):qO(t)};async function HO(t){const e=await GO(t),n=Fg(e);return new Uint8Array(n)}async function qO(t){const e=[],n=t.getReader();let r=!1,s=0;for(;!r;){const{done:a,value:u}=await n.read();u&&(e.push(u),s+=u.length),r=a}const i=new Uint8Array(s);let o=0;for(const a of e)i.set(a,o),o+=a.length;return i}function GO(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=()=>{if(r.readyState!==2)return n(new Error("Reader aborted too early"));const s=r.result??"",i=s.indexOf(","),o=i>-1?i+1:s.length;e(s.substring(o))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(t)})}const eb={},Bp={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),eb[t]=e,Bp[e]=t}function YO(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){const r=t.slice(n,n+2).toLowerCase();if(r in Bp)e[n/2]=Bp[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return e}function bs(t){let e="";for(let n=0;n<t.byteLength;n++)e+=eb[t[n]];return e}const WO=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return Rs.mutate(t);if(!t)return Rs.mutate(new Uint8Array);const n=e.streamCollector(t);return Rs.mutate(await n)};function KO(t,e,n){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=n}class QO{constructor(e){this.authSchemes=new Map;for(const[n,r]of Object.entries(e))r!==void 0&&this.authSchemes.set(n,r)}getIdentityProvider(e){return this.authSchemes.get(e)}}const XO=t=>e=>tb(e)&&e.expiration.getTime()-Date.now()<t,JO=3e5,ZO=XO(JO),tb=t=>t.expiration!==void 0,eM=(t,e,n)=>{if(t===void 0)return;const r=typeof t!="function"?async()=>Promise.resolve(t):t;let s,i,o,a=!1;const u=async c=>{i||(i=r(c));try{s=await i,o=!0,a=!1}finally{i=void 0}return s};return e===void 0?async c=>((!o||c!=null&&c.forceRefresh)&&(s=await u(c)),s):async c=>((!o||c!=null&&c.forceRefresh)&&(s=await u(c)),a?s:n(s)?(e(s)&&await u(c),s):(a=!0,s))},tM=void 0;function nM(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function rM(t){const e=sa(t.userAgentAppId??tM);return{...t,customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent,userAgentAppId:async()=>{var r,s;const n=await e();if(!nM(n)){const i=((s=(r=t.logger)==null?void 0:r.constructor)==null?void 0:s.name)==="NoOpLogger"||!t.logger?console:t.logger;typeof n!="string"?i==null||i.warn("userAgentAppId must be a string or undefined."):n.length>50&&(i==null||i.warn("The provided userAgentAppId exceeds the maximum length of 50 characters."))}return n}}}class sM{constructor({size:e,params:n}){this.data=new Map,this.parameters=[],this.capacity=e??50,n&&(this.parameters=n)}get(e,n){const r=this.hash(e);if(r===!1)return n();if(!this.data.has(r)){if(this.data.size>this.capacity+10){const s=this.data.keys();let i=0;for(;;){const{value:o,done:a}=s.next();if(this.data.delete(o),a||++i>10)break}}this.data.set(r,n())}return this.data.get(r)}size(){return this.data.size}hash(e){let n="";const{parameters:r}=this;if(r.length===0)return!1;for(const s of r){const i=String(e[s]??"");if(i.includes("|;"))return!1;n+=i+"|;"}return n}}const iM=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),nb=t=>iM.test(t)||t.startsWith("[")&&t.endsWith("]"),oM=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),jg=(t,e=!1)=>{if(!e)return oM.test(t);const n=t.split(".");for(const r of n)if(!jg(r))return!1;return!0},Oc={},Ja="endpoints";function os(t){return typeof t!="object"||t==null?t:"ref"in t?`$${os(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(os).join(", ")})`:JSON.stringify(t,null,2)}class ln extends Error{constructor(e){super(e),this.name="EndpointError"}}const aM=(t,e)=>t===e,lM=t=>{const e=t.split("."),n=[];for(const r of e){const s=r.indexOf("[");if(s!==-1){if(r.indexOf("]")!==r.length-1)throw new ln(`Path: '${t}' does not end with ']'`);const i=r.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new ln(`Invalid array index: '${i}' in path: '${t}'`);s!==0&&n.push(r.slice(0,s)),n.push(i)}else n.push(r)}return n},rb=(t,e)=>lM(e).reduce((n,r)=>{if(typeof n!="object")throw new ln(`Index '${r}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]},t),uM=t=>t!=null,cM=t=>!t,of={[Xa.HTTP]:80,[Xa.HTTPS]:443},dM=t=>{const e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){const{hostname:m,port:y,protocol:b="",path:I="",query:P={}}=t,_=new URL(`${b}//${m}${y?`:${y}`:""}${I}`);return _.search=Object.entries(P).map(([x,R])=>`${x}=${R}`).join("&"),_}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;const n=e.href,{host:r,hostname:s,pathname:i,protocol:o,search:a}=e;if(a)return null;const u=o.slice(0,-1);if(!Object.values(Xa).includes(u))return null;const c=nb(s),h=n.includes(`${r}:${of[u]}`)||typeof t=="string"&&t.includes(`${r}:${of[u]}`),f=`${r}${h?`:${of[u]}`:""}`;return{scheme:u,authority:f,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:c}},hM=(t,e)=>t===e,fM=(t,e,n,r)=>e>=n||t.length<n?null:r?t.substring(t.length-n,t.length-e):t.substring(e,n),pM=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),mM={booleanEquals:aM,getAttr:rb,isSet:uM,isValidHostLabel:jg,not:cM,parseURL:dM,stringEquals:hM,substring:fM,uriEncode:pM},sb=(t,e)=>{const n=[],r={...e.endpointParams,...e.referenceRecord};let s=0;for(;s<t.length;){const i=t.indexOf("{",s);if(i===-1){n.push(t.slice(s));break}n.push(t.slice(s,i));const o=t.indexOf("}",i);if(o===-1){n.push(t.slice(i));break}t[i+1]==="{"&&t[o+1]==="}"&&(n.push(t.slice(i+1,o)),s=o+2);const a=t.substring(i+1,o);if(a.includes("#")){const[u,c]=a.split("#");n.push(rb(r[u],c))}else n.push(r[a]);s=o+1}return n.join("")},gM=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t],Sd=(t,e,n)=>{if(typeof t=="string")return sb(t,n);if(t.fn)return ib(t,n);if(t.ref)return gM(t,n);throw new ln(`'${e}': ${String(t)} is not a string, function or reference.`)},ib=({fn:t,argv:e},n)=>{const r=e.map(i=>["boolean","number"].includes(typeof i)?i:Sd(i,"arg",n)),s=t.split(".");return s[0]in Oc&&s[1]!=null?Oc[s[0]][s[1]](...r):mM[t](...r)},yM=({assign:t,...e},n)=>{var s,i;if(t&&t in n.referenceRecord)throw new ln(`'${t}' is already defined in Reference Record.`);const r=ib(e,n);return(i=(s=n.logger)==null?void 0:s.debug)==null||i.call(s,`${Ja} evaluateCondition: ${os(e)} = ${os(r)}`),{result:r===""?!0:!!r,...t!=null&&{toAssign:{name:t,value:r}}}},Ug=(t=[],e)=>{var r,s;const n={};for(const i of t){const{result:o,toAssign:a}=yM(i,{...e,referenceRecord:{...e.referenceRecord,...n}});if(!o)return{result:o};a&&(n[a.name]=a.value,(s=(r=e.logger)==null?void 0:r.debug)==null||s.call(r,`${Ja} assign: ${a.name} := ${os(a.value)}`))}return{result:!0,referenceRecord:n}},vM=(t,e)=>Object.entries(t).reduce((n,[r,s])=>({...n,[r]:s.map(i=>{const o=Sd(i,"Header value entry",e);if(typeof o!="string")throw new ln(`Header '${r}' value '${o}' is not a string`);return o})}),{}),ob=(t,e)=>{if(Array.isArray(t))return t.map(n=>ob(n,e));switch(typeof t){case"string":return sb(t,e);case"object":if(t===null)throw new ln(`Unexpected endpoint property: ${t}`);return ab(t,e);case"boolean":return t;default:throw new ln(`Unexpected endpoint property type: ${typeof t}`)}},ab=(t,e)=>Object.entries(t).reduce((n,[r,s])=>({...n,[r]:ob(s,e)}),{}),wM=(t,e)=>{const n=Sd(t,"Endpoint URL",e);if(typeof n=="string")try{return new URL(n)}catch(r){throw console.error(`Failed to construct URL with ${n}`,r),r}throw new ln(`Endpoint URL must be a string, got ${typeof n}`)},_M=(t,e)=>{var h,f;const{conditions:n,endpoint:r}=t,{result:s,referenceRecord:i}=Ug(n,e);if(!s)return;const o={...e,referenceRecord:{...e.referenceRecord,...i}},{url:a,properties:u,headers:c}=r;return(f=(h=e.logger)==null?void 0:h.debug)==null||f.call(h,`${Ja} Resolving endpoint from template: ${os(r)}`),{...c!=null&&{headers:vM(c,o)},...u!=null&&{properties:ab(u,o)},url:wM(a,o)}},EM=(t,e)=>{const{conditions:n,error:r}=t,{result:s,referenceRecord:i}=Ug(n,e);if(s)throw new ln(Sd(r,"Error",{...e,referenceRecord:{...e.referenceRecord,...i}}))},xM=(t,e)=>{const{conditions:n,rules:r}=t,{result:s,referenceRecord:i}=Ug(n,e);if(s)return lb(r,{...e,referenceRecord:{...e.referenceRecord,...i}})},lb=(t,e)=>{for(const n of t)if(n.type==="endpoint"){const r=_M(n,e);if(r)return r}else if(n.type==="error")EM(n,e);else if(n.type==="tree"){const r=xM(n,e);if(r)return r}else throw new ln(`Unknown endpoint rule: ${n}`);throw new ln("Rules evaluation failed")},SM=(t,e)=>{var c,h,f,m;const{endpointParams:n,logger:r}=e,{parameters:s,rules:i}=t;(h=(c=e.logger)==null?void 0:c.debug)==null||h.call(c,`${Ja} Initial EndpointParams: ${os(n)}`);const o=Object.entries(s).filter(([,y])=>y.default!=null).map(([y,b])=>[y,b.default]);if(o.length>0)for(const[y,b]of o)n[y]=n[y]??b;const a=Object.entries(s).filter(([,y])=>y.required).map(([y])=>y);for(const y of a)if(n[y]==null)throw new ln(`Missing required parameter: '${y}'`);const u=lb(i,{endpointParams:n,logger:r,referenceRecord:{}});return(m=(f=e.logger)==null?void 0:f.debug)==null||m.call(f,`${Ja} Resolved endpoint: ${os(u)}`),u},ub=(t,e=!1)=>{if(e){for(const n of t.split("."))if(!ub(n))return!1;return!0}return!(!jg(t)||t.length<3||t.length>63||t!==t.toLowerCase()||nb(t))},S_=":",TM="/",bM=t=>{const e=t.split(S_);if(e.length<6)return null;const[n,r,s,i,o,...a]=e;if(n!=="arn"||r===""||s===""||a.join(S_)==="")return null;const u=a.map(c=>c.split(TM)).flat();return{partition:r,service:s,region:i,accountId:o,resourceId:u}},AM=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}}],IM={partitions:AM};let CM=IM;const RM=t=>{const{partitions:e}=CM;for(const r of e){const{regions:s,outputs:i}=r;for(const[o,a]of Object.entries(s))if(o===t)return{...i,...a}}for(const r of e){const{regionRegex:s,outputs:i}=r;if(new RegExp(s).test(t))return{...i}}const n=e.find(r=>r.id==="aws");if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...n.outputs}},cb={isVirtualHostableS3Bucket:ub,parseArn:bM,partition:RM};Oc.aws=cb;function PM(t,e,n){return t.$source||(t.$source={}),t.$source[e]=n,t}function Rn(t,e,n){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[e]=n}const T_=t=>{var e,n;return Dc.isInstance(t)?((e=t.headers)==null?void 0:e.date)??((n=t.headers)==null?void 0:n.Date):void 0},db=t=>new Date(Date.now()+t),kM=(t,e)=>Math.abs(db(e).getTime()-t)>=3e5,b_=(t,e)=>{const n=Date.parse(t);return kM(n,e)?n-Date.now():e},xa=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},NM=async t=>{var c,h,f;const e=xa("context",t.context),n=xa("config",t.config),r=(f=(h=(c=e.endpointV2)==null?void 0:c.properties)==null?void 0:h.authSchemes)==null?void 0:f[0],i=await xa("signer",n.signer)(r),o=t==null?void 0:t.signingRegion,a=t==null?void 0:t.signingRegionSet,u=t==null?void 0:t.signingName;return{config:n,signer:i,signingRegion:o,signingRegionSet:a,signingName:u}};class DM{async sign(e,n,r){var f;if(!an.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const s=await NM(r),{config:i,signer:o}=s;let{signingRegion:a,signingName:u}=s;const c=r.context;if(((f=c==null?void 0:c.authSchemes)==null?void 0:f.length)??!1){const[m,y]=c.authSchemes;(m==null?void 0:m.name)==="sigv4a"&&(y==null?void 0:y.name)==="sigv4"&&(a=(y==null?void 0:y.signingRegion)??a,u=(y==null?void 0:y.signingName)??u)}return await o.sign(e,{signingDate:db(i.systemClockOffset),signingRegion:a,signingService:u})}errorHandler(e){return n=>{const r=n.ServerTime??T_(n.$response);if(r){const s=xa("config",e.config),i=s.systemClockOffset;s.systemClockOffset=b_(r,s.systemClockOffset),s.systemClockOffset!==i&&n.$metadata&&(n.$metadata.clockSkewCorrected=!0)}throw n}}successHandler(e,n){const r=T_(e);if(r){const s=xa("config",n.config);s.systemClockOffset=b_(r,s.systemClockOffset)}}}class Bg extends Error{constructor(e,n=!0){var i;let r,s=!0;typeof n=="boolean"?(r=void 0,s=n):n!=null&&typeof n=="object"&&(r=n.logger,s=n.tryNextLink??!0),super(e),this.name="ProviderError",this.tryNextLink=s,Object.setPrototypeOf(this,Bg.prototype),(i=r==null?void 0:r.debug)==null||i.call(r,`@smithy/property-provider ${s?"->":"(!)"} ${e}`)}static from(e,n=!0){return Object.assign(new this(e.message,n),e)}}class _o extends Bg{constructor(e,n=!0){super(e,n),this.name="CredentialsProviderError",Object.setPrototypeOf(this,_o.prototype)}}const OM=(t,e,n)=>{let r,s,i,o=!1;const a=async()=>{s||(s=t());try{r=await s,i=!0,o=!1}finally{s=void 0}return r};return async u=>((!i||u!=null&&u.forceRefresh)&&(r=await a()),r)},MM="X-Amz-Algorithm",VM="X-Amz-Credential",hb="X-Amz-Date",LM="X-Amz-SignedHeaders",FM="X-Amz-Expires",fb="X-Amz-Signature",pb="X-Amz-Security-Token",mb="authorization",gb=hb.toLowerCase(),$M="date",jM=[mb,gb,$M],UM=fb.toLowerCase(),zp="x-amz-content-sha256",BM=pb.toLowerCase(),zM={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},HM=/^proxy-/,qM=/^sec-/,af="AWS4-HMAC-SHA256",GM="AWS4-HMAC-SHA256-PAYLOAD",YM="UNSIGNED-PAYLOAD",WM=50,yb="aws4_request",KM=60*60*24*7,cu={},lf=[],uf=(t,e,n)=>`${t}/${e}/${n}/${yb}`,QM=async(t,e,n,r,s)=>{const i=await A_(t,e.secretAccessKey,e.accessKeyId),o=`${n}:${r}:${s}:${bs(i)}:${e.sessionToken}`;if(o in cu)return cu[o];for(lf.push(o);lf.length>WM;)delete cu[lf.shift()];let a=`AWS4${e.secretAccessKey}`;for(const u of[n,r,s,yb])a=await A_(t,a,u);return cu[o]=a},A_=(t,e,n)=>{const r=new t(e);return r.update(Ea(n)),r.digest()},I_=({headers:t},e,n)=>{const r={};for(const s of Object.keys(t).sort()){if(t[s]==null)continue;const i=s.toLowerCase();(i in zM||e!=null&&e.has(i)||HM.test(i)||qM.test(i))&&(!n||n&&!n.has(i))||(r[i]=t[s].trim().replace(/\s+/g," "))}return r},XM=({query:t={}})=>{const e=[],n={};for(const r of Object.keys(t)){if(r.toLowerCase()===UM)continue;const s=Ps(r);e.push(s);const i=t[r];typeof i=="string"?n[s]=`${s}=${Ps(i)}`:Array.isArray(i)&&(n[s]=i.slice(0).reduce((o,a)=>o.concat([`${s}=${Ps(a)}`]),[]).sort().join("&"))}return e.sort().map(r=>n[r]).filter(r=>r).join("&")},JM=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]",cf=async({headers:t,body:e},n)=>{for(const r of Object.keys(t))if(r.toLowerCase()===zp)return t[r];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||JM(e)){const r=new n;return r.update(Ea(e)),bs(await r.digest())}return YM};class ZM{format(e){const n=[];for(const i of Object.keys(e)){const o=io(i);n.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[i]))}const r=new Uint8Array(n.reduce((i,o)=>i+o.byteLength,0));let s=0;for(const i of n)r.set(i,s),s+=i.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":const r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":const s=new Uint8Array(9);return s[0]=5,s.set(e.value.bytes,1),s;case"binary":const i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(i.buffer);return o.set(e.value,3),o;case"string":const a=io(e.value),u=new DataView(new ArrayBuffer(3+a.byteLength));u.setUint8(0,7),u.setUint16(1,a.byteLength,!1);const c=new Uint8Array(u.buffer);return c.set(a,3),c;case"timestamp":const h=new Uint8Array(9);return h[0]=8,h.set(zg.fromNumber(e.value.valueOf()).bytes,1),h;case"uuid":if(!e4.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const f=new Uint8Array(17);return f[0]=9,f.set(YO(e.value.replace(/\-/g,"")),1),f}}}var C_;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(C_||(C_={}));const e4=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class zg{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const n=new Uint8Array(8);for(let r=7,s=Math.abs(Math.round(e));r>-1&&s>0;r--,s/=256)n[r]=s;return e<0&&R_(n),new zg(n)}valueOf(){const e=this.bytes.slice(0),n=e[0]&128;return n&&R_(e),parseInt(bs(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}}function R_(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}const t4=(t,e)=>{t=t.toLowerCase();for(const n of Object.keys(e))if(t===n.toLowerCase())return!0;return!1},n4=(t,e={})=>{var s,i;const{headers:n,query:r={}}=an.clone(t);for(const o of Object.keys(n)){const a=o.toLowerCase();(a.slice(0,6)==="x-amz-"&&!((s=e.unhoistableHeaders)!=null&&s.has(a))||(i=e.hoistableHeaders)!=null&&i.has(a))&&(r[o]=n[o],delete n[o])}return{...t,headers:n,query:r}},P_=t=>{t=an.clone(t);for(const e of Object.keys(t.headers))jM.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t},r4=t=>s4(t).toISOString().replace(/\.\d{3}Z$/,"Z"),s4=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;class k_{constructor({applyChecksum:e,credentials:n,region:r,service:s,sha256:i,uriEscapePath:o=!0}){this.headerFormatter=new ZM,this.service=s,this.sha256=i,this.uriEscapePath=o,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=ur(r),this.credentialProvider=ur(n)}async presign(e,n={}){const{signingDate:r=new Date,expiresIn:s=3600,unsignableHeaders:i,unhoistableHeaders:o,signableHeaders:a,hoistableHeaders:u,signingRegion:c,signingService:h}=n,f=await this.credentialProvider();this.validateResolvedCredentials(f);const m=c??await this.regionProvider(),{longDate:y,shortDate:b}=du(r);if(s>KM)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const I=uf(b,m,h??this.service),P=n4(P_(e),{unhoistableHeaders:o,hoistableHeaders:u});f.sessionToken&&(P.query[pb]=f.sessionToken),P.query[MM]=af,P.query[VM]=`${f.accessKeyId}/${I}`,P.query[hb]=y,P.query[FM]=s.toString(10);const _=I_(P,i,a);return P.query[LM]=N_(_),P.query[fb]=await this.getSignature(y,I,this.getSigningKey(f,m,b,h),this.createCanonicalRequest(P,_,await cf(e,this.sha256))),P}async sign(e,n){return typeof e=="string"?this.signString(e,n):e.headers&&e.payload?this.signEvent(e,n):e.message?this.signMessage(e,n):this.signRequest(e,n)}async signEvent({headers:e,payload:n},{signingDate:r=new Date,priorSignature:s,signingRegion:i,signingService:o}){const a=i??await this.regionProvider(),{shortDate:u,longDate:c}=du(r),h=uf(u,a,o??this.service),f=await cf({headers:{},body:n},this.sha256),m=new this.sha256;m.update(e);const y=bs(await m.digest()),b=[GM,c,h,s,y,f].join(`
`);return this.signString(b,{signingDate:r,signingRegion:a,signingService:o})}async signMessage(e,{signingDate:n=new Date,signingRegion:r,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:n,signingRegion:r,signingService:s,priorSignature:e.priorSignature}).then(o=>({message:e.message,signature:o}))}async signString(e,{signingDate:n=new Date,signingRegion:r,signingService:s}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const o=r??await this.regionProvider(),{shortDate:a}=du(n),u=new this.sha256(await this.getSigningKey(i,o,a,s));return u.update(Ea(e)),bs(await u.digest())}async signRequest(e,{signingDate:n=new Date,signableHeaders:r,unsignableHeaders:s,signingRegion:i,signingService:o}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const u=i??await this.regionProvider(),c=P_(e),{longDate:h,shortDate:f}=du(n),m=uf(f,u,o??this.service);c.headers[gb]=h,a.sessionToken&&(c.headers[BM]=a.sessionToken);const y=await cf(c,this.sha256);!t4(zp,c.headers)&&this.applyChecksum&&(c.headers[zp]=y);const b=I_(c,s,r),I=await this.getSignature(h,m,this.getSigningKey(a,u,f,o),this.createCanonicalRequest(c,b,y));return c.headers[mb]=`${af} Credential=${a.accessKeyId}/${m}, SignedHeaders=${N_(b)}, Signature=${I}`,c}createCanonicalRequest(e,n,r){const s=Object.keys(n).sort();return`${e.method}
${this.getCanonicalPath(e)}
${XM(e)}
${s.map(i=>`${i}:${n[i]}`).join(`
`)}

${s.join(";")}
${r}`}async createStringToSign(e,n,r){const s=new this.sha256;s.update(Ea(r));const i=await s.digest();return`${af}
${e}
${n}
${bs(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const n=[];for(const i of e.split("/"))(i==null?void 0:i.length)!==0&&i!=="."&&(i===".."?n.pop():n.push(i));const r=`${e!=null&&e.startsWith("/")?"/":""}${n.join("/")}${n.length>0&&(e!=null&&e.endsWith("/"))?"/":""}`;return Ps(r).replace(/%2F/g,"/")}return e}async getSignature(e,n,r,s){const i=await this.createStringToSign(e,n,s),o=new this.sha256(await r);return o.update(Ea(i)),bs(await o.digest())}getSigningKey(e,n,r,s){return QM(this.sha256,e,r,n,s||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}const du=t=>{const e=r4(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},N_=t=>Object.keys(t).sort().join(";"),i4=t=>{let e=!1,n;t.credentials&&(e=!0,n=eM(t.credentials,ZO,tb)),n||(t.credentialDefaultProvider?n=sa(t.credentialDefaultProvider(Object.assign({},t,{parentClientConfig:t}))):n=async()=>{throw new Error("`credentials` is missing")});const r=async()=>n({callerClientConfig:t}),{signingEscapePath:s=!0,systemClockOffset:i=t.systemClockOffset||0,sha256:o}=t;let a;return t.signer?a=sa(t.signer):t.regionInfoProvider?a=()=>sa(t.region)().then(async u=>[await t.regionInfoProvider(u,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},u]).then(([u,c])=>{const{signingRegion:h,signingService:f}=u;t.signingRegion=t.signingRegion||h||c,t.signingName=t.signingName||f||t.serviceId;const m={...t,credentials:r,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:s},y=t.signerConstructor||k_;return new y(m)}):a=async u=>{u=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await sa(t.region)(),properties:{}},u);const c=u.signingRegion,h=u.signingName;t.signingRegion=t.signingRegion||c,t.signingName=t.signingName||h||t.serviceId;const f={...t,credentials:r,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:s},m=t.signerConstructor||k_;return new m(f)},{...t,systemClockOffset:i,signingEscapePath:s,credentials:e?async()=>r().then(u=>PM(u,"CREDENTIALS_CODE","e")):r,signer:a}},ys=(t,e)=>{const n=[];if(t&&n.push(t),e)for(const r of e)n.push(r);return n},br=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,Mc=()=>{let t=[],e=[],n=!1;const r=new Set,s=f=>f.sort((m,y)=>D_[y.step]-D_[m.step]||O_[y.priority||"normal"]-O_[m.priority||"normal"]),i=f=>{let m=!1;const y=b=>{const I=ys(b.name,b.aliases);if(I.includes(f)){m=!0;for(const P of I)r.delete(P);return!1}return!0};return t=t.filter(y),e=e.filter(y),m},o=f=>{let m=!1;const y=b=>{if(b.middleware===f){m=!0;for(const I of ys(b.name,b.aliases))r.delete(I);return!1}return!0};return t=t.filter(y),e=e.filter(y),m},a=f=>{var m;return t.forEach(y=>{f.add(y.middleware,{...y})}),e.forEach(y=>{f.addRelativeTo(y.middleware,{...y})}),(m=f.identifyOnResolve)==null||m.call(f,h.identifyOnResolve()),f},u=f=>{const m=[];return f.before.forEach(y=>{y.before.length===0&&y.after.length===0?m.push(y):m.push(...u(y))}),m.push(f),f.after.reverse().forEach(y=>{y.before.length===0&&y.after.length===0?m.push(y):m.push(...u(y))}),m},c=(f=!1)=>{const m=[],y=[],b={};return t.forEach(P=>{const _={...P,before:[],after:[]};for(const x of ys(_.name,_.aliases))b[x]=_;m.push(_)}),e.forEach(P=>{const _={...P,before:[],after:[]};for(const x of ys(_.name,_.aliases))b[x]=_;y.push(_)}),y.forEach(P=>{if(P.toMiddleware){const _=b[P.toMiddleware];if(_===void 0){if(f)return;throw new Error(`${P.toMiddleware} is not found when adding ${br(P.name,P.aliases)} middleware ${P.relation} ${P.toMiddleware}`)}P.relation==="after"&&_.after.push(P),P.relation==="before"&&_.before.push(P)}}),s(m).map(u).reduce((P,_)=>(P.push(..._),P),[])},h={add:(f,m={})=>{const{name:y,override:b,aliases:I}=m,P={step:"initialize",priority:"normal",middleware:f,...m},_=ys(y,I);if(_.length>0){if(_.some(x=>r.has(x))){if(!b)throw new Error(`Duplicate middleware name '${br(y,I)}'`);for(const x of _){const R=t.findIndex(D=>{var O;return D.name===x||((O=D.aliases)==null?void 0:O.some(w=>w===x))});if(R===-1)continue;const N=t[R];if(N.step!==P.step||P.priority!==N.priority)throw new Error(`"${br(N.name,N.aliases)}" middleware with ${N.priority} priority in ${N.step} step cannot be overridden by "${br(y,I)}" middleware with ${P.priority} priority in ${P.step} step.`);t.splice(R,1)}}for(const x of _)r.add(x)}t.push(P)},addRelativeTo:(f,m)=>{const{name:y,override:b,aliases:I}=m,P={middleware:f,...m},_=ys(y,I);if(_.length>0){if(_.some(x=>r.has(x))){if(!b)throw new Error(`Duplicate middleware name '${br(y,I)}'`);for(const x of _){const R=e.findIndex(D=>{var O;return D.name===x||((O=D.aliases)==null?void 0:O.some(w=>w===x))});if(R===-1)continue;const N=e[R];if(N.toMiddleware!==P.toMiddleware||N.relation!==P.relation)throw new Error(`"${br(N.name,N.aliases)}" middleware ${N.relation} "${N.toMiddleware}" middleware cannot be overridden by "${br(y,I)}" middleware ${P.relation} "${P.toMiddleware}" middleware.`);e.splice(R,1)}}for(const x of _)r.add(x)}e.push(P)},clone:()=>a(Mc()),use:f=>{f.applyToStack(h)},remove:f=>typeof f=="string"?i(f):o(f),removeByTag:f=>{let m=!1;const y=b=>{const{tags:I,name:P,aliases:_}=b;if(I&&I.includes(f)){const x=ys(P,_);for(const R of x)r.delete(R);return m=!0,!1}return!0};return t=t.filter(y),e=e.filter(y),m},concat:f=>{var y;const m=a(Mc());return m.use(f),m.identifyOnResolve(n||m.identifyOnResolve()||(((y=f.identifyOnResolve)==null?void 0:y.call(f))??!1)),m},applyToStack:a,identify:()=>c(!0).map(f=>{const m=f.step??f.relation+" "+f.toMiddleware;return br(f.name,f.aliases)+" - "+m}),identifyOnResolve(f){return typeof f=="boolean"&&(n=f),n},resolve:(f,m)=>{for(const y of c().map(b=>b.middleware).reverse())f=y(f,m);return n&&console.log(h.identify()),f}};return h},D_={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},O_={high:3,normal:2,low:1};class vb{constructor(e){this.config=e,this.middlewareStack=Mc()}send(e,n,r){const s=typeof n!="function"?n:void 0,i=typeof n=="function"?n:r,o=s===void 0&&this.config.cacheMiddleware===!0;let a;if(o){this.handlers||(this.handlers=new WeakMap);const u=this.handlers;u.has(e.constructor)?a=u.get(e.constructor):(a=e.resolveMiddleware(this.middlewareStack,this.config,s),u.set(e.constructor,a))}else delete this.handlers,a=e.resolveMiddleware(this.middlewareStack,this.config,s);if(i)a(e).then(u=>i(null,u.output),u=>i(u)).catch(()=>{});else return a(e).then(u=>u.output)}destroy(){var e,n,r;(r=(n=(e=this.config)==null?void 0:e.requestHandler)==null?void 0:n.destroy)==null||r.call(n),delete this.handlers}}class Eo{constructor(){this.middlewareStack=Mc()}static classBuilder(){return new o4}resolveMiddlewareWithContext(e,n,r,{middlewareFn:s,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:u,smithyContext:c,additionalContext:h,CommandCtor:f}){for(const P of s.bind(this)(f,e,n,r))this.middlewareStack.use(P);const m=e.concat(this.middlewareStack),{logger:y}=n,b={logger:y,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:u,[Up]:{commandInstance:this,...c},...h},{requestHandler:I}=n;return m.resolve(P=>I.handle(P.request,r||{}),b)}}class o4{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,n,r={}){return this._smithyContext={service:e,operation:n,...r},this}c(e={}){return this._additionalContext=e,this}n(e,n){return this._clientName=e,this._commandName=n,this}f(e=r=>r,n=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=n,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){const e=this;let n;return n=class extends Eo{static getEndpointParameterInstructions(){return e._ep}constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this)}resolveMiddleware(r,s,i){return this.resolveMiddlewareWithContext(r,s,i,{CommandCtor:n,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}}const hu=t=>{if(t!=null){if(typeof t=="number"){if((t===0||t===1)&&Lc.warn(Vc(`Expected boolean, got ${typeof t}: ${t}`)),t===0)return!1;if(t===1)return!0}if(typeof t=="string"){const e=t.toLowerCase();if((e==="false"||e==="true")&&Lc.warn(Vc(`Expected boolean, got ${typeof t}: ${t}`)),e==="false")return!1;if(e==="true")return!0}if(typeof t=="boolean")return t;throw new TypeError(`Expected boolean, got ${typeof t}: ${t}`)}},Hp=t=>{if(t!=null){if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&Lc.warn(Vc(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},a4=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},M_=t=>l4(t,32),l4=(t,e)=>{const n=a4(t);if(n!==void 0&&u4(n,e)!==n)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return n},u4=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},Rj=(t,e)=>{if(t==null)throw new TypeError("Expected a non-null value");return t},c4=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;const e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},or=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return Lc.warn(Vc(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}},d4=t=>{if(t==null)return;const e=c4(t),n=Object.entries(e).filter(([,r])=>r!=null).map(([r])=>r);if(n.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(n.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${n} were not null.`);return e},Pj=t=>Hp(typeof t=="string"?f4(t):t),h4=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,f4=t=>{const e=t.match(h4);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},ks=t=>typeof t=="string"?p4(t):Hp(t),p4=t=>{switch(t){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${t}`)}},Vc=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),Lc={warn:console.warn};class ki extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){if(!e)return!1;const n=e;return ki.prototype.isPrototypeOf(n)||!!n.$fault&&!!n.$metadata&&(n.$fault==="client"||n.$fault==="server")}static[Symbol.hasInstance](e){if(!e)return!1;const n=e;return this===ki?ki.isInstance(e):ki.isInstance(e)?n.name&&this.name?this.prototype.isPrototypeOf(e)||n.name===this.name:this.prototype.isPrototypeOf(e):!1}}const he=(t,e={})=>{Object.entries(e).filter(([,r])=>r!==void 0).forEach(([r,s])=>{(t[r]==null||t[r]==="")&&(t[r]=s)});const n=t.message||t.Message||"UnknownError";return t.message=n,delete t.Message,t},m4=({output:t,parsedBody:e,exceptionCtor:n,errorCode:r})=>{const s=y4(t),i=s.httpStatusCode?s.httpStatusCode+"":void 0,o=new n({name:(e==null?void 0:e.code)||(e==null?void 0:e.Code)||r||i||"UnknownError",$fault:"client",$metadata:s});throw he(o,e)},g4=t=>({output:e,parsedBody:n,errorCode:r})=>{m4({output:e,parsedBody:n,exceptionCtor:t,errorCode:r})},y4=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),v4=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},w4=t=>{const e=[];for(const n in Nc){const r=Nc[n];t[r]!==void 0&&e.push({algorithmId:()=>r,checksumConstructor:()=>t[r]})}return{_checksumAlgorithms:e,addChecksumAlgorithm(n){this._checksumAlgorithms.push(n)},checksumAlgorithms(){return this._checksumAlgorithms}}},_4=t=>{const e={};return t.checksumAlgorithms().forEach(n=>{e[n.algorithmId()]=n.checksumConstructor()}),e},E4=t=>{let e=t.retryStrategy;return{setRetryStrategy(n){e=n},retryStrategy(){return e}}},x4=t=>{const e={};return e.retryStrategy=t.retryStrategy(),e},S4=t=>({...w4(t),...E4(t)}),T4=t=>({..._4(t),...x4(t)});class wb{trace(){}debug(){}info(){}warn(){}error(){}}const Qt=(t,e)=>{const n={};for(const r in e)b4(n,t,e,r);return n},b4=(t,e,n,r)=>{if(e!==null){let o=n[r];typeof o=="function"&&(o=[,o]);const[a=A4,u=I4,c=r]=o;(typeof a=="function"&&a(e[c])||typeof a!="function"&&a)&&(t[r]=u(e[c]));return}let[s,i]=n[r];if(typeof i=="function"){let o;const a=s===void 0&&(o=i())!=null,u=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?t[r]=o:u&&(t[r]=i())}else{const o=s===void 0&&i!=null,a=typeof s=="function"&&!!s(i)||typeof s!="function"&&!!s;(o||a)&&(t[r]=i)}},A4=t=>t!=null,I4=t=>t,ie=t=>{if(t==null)return{};if(Array.isArray(t))return t.filter(e=>e!=null).map(ie);if(typeof t=="object"){const e={};for(const n of Object.keys(t))t[n]!=null&&(e[n]=ie(t[n]));return e}return t},gl=t=>{if(t!=null)return typeof t=="object"&&"__type"in t&&delete t.__type,d4(t)},C4=(t,e)=>WO(t,e).then(n=>e.utf8Encoder(n)),yl=(t,e)=>C4(t,e).then(n=>{if(n.length)try{return JSON.parse(n)}catch(r){throw(r==null?void 0:r.name)==="SyntaxError"&&Object.defineProperty(r,"$responseBodyText",{value:n}),r}return{}}),R4=async(t,e)=>{const n=await yl(t,e);return n.message=n.message??n.Message,n},P4=(t,e)=>{const n=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),r=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=n(t.headers,"x-amzn-errortype");if(s!==void 0)return r(t.headers[s]);if(e.code!==void 0)return r(e.code);if(e.__type!==void 0)return r(e.__type)},k4=/\d{12}\.ddb/;async function N4(t,e,n){var i,o,a,u,c,h,f;const r=n.request;if(((i=r==null?void 0:r.headers)==null?void 0:i["smithy-protocol"])==="rpc-v2-cbor"&&Rn(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){const m=await e.retryStrategy();typeof m.acquireInitialRetryToken=="function"?(a=(o=m.constructor)==null?void 0:o.name)!=null&&a.includes("Adaptive")?Rn(t,"RETRY_MODE_ADAPTIVE","F"):Rn(t,"RETRY_MODE_STANDARD","E"):Rn(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){const m=t.endpointV2;switch(String((u=m==null?void 0:m.url)==null?void 0:u.hostname).match(k4)&&Rn(t,"ACCOUNT_ID_ENDPOINT","O"),await((c=e.accountIdEndpointMode)==null?void 0:c.call(e))){case"disabled":Rn(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Rn(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Rn(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}const s=(f=(h=t.__smithy_context)==null?void 0:h.selectedHttpAuthScheme)==null?void 0:f.identity;if(s!=null&&s.$source){const m=s;m.accountId&&Rn(t,"RESOLVED_ACCOUNT_ID","T");for(const[y,b]of Object.entries(m.$source??{}))Rn(t,y,b)}}const V_="user-agent",df="x-amz-user-agent",L_=" ",hf="/",D4=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,O4=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,F_="-",M4=1024;function V4(t){let e="";for(const n in t){const r=t[n];if(e.length+r.length+1<=M4){e.length?e+=","+r:e+=r;continue}break}return e}const L4=t=>(e,n)=>async r=>{var y,b,I,P;const{request:s}=r;if(!an.isInstance(s))return e(r);const{headers:i}=s,o=((y=n==null?void 0:n.userAgent)==null?void 0:y.map(fu))||[],a=(await t.defaultUserAgentProvider()).map(fu);await N4(n,t,r);const u=n;a.push(`m/${V4(Object.assign({},(b=n.__smithy_context)==null?void 0:b.features,(I=u.__aws_sdk_context)==null?void 0:I.features))}`);const c=((P=t==null?void 0:t.customUserAgent)==null?void 0:P.map(fu))||[],h=await t.userAgentAppId();h&&a.push(fu([`app/${h}`]));const f=[].concat([...a,...o,...c]).join(L_),m=[...a.filter(_=>_.startsWith("aws-sdk-")),...c].join(L_);return t.runtime!=="browser"?(m&&(i[df]=i[df]?`${i[V_]} ${m}`:m),i[V_]=f):i[df]=f,e({...r,request:s})},fu=t=>{var o;const e=t[0].split(hf).map(a=>a.replace(D4,F_)).join(hf),n=(o=t[1])==null?void 0:o.replace(O4,F_),r=e.indexOf(hf),s=e.substring(0,r);let i=e.substring(r+1);return s==="api"&&(i=i.toLowerCase()),[s,i,n].filter(a=>a&&a.length>0).reduce((a,u,c)=>{switch(c){case 0:return u;case 1:return`${a}/${u}`;default:return`${a}#${u}`}},"")},F4={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},$4=t=>({applyToStack:e=>{e.add(L4(t),F4)}});var $_;(function(t){t.ENV="env",t.CONFIG="shared config entry"})($_||($_={}));const j4=!1,U4=!1,_b=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),j_=t=>_b(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,B4=t=>{const{region:e,useFipsEndpoint:n}=t;if(!e)throw new Error("Region is missing");return{...t,region:async()=>{if(typeof e=="string")return j_(e);const r=await e();return j_(r)},useFipsEndpoint:async()=>{const r=typeof e=="string"?e:await e();return _b(r)?!0:typeof n!="function"?Promise.resolve(!!n):n()}}},U_="content-length";function z4(t){return e=>async n=>{const r=n.request;if(an.isInstance(r)){const{body:s,headers:i}=r;if(s&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(U_)===-1)try{const o=t(s);r.headers={...r.headers,[U_]:String(o)}}catch{}}return e({...n,request:r})}}const H4={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},q4=t=>({applyToStack:e=>{e.add(z4(t.bodyLengthChecker),H4)}}),G4=async t=>{const e=(t==null?void 0:t.Bucket)||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),X4(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Q4(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},Y4=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,W4=/(\d+\.){3}\d+/,K4=/\.\./,Q4=t=>Y4.test(t)&&!W4.test(t)&&!K4.test(t),X4=t=>{const[e,n,r,,,s]=t.split(":"),i=e==="arn"&&t.split(":").length>=6,o=!!(i&&n&&r&&s);if(i&&!o)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return o},J4=(t,e,n)=>{const r=async()=>{const s=n[t]??n[e];return typeof s=="function"?s():s};return t==="credentialScope"||e==="CredentialScope"?async()=>{const s=typeof n.credentials=="function"?await n.credentials():n.credentials;return(s==null?void 0:s.credentialScope)??(s==null?void 0:s.CredentialScope)}:t==="accountId"||e==="AccountId"?async()=>{const s=typeof n.credentials=="function"?await n.credentials():n.credentials;return(s==null?void 0:s.accountId)??(s==null?void 0:s.AccountId)}:t==="endpoint"||e==="endpoint"?async()=>{const s=await r();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){const{protocol:i,hostname:o,port:a,path:u}=s;return`${i}//${o}${a?":"+a:""}${u}`}}return s}:r},Eb=async t=>{};function Z4(t){const e={};if(t=t.replace(/^\?/,""),t)for(const n of t.split("&")){let[r,s=null]=n.split("=");r=decodeURIComponent(r),s&&(s=decodeURIComponent(s)),r in e?Array.isArray(e[r])?e[r].push(s):e[r]=[e[r],s]:e[r]=s}return e}const Fc=t=>{if(typeof t=="string")return Fc(new URL(t));const{hostname:e,pathname:n,port:r,protocol:s,search:i}=t;let o;return i&&(o=Z4(i)),{hostname:e,port:r?parseInt(r):void 0,protocol:s,path:n,query:o}},xb=t=>typeof t=="object"?"url"in t?Fc(t.url):t:Fc(t),eV=async(t,e,n,r)=>{if(!n.endpoint){let o;n.serviceConfiguredEndpoint?o=await n.serviceConfiguredEndpoint():o=await Eb(n.serviceId),o&&(n.endpoint=()=>Promise.resolve(xb(o)))}const s=await tV(t,e,n);if(typeof n.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return n.endpointProvider(s,r)},tV=async(t,e,n)=>{var i;const r={},s=((i=e==null?void 0:e.getEndpointParameterInstructions)==null?void 0:i.call(e))||{};for(const[o,a]of Object.entries(s))switch(a.type){case"staticContextParams":r[o]=a.value;break;case"contextParams":r[o]=t[a.name];break;case"clientContextParams":case"builtInParams":r[o]=await J4(a.name,o,n)();break;case"operationContextParams":r[o]=a.get(t);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(r,n),String(n.serviceId).toLowerCase()==="s3"&&await G4(r),r},nV=({config:t,instructions:e})=>(n,r)=>async s=>{var a,u,c;t.endpoint&&KO(r,"ENDPOINT_OVERRIDE","N");const i=await eV(s.input,{getEndpointParameterInstructions(){return e}},{...t},r);r.endpointV2=i,r.authSchemes=(a=i.properties)==null?void 0:a.authSchemes;const o=(u=r.authSchemes)==null?void 0:u[0];if(o){r.signing_region=o.signingRegion,r.signing_service=o.signingName;const h=Ed(r),f=(c=h==null?void 0:h.selectedHttpAuthScheme)==null?void 0:c.httpAuthOption;f&&(f.signingProperties=Object.assign(f.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return n({...s})},rV={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Lg.name},Td=(t,e)=>({applyToStack:n=>{n.addRelativeTo(nV({config:t,instructions:e}),rV)}}),sV=t=>{const e=t.tls??!0,{endpoint:n}=t,r=n!=null?async()=>xb(await ur(n)()):void 0,i={...t,endpoint:r,tls:e,isCustomEndpoint:!!n,useDualstackEndpoint:ur(t.useDualstackEndpoint??!1),useFipsEndpoint:ur(t.useFipsEndpoint??!1)};let o;return i.serviceConfiguredEndpoint=async()=>(t.serviceId&&!o&&(o=Eb(t.serviceId)),o),i};var oo;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(oo||(oo={}));const $c=3,iV=oo.STANDARD,oV=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],aV=["TimeoutError","RequestTimeout","RequestTimeoutException"],lV=[500,502,503,504],uV=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],cV=t=>{var e;return(e=t.$metadata)==null?void 0:e.clockSkewCorrected},Sb=t=>{var e,n;return((e=t.$metadata)==null?void 0:e.httpStatusCode)===429||oV.includes(t.name)||((n=t.$retryable)==null?void 0:n.throttling)==!0},Hg=(t,e=0)=>{var n;return cV(t)||aV.includes(t.name)||uV.includes((t==null?void 0:t.code)||"")||lV.includes(((n=t.$metadata)==null?void 0:n.httpStatusCode)||0)||t.cause!==void 0&&e<=10&&Hg(t.cause,e+1)},dV=t=>{var e;if(((e=t.$metadata)==null?void 0:e.httpStatusCode)!==void 0){const n=t.$metadata.httpStatusCode;return 500<=n&&n<=599&&!Hg(t)}return!1};class bd{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(e==null?void 0:e.beta)??.7,this.minCapacity=(e==null?void 0:e.minCapacity)??1,this.minFillRate=(e==null?void 0:e.minFillRate)??.5,this.scaleConstant=(e==null?void 0:e.scaleConstant)??.4,this.smooth=(e==null?void 0:e.smooth)??.8;const n=this.getCurrentTimeInSeconds();this.lastThrottleTime=n,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const n=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(r=>bd.setTimeoutFn(r,n))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}const n=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+n),this.lastTimestamp=e}updateClientSendingRate(e){let n;if(this.updateMeasuredRate(),Sb(e)){const s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),n=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),n=this.cubicSuccess(this.getCurrentTimeInSeconds());const r=Math.min(n,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),n=Math.floor(e*2)/2;if(this.requestCount++,n>this.lastTxRateBucket){const r=this.requestCount/(n-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=n}}getPrecise(e){return parseFloat(e.toFixed(8))}}bd.setTimeoutFn=setTimeout;const qp=100,Tb=20*1e3,hV=500,B_=500,fV=5,pV=10,mV=1,gV="amz-sdk-invocation-id",yV="amz-sdk-request",vV=()=>{let t=qp;return{computeNextBackoffDelay:r=>Math.floor(Math.min(Tb,Math.random()*2**r*t)),setDelayBase:r=>{t=r}}},z_=({retryDelay:t,retryCount:e,retryCost:n})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(Tb,t),getRetryCost:()=>n});class bb{constructor(e){this.maxAttempts=e,this.mode=oo.STANDARD,this.capacity=B_,this.retryBackoffStrategy=vV(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return z_({retryDelay:qp,retryCount:0})}async refreshRetryTokenForRetry(e,n){const r=await this.getMaxAttempts();if(this.shouldRetry(e,n,r)){const s=n.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?hV:qp);const i=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),o=n.retryAfterHint?Math.max(n.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(s);return this.capacity-=a,z_({retryDelay:o,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(B_,this.capacity+(e.getRetryCost()??mV))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${$c}`),$c}}shouldRetry(e,n,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(n.errorType)&&this.isRetryableError(n.errorType)}getCapacityCost(e){return e==="TRANSIENT"?pV:fV}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}class wV{constructor(e,n){this.maxAttemptsProvider=e,this.mode=oo.ADAPTIVE;const{rateLimiter:r}=n??{};this.rateLimiter=r??new bd,this.standardRetryStrategy=new bb(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,n){return this.rateLimiter.updateClientSendingRate(n),this.standardRetryStrategy.refreshRetryTokenForRetry(e,n)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}let pu;const _V=new Uint8Array(16);function EV(){if(!pu&&(pu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!pu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pu(_V)}const gt=[];for(let t=0;t<256;++t)gt.push((t+256).toString(16).slice(1));function xV(t,e=0){return gt[t[e+0]]+gt[t[e+1]]+gt[t[e+2]]+gt[t[e+3]]+"-"+gt[t[e+4]]+gt[t[e+5]]+"-"+gt[t[e+6]]+gt[t[e+7]]+"-"+gt[t[e+8]]+gt[t[e+9]]+"-"+gt[t[e+10]]+gt[t[e+11]]+gt[t[e+12]]+gt[t[e+13]]+gt[t[e+14]]+gt[t[e+15]]}const SV=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),H_={randomUUID:SV};function TV(t,e,n){if(H_.randomUUID&&!t)return H_.randomUUID();t=t||{};const r=t.random||(t.rng||EV)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,xV(r)}const bV=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`),AV=t=>{const{retryStrategy:e}=t,n=ur(t.maxAttempts??$c);return{...t,maxAttempts:n,retryStrategy:async()=>e||(await ur(t.retryMode)()===oo.ADAPTIVE?new wV(n):new bb(n))}},IV=t=>(t==null?void 0:t.body)instanceof ReadableStream,CV=t=>(e,n)=>async r=>{var o;let s=await t.retryStrategy();const i=await t.maxAttempts();if(RV(s)){s=s;let a=await s.acquireInitialRetryToken(n.partition_id),u=new Error,c=0,h=0;const{request:f}=r,m=an.isInstance(f);for(m&&(f.headers[gV]=TV());;)try{m&&(f.headers[yV]=`attempt=${c+1}; max=${i}`);const{response:y,output:b}=await e(r);return s.recordSuccess(a),b.$metadata.attempts=c+1,b.$metadata.totalRetryDelay=h,{response:y,output:b}}catch(y){const b=PV(y);if(u=bV(y),m&&IV(f))throw(o=n.logger instanceof wb?console:n.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),u;try{a=await s.refreshRetryTokenForRetry(a,b)}catch{throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=c+1,u.$metadata.totalRetryDelay=h,u}c=a.getRetryCount();const I=a.getRetryDelay();h+=I,await new Promise(P=>setTimeout(P,I))}}else return s=s,s!=null&&s.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(e,r)},RV=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",PV=t=>{const e={error:t,errorType:kV(t)},n=OV(t.$response);return n&&(e.retryAfterHint=n),e},kV=t=>Sb(t)?"THROTTLING":Hg(t)?"TRANSIENT":dV(t)?"SERVER_ERROR":"CLIENT_ERROR",NV={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},DV=t=>({applyToStack:e=>{e.add(CV(t),NV)}}),OV=t=>{if(!Dc.isInstance(t))return;const e=Object.keys(t.headers).find(i=>i.toLowerCase()==="retry-after");if(!e)return;const n=t.headers[e],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(r*1e3)},MV=async(t,e,n)=>({operation:Ed(e).operation,region:await ur(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function VV(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}const LV=t=>{const e=[];switch(t.operation){default:e.push(VV(t))}return e},FV=t=>({...i4(t)}),$V=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),Ad={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}};class ue extends ki{constructor(e){super(e),Object.setPrototypeOf(this,ue.prototype)}}class qg extends ue{constructor(n){super({name:"BackupInUseException",$fault:"client",...n});B(this,"name","BackupInUseException");B(this,"$fault","client");Object.setPrototypeOf(this,qg.prototype)}}class Gg extends ue{constructor(n){super({name:"BackupNotFoundException",$fault:"client",...n});B(this,"name","BackupNotFoundException");B(this,"$fault","client");Object.setPrototypeOf(this,Gg.prototype)}}class Yg extends ue{constructor(n){super({name:"InternalServerError",$fault:"server",...n});B(this,"name","InternalServerError");B(this,"$fault","server");Object.setPrototypeOf(this,Yg.prototype)}}class Wg extends ue{constructor(n){super({name:"RequestLimitExceeded",$fault:"client",...n});B(this,"name","RequestLimitExceeded");B(this,"$fault","client");Object.setPrototypeOf(this,Wg.prototype)}}class Kg extends ue{constructor(n){super({name:"InvalidEndpointException",$fault:"client",...n});B(this,"name","InvalidEndpointException");B(this,"$fault","client");B(this,"Message");Object.setPrototypeOf(this,Kg.prototype),this.Message=n.Message}}class Qg extends ue{constructor(n){super({name:"ProvisionedThroughputExceededException",$fault:"client",...n});B(this,"name","ProvisionedThroughputExceededException");B(this,"$fault","client");Object.setPrototypeOf(this,Qg.prototype)}}class Xg extends ue{constructor(n){super({name:"ResourceNotFoundException",$fault:"client",...n});B(this,"name","ResourceNotFoundException");B(this,"$fault","client");Object.setPrototypeOf(this,Xg.prototype)}}class Jg extends ue{constructor(n){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...n});B(this,"name","ItemCollectionSizeLimitExceededException");B(this,"$fault","client");Object.setPrototypeOf(this,Jg.prototype)}}class Zg extends ue{constructor(n){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...n});B(this,"name","ContinuousBackupsUnavailableException");B(this,"$fault","client");Object.setPrototypeOf(this,Zg.prototype)}}class ey extends ue{constructor(n){super({name:"LimitExceededException",$fault:"client",...n});B(this,"name","LimitExceededException");B(this,"$fault","client");Object.setPrototypeOf(this,ey.prototype)}}class ty extends ue{constructor(n){super({name:"TableInUseException",$fault:"client",...n});B(this,"name","TableInUseException");B(this,"$fault","client");Object.setPrototypeOf(this,ty.prototype)}}class ny extends ue{constructor(n){super({name:"TableNotFoundException",$fault:"client",...n});B(this,"name","TableNotFoundException");B(this,"$fault","client");Object.setPrototypeOf(this,ny.prototype)}}class ry extends ue{constructor(n){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...n});B(this,"name","GlobalTableAlreadyExistsException");B(this,"$fault","client");Object.setPrototypeOf(this,ry.prototype)}}class sy extends ue{constructor(n){super({name:"ResourceInUseException",$fault:"client",...n});B(this,"name","ResourceInUseException");B(this,"$fault","client");Object.setPrototypeOf(this,sy.prototype)}}class iy extends ue{constructor(n){super({name:"ReplicatedWriteConflictException",$fault:"client",...n});B(this,"name","ReplicatedWriteConflictException");B(this,"$fault","client");Object.setPrototypeOf(this,iy.prototype)}}class oy extends ue{constructor(n){super({name:"TransactionConflictException",$fault:"client",...n});B(this,"name","TransactionConflictException");B(this,"$fault","client");Object.setPrototypeOf(this,oy.prototype)}}class ay extends ue{constructor(n){super({name:"PolicyNotFoundException",$fault:"client",...n});B(this,"name","PolicyNotFoundException");B(this,"$fault","client");Object.setPrototypeOf(this,ay.prototype)}}class ly extends ue{constructor(n){super({name:"ExportNotFoundException",$fault:"client",...n});B(this,"name","ExportNotFoundException");B(this,"$fault","client");Object.setPrototypeOf(this,ly.prototype)}}class uy extends ue{constructor(n){super({name:"GlobalTableNotFoundException",$fault:"client",...n});B(this,"name","GlobalTableNotFoundException");B(this,"$fault","client");Object.setPrototypeOf(this,uy.prototype)}}class cy extends ue{constructor(n){super({name:"ImportNotFoundException",$fault:"client",...n});B(this,"name","ImportNotFoundException");B(this,"$fault","client");Object.setPrototypeOf(this,cy.prototype)}}class dy extends ue{constructor(n){super({name:"DuplicateItemException",$fault:"client",...n});B(this,"name","DuplicateItemException");B(this,"$fault","client");Object.setPrototypeOf(this,dy.prototype)}}class hy extends ue{constructor(n){super({name:"IdempotentParameterMismatchException",$fault:"client",...n});B(this,"name","IdempotentParameterMismatchException");B(this,"$fault","client");B(this,"Message");Object.setPrototypeOf(this,hy.prototype),this.Message=n.Message}}class fy extends ue{constructor(n){super({name:"TransactionInProgressException",$fault:"client",...n});B(this,"name","TransactionInProgressException");B(this,"$fault","client");B(this,"Message");Object.setPrototypeOf(this,fy.prototype),this.Message=n.Message}}class py extends ue{constructor(n){super({name:"ExportConflictException",$fault:"client",...n});B(this,"name","ExportConflictException");B(this,"$fault","client");Object.setPrototypeOf(this,py.prototype)}}class my extends ue{constructor(n){super({name:"InvalidExportTimeException",$fault:"client",...n});B(this,"name","InvalidExportTimeException");B(this,"$fault","client");Object.setPrototypeOf(this,my.prototype)}}class gy extends ue{constructor(n){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...n});B(this,"name","PointInTimeRecoveryUnavailableException");B(this,"$fault","client");Object.setPrototypeOf(this,gy.prototype)}}class yy extends ue{constructor(n){super({name:"ImportConflictException",$fault:"client",...n});B(this,"name","ImportConflictException");B(this,"$fault","client");Object.setPrototypeOf(this,yy.prototype)}}class vy extends ue{constructor(n){super({name:"TableAlreadyExistsException",$fault:"client",...n});B(this,"name","TableAlreadyExistsException");B(this,"$fault","client");Object.setPrototypeOf(this,vy.prototype)}}class wy extends ue{constructor(n){super({name:"InvalidRestoreTimeException",$fault:"client",...n});B(this,"name","InvalidRestoreTimeException");B(this,"$fault","client");Object.setPrototypeOf(this,wy.prototype)}}class _y extends ue{constructor(n){super({name:"ReplicaAlreadyExistsException",$fault:"client",...n});B(this,"name","ReplicaAlreadyExistsException");B(this,"$fault","client");Object.setPrototypeOf(this,_y.prototype)}}class Ey extends ue{constructor(n){super({name:"ReplicaNotFoundException",$fault:"client",...n});B(this,"name","ReplicaNotFoundException");B(this,"$fault","client");Object.setPrototypeOf(this,Ey.prototype)}}class xy extends ue{constructor(n){super({name:"IndexNotFoundException",$fault:"client",...n});B(this,"name","IndexNotFoundException");B(this,"$fault","client");Object.setPrototypeOf(this,xy.prototype)}}var Gp;(function(t){t.visit=(e,n)=>e.S!==void 0?n.S(e.S):e.N!==void 0?n.N(e.N):e.B!==void 0?n.B(e.B):e.SS!==void 0?n.SS(e.SS):e.NS!==void 0?n.NS(e.NS):e.BS!==void 0?n.BS(e.BS):e.M!==void 0?n.M(e.M):e.L!==void 0?n.L(e.L):e.NULL!==void 0?n.NULL(e.NULL):e.BOOL!==void 0?n.BOOL(e.BOOL):n._(e.$unknown[0],e.$unknown[1])})(Gp||(Gp={}));class Sy extends ue{constructor(n){super({name:"ConditionalCheckFailedException",$fault:"client",...n});B(this,"name","ConditionalCheckFailedException");B(this,"$fault","client");B(this,"Item");Object.setPrototypeOf(this,Sy.prototype),this.Item=n.Item}}class Ty extends ue{constructor(n){super({name:"TransactionCanceledException",$fault:"client",...n});B(this,"name","TransactionCanceledException");B(this,"$fault","client");B(this,"Message");B(this,"CancellationReasons");Object.setPrototypeOf(this,Ty.prototype),this.Message=n.Message,this.CancellationReasons=n.CancellationReasons}}const jV=async(t,e)=>{const n=Rd("DeleteItem");let r;return r=JSON.stringify(PL(t,e)),Cd(e,n,"/",void 0,r)},UV=async(t,e)=>{const n=Rd("DescribeEndpoints");let r;return r=JSON.stringify(ie(t)),Cd(e,n,"/",void 0,r)},BV=async(t,e)=>{const n=Rd("PutItem");let r;return r=JSON.stringify(ML(t,e)),Cd(e,n,"/",void 0,r)},zV=async(t,e)=>{const n=Rd("Scan");let r;return r=JSON.stringify(LL(t,e)),Cd(e,n,"/",void 0,r)},HV=async(t,e)=>{if(t.statusCode>=300)return Id(t,e);const n=await yl(t.body,e);let r={};return r=BL(n,e),{$metadata:ae(t),...r}},qV=async(t,e)=>{if(t.statusCode>=300)return Id(t,e);const n=await yl(t.body,e);let r={};return r=ie(n),{$metadata:ae(t),...r}},GV=async(t,e)=>{if(t.statusCode>=300)return Id(t,e);const n=await yl(t.body,e);let r={};return r=KL(n,e),{$metadata:ae(t),...r}},YV=async(t,e)=>{if(t.statusCode>=300)return Id(t,e);const n=await yl(t.body,e);let r={};return r=QL(n,e),{$metadata:ae(t),...r}},Id=async(t,e)=>{const n={...t,body:await R4(t.body,e)},r=P4(t,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await aL(n);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await wL(n);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await lL(n);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await mL(n);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await EL(n);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await dL(n);case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await WV(n);case"ContinuousBackupsUnavailableException":case"com.amazonaws.dynamodb#ContinuousBackupsUnavailableException":throw await XV(n);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await hL(n);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await SL(n);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await TL(n);case"GlobalTableAlreadyExistsException":case"com.amazonaws.dynamodb#GlobalTableAlreadyExistsException":throw await tL(n);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await _L(n);case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await KV(n);case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await QV(n,e);case"ReplicatedWriteConflictException":case"com.amazonaws.dynamodb#ReplicatedWriteConflictException":throw await vL(n);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await AL(n);case"PolicyNotFoundException":case"com.amazonaws.dynamodb#PolicyNotFoundException":throw await pL(n);case"ExportNotFoundException":case"com.amazonaws.dynamodb#ExportNotFoundException":throw await eL(n);case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await nL(n);case"ImportNotFoundException":case"com.amazonaws.dynamodb#ImportNotFoundException":throw await iL(n);case"DuplicateItemException":case"com.amazonaws.dynamodb#DuplicateItemException":throw await JV(n);case"IdempotentParameterMismatchException":case"com.amazonaws.dynamodb#IdempotentParameterMismatchException":throw await rL(n);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await bL(n,e);case"TransactionInProgressException":case"com.amazonaws.dynamodb#TransactionInProgressException":throw await IL(n);case"ExportConflictException":case"com.amazonaws.dynamodb#ExportConflictException":throw await ZV(n);case"InvalidExportTimeException":case"com.amazonaws.dynamodb#InvalidExportTimeException":throw await uL(n);case"PointInTimeRecoveryUnavailableException":case"com.amazonaws.dynamodb#PointInTimeRecoveryUnavailableException":throw await fL(n);case"ImportConflictException":case"com.amazonaws.dynamodb#ImportConflictException":throw await sL(n);case"TableAlreadyExistsException":case"com.amazonaws.dynamodb#TableAlreadyExistsException":throw await xL(n);case"InvalidRestoreTimeException":case"com.amazonaws.dynamodb#InvalidRestoreTimeException":throw await cL(n);case"ReplicaAlreadyExistsException":case"com.amazonaws.dynamodb#ReplicaAlreadyExistsException":throw await gL(n);case"ReplicaNotFoundException":case"com.amazonaws.dynamodb#ReplicaNotFoundException":throw await yL(n);case"IndexNotFoundException":case"com.amazonaws.dynamodb#IndexNotFoundException":throw await oL(n);default:const s=n.body;return JL({output:t,parsedBody:s,errorCode:r})}},WV=async(t,e)=>{const n=t.body,r=ie(n),s=new qg({$metadata:ae(t),...r});return he(s,n)},KV=async(t,e)=>{const n=t.body,r=ie(n),s=new Gg({$metadata:ae(t),...r});return he(s,n)},QV=async(t,e)=>{const n=t.body,r=UL(n,e),s=new Sy({$metadata:ae(t),...r});return he(s,n)},XV=async(t,e)=>{const n=t.body,r=ie(n),s=new Zg({$metadata:ae(t),...r});return he(s,n)},JV=async(t,e)=>{const n=t.body,r=ie(n),s=new dy({$metadata:ae(t),...r});return he(s,n)},ZV=async(t,e)=>{const n=t.body,r=ie(n),s=new py({$metadata:ae(t),...r});return he(s,n)},eL=async(t,e)=>{const n=t.body,r=ie(n),s=new ly({$metadata:ae(t),...r});return he(s,n)},tL=async(t,e)=>{const n=t.body,r=ie(n),s=new ry({$metadata:ae(t),...r});return he(s,n)},nL=async(t,e)=>{const n=t.body,r=ie(n),s=new uy({$metadata:ae(t),...r});return he(s,n)},rL=async(t,e)=>{const n=t.body,r=ie(n),s=new hy({$metadata:ae(t),...r});return he(s,n)},sL=async(t,e)=>{const n=t.body,r=ie(n),s=new yy({$metadata:ae(t),...r});return he(s,n)},iL=async(t,e)=>{const n=t.body,r=ie(n),s=new cy({$metadata:ae(t),...r});return he(s,n)},oL=async(t,e)=>{const n=t.body,r=ie(n),s=new xy({$metadata:ae(t),...r});return he(s,n)},aL=async(t,e)=>{const n=t.body,r=ie(n),s=new Yg({$metadata:ae(t),...r});return he(s,n)},lL=async(t,e)=>{const n=t.body,r=ie(n),s=new Kg({$metadata:ae(t),...r});return he(s,n)},uL=async(t,e)=>{const n=t.body,r=ie(n),s=new my({$metadata:ae(t),...r});return he(s,n)},cL=async(t,e)=>{const n=t.body,r=ie(n),s=new wy({$metadata:ae(t),...r});return he(s,n)},dL=async(t,e)=>{const n=t.body,r=ie(n),s=new Jg({$metadata:ae(t),...r});return he(s,n)},hL=async(t,e)=>{const n=t.body,r=ie(n),s=new ey({$metadata:ae(t),...r});return he(s,n)},fL=async(t,e)=>{const n=t.body,r=ie(n),s=new gy({$metadata:ae(t),...r});return he(s,n)},pL=async(t,e)=>{const n=t.body,r=ie(n),s=new ay({$metadata:ae(t),...r});return he(s,n)},mL=async(t,e)=>{const n=t.body,r=ie(n),s=new Qg({$metadata:ae(t),...r});return he(s,n)},gL=async(t,e)=>{const n=t.body,r=ie(n),s=new _y({$metadata:ae(t),...r});return he(s,n)},yL=async(t,e)=>{const n=t.body,r=ie(n),s=new Ey({$metadata:ae(t),...r});return he(s,n)},vL=async(t,e)=>{const n=t.body,r=ie(n),s=new iy({$metadata:ae(t),...r});return he(s,n)},wL=async(t,e)=>{const n=t.body,r=ie(n),s=new Wg({$metadata:ae(t),...r});return he(s,n)},_L=async(t,e)=>{const n=t.body,r=ie(n),s=new sy({$metadata:ae(t),...r});return he(s,n)},EL=async(t,e)=>{const n=t.body,r=ie(n),s=new Xg({$metadata:ae(t),...r});return he(s,n)},xL=async(t,e)=>{const n=t.body,r=ie(n),s=new vy({$metadata:ae(t),...r});return he(s,n)},SL=async(t,e)=>{const n=t.body,r=ie(n),s=new ty({$metadata:ae(t),...r});return he(s,n)},TL=async(t,e)=>{const n=t.body,r=ie(n),s=new ny({$metadata:ae(t),...r});return he(s,n)},bL=async(t,e)=>{const n=t.body,r=XL(n,e),s=new Ty({$metadata:ae(t),...r});return he(s,n)},AL=async(t,e)=>{const n=t.body,r=ie(n),s=new oy({$metadata:ae(t),...r});return he(s,n)},IL=async(t,e)=>{const n=t.body,r=ie(n),s=new fy({$metadata:ae(t),...r});return he(s,n)},Qs=(t,e)=>Gp.visit(t,{B:n=>({B:e.base64Encoder(n)}),BOOL:n=>({BOOL:n}),BS:n=>({BS:CL(n,e)}),L:n=>({L:DL(n,e)}),M:n=>({M:OL(n,e)}),N:n=>({N:n}),NS:n=>({NS:ie(n)}),NULL:n=>({NULL:n}),S:n=>({S:n}),SS:n=>({SS:ie(n)}),_:(n,r)=>({name:r})}),Ab=(t,e)=>t.filter(n=>n!=null).map(n=>Qs(n,e)),CL=(t,e)=>t.filter(n=>n!=null).map(n=>e.base64Encoder(n)),RL=(t,e)=>Qt(t,{AttributeValueList:n=>Ab(n,e),ComparisonOperator:[]}),PL=(t,e)=>Qt(t,{ConditionExpression:[],ConditionalOperator:[],Expected:n=>Ib(n,e),ExpressionAttributeNames:ie,ExpressionAttributeValues:n=>by(n,e),Key:n=>Cb(n,e),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),Ib=(t,e)=>Object.entries(t).reduce((n,[r,s])=>(s===null||(n[r]=kL(s,e)),n),{}),kL=(t,e)=>Qt(t,{AttributeValueList:n=>Ab(n,e),ComparisonOperator:[],Exists:[],Value:n=>Qs(n,e)}),by=(t,e)=>Object.entries(t).reduce((n,[r,s])=>(s===null||(n[r]=Qs(s,e)),n),{}),NL=(t,e)=>Object.entries(t).reduce((n,[r,s])=>(s===null||(n[r]=RL(s,e)),n),{}),Cb=(t,e)=>Object.entries(t).reduce((n,[r,s])=>(s===null||(n[r]=Qs(s,e)),n),{}),DL=(t,e)=>t.filter(n=>n!=null).map(n=>Qs(n,e)),OL=(t,e)=>Object.entries(t).reduce((n,[r,s])=>(s===null||(n[r]=Qs(s,e)),n),{}),ML=(t,e)=>Qt(t,{ConditionExpression:[],ConditionalOperator:[],Expected:n=>Ib(n,e),ExpressionAttributeNames:ie,ExpressionAttributeValues:n=>by(n,e),Item:n=>VL(n,e),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),VL=(t,e)=>Object.entries(t).reduce((n,[r,s])=>(s===null||(n[r]=Qs(s,e)),n),{}),LL=(t,e)=>Qt(t,{AttributesToGet:ie,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:n=>Cb(n,e),ExpressionAttributeNames:ie,ExpressionAttributeValues:n=>by(n,e),FilterExpression:[],IndexName:[],Limit:[],ProjectionExpression:[],ReturnConsumedCapacity:[],ScanFilter:n=>NL(n,e),Segment:[],Select:[],TableName:[],TotalSegments:[]}),vl=(t,e)=>Object.entries(t).reduce((n,[r,s])=>(s===null||(n[r]=wl(gl(s),e)),n),{}),wl=(t,e)=>t.B!=null?{B:e.base64Decoder(t.B)}:hu(t.BOOL)!==void 0?{BOOL:hu(t.BOOL)}:t.BS!=null?{BS:FL(t.BS,e)}:t.L!=null?{L:YL(t.L,e)}:t.M!=null?{M:WL(t.M,e)}:or(t.N)!==void 0?{N:or(t.N)}:t.NS!=null?{NS:ie(t.NS)}:hu(t.NULL)!==void 0?{NULL:hu(t.NULL)}:or(t.S)!==void 0?{S:or(t.S)}:t.SS!=null?{SS:ie(t.SS)}:{$unknown:Object.entries(t)[0]},FL=(t,e)=>(t||[]).filter(r=>r!=null).map(r=>e.base64Decoder(r)),$L=(t,e)=>Qt(t,{Code:or,Item:n=>vl(n,e),Message:or}),jL=(t,e)=>(t||[]).filter(r=>r!=null).map(r=>$L(r,e)),Rb=(t,e)=>Qt(t,{CapacityUnits:ks,ReadCapacityUnits:ks,WriteCapacityUnits:ks}),UL=(t,e)=>Qt(t,{Item:n=>vl(n,e),message:or}),Ay=(t,e)=>Qt(t,{CapacityUnits:ks,GlobalSecondaryIndexes:n=>q_(n),LocalSecondaryIndexes:n=>q_(n),ReadCapacityUnits:ks,Table:n=>Rb(n),TableName:or,WriteCapacityUnits:ks}),BL=(t,e)=>Qt(t,{Attributes:n=>vl(n,e),ConsumedCapacity:n=>Ay(n),ItemCollectionMetrics:n=>Pb(n,e)}),zL=(t,e)=>Object.entries(t).reduce((n,[r,s])=>(s===null||(n[r]=wl(gl(s),e)),n),{}),Pb=(t,e)=>Qt(t,{ItemCollectionKey:n=>zL(n,e),SizeEstimateRangeGB:n=>HL(n)}),HL=(t,e)=>(t||[]).filter(r=>r!=null).map(r=>ks(r)),qL=(t,e)=>(t||[]).filter(r=>r!=null).map(r=>vl(r,e)),GL=(t,e)=>Object.entries(t).reduce((n,[r,s])=>(s===null||(n[r]=wl(gl(s),e)),n),{}),YL=(t,e)=>(t||[]).filter(r=>r!=null).map(r=>wl(gl(r),e)),WL=(t,e)=>Object.entries(t).reduce((n,[r,s])=>(s===null||(n[r]=wl(gl(s),e)),n),{}),KL=(t,e)=>Qt(t,{Attributes:n=>vl(n,e),ConsumedCapacity:n=>Ay(n),ItemCollectionMetrics:n=>Pb(n,e)}),QL=(t,e)=>Qt(t,{ConsumedCapacity:n=>Ay(n),Count:M_,Items:n=>qL(n,e),LastEvaluatedKey:n=>GL(n,e),ScannedCount:M_}),q_=(t,e)=>Object.entries(t).reduce((n,[r,s])=>(s===null||(n[r]=Rb(s)),n),{}),XL=(t,e)=>Qt(t,{CancellationReasons:n=>jL(n,e),Message:or}),ae=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),JL=g4(ue),Cd=async(t,e,n,r,s)=>{const{hostname:i,protocol:o="https",port:a,path:u}=await t.endpoint(),c={protocol:o,hostname:i,port:a,method:"POST",path:u.endsWith("/")?u.slice(0,-1)+n:u+n,headers:e};return s!==void 0&&(c.body=s),new an(c)};function Rd(t){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`DynamoDB_20120810.${t}`}}class ZL extends Eo.classBuilder().ep(Ad).m(function(e,n,r,s){return[xd(r,this.serialize,this.deserialize),Td(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").f(void 0,void 0).ser(UV).de(qV).build(){}const eF="3.744.0",tF={version:eF},nF=t=>new TextEncoder().encode(t);var rF=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:nF;function Za(t){return t instanceof Uint8Array?t:typeof t=="string"?rF(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}function Yp(t){return typeof t=="string"?t.length===0:t.byteLength===0}var kb={name:"SHA-256"},G_={name:"HMAC",hash:kb},sF=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);const iF={};function $u(){return typeof window<"u"?window:typeof self<"u"?self:iF}var oF=function(){function t(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return t.prototype.update=function(e){if(!Yp(e)){var n=Za(e),r=new Uint8Array(this.toHash.byteLength+n.byteLength);r.set(this.toHash,0),r.set(n,this.toHash.byteLength),this.toHash=r}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(n){return $u().crypto.subtle.sign(G_,n,e.toHash).then(function(r){return new Uint8Array(r)})}):Yp(this.toHash)?Promise.resolve(sF):Promise.resolve().then(function(){return $u().crypto.subtle.digest(kb,e.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},t.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(n,r){$u().crypto.subtle.importKey("raw",Za(e.secret),G_,!1,["sign"]).then(n,r)}),this.key.catch(function(){}))},t}();function aF(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function u(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?i(h.value):s(h.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function lF(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(h){return u([c,h])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],s=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var hn=64,uF=32,cF=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),dF=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],hF=Math.pow(2,53)-1,ju=function(){function t(){this.state=Int32Array.from(dF),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var n=0,r=e.byteLength;if(this.bytesHashed+=r,this.bytesHashed*8>hF)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=e[n++],r--,this.bufferLength===hn&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(n.setUint8(this.bufferLength++,128),r%hn>=hn-8){for(var s=this.bufferLength;s<hn;s++)n.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(var s=this.bufferLength;s<hn-8;s++)n.setUint8(s,0);n.setUint32(hn-8,Math.floor(e/4294967296),!0),n.setUint32(hn-4,e),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(uF),s=0;s<8;s++)i[s*4]=this.state[s]>>>24&255,i[s*4+1]=this.state[s]>>>16&255,i[s*4+2]=this.state[s]>>>8&255,i[s*4+3]=this.state[s]>>>0&255;return i},t.prototype.hashBuffer=function(){for(var e=this,n=e.buffer,r=e.state,s=r[0],i=r[1],o=r[2],a=r[3],u=r[4],c=r[5],h=r[6],f=r[7],m=0;m<hn;m++){if(m<16)this.temp[m]=(n[m*4]&255)<<24|(n[m*4+1]&255)<<16|(n[m*4+2]&255)<<8|n[m*4+3]&255;else{var y=this.temp[m-2],b=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10;y=this.temp[m-15];var I=(y>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;this.temp[m]=(b+this.temp[m-7]|0)+(I+this.temp[m-16]|0)}var P=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&c^~u&h)|0)+(f+(cF[m]+this.temp[m]|0)|0)|0,_=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&i^s&o^i&o)|0;f=h,h=c,c=u,u=a+P|0,a=o,o=i,i=s,s=P+_|0}r[0]+=s,r[1]+=i,r[2]+=o,r[3]+=a,r[4]+=u,r[5]+=c,r[6]+=h,r[7]+=f},t}(),fF=function(){function t(e){this.secret=e,this.hash=new ju,this.reset()}return t.prototype.update=function(e){if(!(Yp(e)||this.error))try{this.hash.update(Za(e))}catch(n){this.error=n}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return aF(this,void 0,void 0,function(){return lF(this,function(e){return[2,this.digestSync()]})})},t.prototype.reset=function(){if(this.hash=new ju,this.secret){this.outer=new ju;var e=pF(this.secret),n=new Uint8Array(hn);n.set(e);for(var r=0;r<hn;r++)e[r]^=54,n[r]^=92;this.hash.update(e),this.outer.update(n);for(var r=0;r<e.byteLength;r++)e[r]=0}},t}();function pF(t){var e=Za(t);if(e.byteLength>hn){var n=new ju;n.update(e),e=n.digest()}var r=new Uint8Array(hn);return r.set(e),r}var mF=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function gF(t){if(yF(t)&&typeof t.crypto.subtle=="object"){var e=t.crypto.subtle;return vF(e)}return!1}function yF(t){if(typeof t=="object"&&typeof t.crypto=="object"){var e=t.crypto.getRandomValues;return typeof e=="function"}return!1}function vF(t){return t&&mF.every(function(e){return typeof t[e]=="function"})}var wF=function(){function t(e){gF($u())?this.hash=new oF(e):this.hash=new fF(e)}return t.prototype.update=function(e,n){this.hash.update(Za(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();const _F={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Nb={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Ke={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Lt={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Ar={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class ${static getFirstMatch(e,n){const r=n.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,n){const r=n.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,n,r){if(e.test(n))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5)){if(n[0]===1&&n[1]<6)return"Cupcake";if(n[0]===1&&n[1]>=6)return"Donut";if(n[0]===2&&n[1]<2)return"Eclair";if(n[0]===2&&n[1]===2)return"Froyo";if(n[0]===2&&n[1]>2)return"Gingerbread";if(n[0]===3)return"Honeycomb";if(n[0]===4&&n[1]<1)return"Ice Cream Sandwich";if(n[0]===4&&n[1]<4)return"Jelly Bean";if(n[0]===4&&n[1]>=4)return"KitKat";if(n[0]===5)return"Lollipop";if(n[0]===6)return"Marshmallow";if(n[0]===7)return"Nougat";if(n[0]===8)return"Oreo";if(n[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,n,r=!1){const s=$.getVersionPrecision(e),i=$.getVersionPrecision(n);let o=Math.max(s,i),a=0;const u=$.map([e,n],c=>{const h=o-$.getVersionPrecision(c),f=c+new Array(h+1).join(".0");return $.map(f.split("."),m=>new Array(20-m.length).join("0")+m).reverse()});for(r&&(a=o-Math.min(s,i)),o-=1;o>=a;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===a)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}}static map(e,n){const r=[];let s;if(Array.prototype.map)return Array.prototype.map.call(e,n);for(s=0;s<e.length;s+=1)r.push(n(e[s]));return r}static find(e,n){let r,s;if(Array.prototype.find)return Array.prototype.find.call(e,n);for(r=0,s=e.length;r<s;r+=1){const i=e[r];if(n(i,r))return i}}static assign(e,...n){const r=e;let s,i;if(Object.assign)return Object.assign(e,...n);for(s=0,i=n.length;s<i;s+=1){const o=n[s];typeof o=="object"&&o!==null&&Object.keys(o).forEach(u=>{r[u]=o[u]})}return e}static getBrowserAlias(e){return _F[e]}static getBrowserTypeByAlias(e){return Nb[e]||""}}const Ae=/version\/(\d+(\.?_?\d+)+)/i,EF=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},n=$.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||$.getFirstMatch(Ae,t);return n&&(e.version=n),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},n=$.getFirstMatch(Ae,t)||$.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},n=$.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||$.getFirstMatch(Ae,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},n=$.getFirstMatch(Ae,t)||$.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},n=$.getFirstMatch(Ae,t)||$.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},n=$.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||$.getFirstMatch(Ae,t);return n&&(e.version=n),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},n=$.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||$.getFirstMatch(Ae,t);return n&&(e.version=n),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},n=$.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||$.getFirstMatch(Ae,t);return n&&(e.version=n),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},n=$.getFirstMatch(Ae,t)||$.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},n=$.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||$.getFirstMatch(Ae,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},n=$.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||$.getFirstMatch(Ae,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},n=$.getFirstMatch(Ae,t)||$.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},n=$.getFirstMatch(Ae,t)||$.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},n=$.getFirstMatch(Ae,t)||$.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},n=$.getFirstMatch(Ae,t)||$.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},n=$.getFirstMatch(Ae,t)||$.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},n=$.getFirstMatch(Ae,t)||$.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},n=$.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||$.getFirstMatch(Ae,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=$.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||$.getFirstMatch(Ae,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},n=$.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},n=$.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},n=$.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},n=$.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},n=$.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},n=$.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},n=$.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},n=$.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},n=$.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},n=$.getFirstMatch(Ae,t)||$.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},n=$.getFirstMatch(Ae,t)||$.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},n=$.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},n=$.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||$.getFirstMatch(Ae,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},n=$.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||$.getFirstMatch(Ae,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},n=$.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},n=$.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},n=$.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},n=$.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||$.getFirstMatch(Ae,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},n=$.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},n=$.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e={name:"Android Browser"},n=$.getFirstMatch(Ae,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},n=$.getFirstMatch(Ae,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},n=$.getFirstMatch(Ae,t);return n&&(e.version=n),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,n=/^(.*)\/(.*)[ \t]\((.*)/,s=t.search("\\(")!==-1?n:e;return{name:$.getFirstMatch(s,t),version:$.getSecondMatch(s,t)}}}],xF=[{test:[/Roku\/DVP/],describe(t){const e=$.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:Lt.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=$.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:Lt.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=$.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=$.getWindowsVersionName(e);return{name:Lt.Windows,version:e,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:Lt.iOS},n=$.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return n&&(e.version=n),e}},{test:[/macintosh/i],describe(t){const e=$.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=$.getMacOSVersionName(e),r={name:Lt.MacOS,version:e};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=$.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:Lt.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e=$.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=$.getAndroidVersionName(e),r={name:Lt.Android,version:e};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=$.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:Lt.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=$.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||$.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||$.getFirstMatch(/\bbb(\d+)/i,t);return{name:Lt.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=$.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:Lt.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=$.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:Lt.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:Lt.Linux}}},{test:[/CrOS/],describe(){return{name:Lt.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=$.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:Lt.PlayStation4,version:e}}}],SF=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=$.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:Ke.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:Ke.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:Ke.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:Ke.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:Ke.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:Ke.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:Ke.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe(t){const e=$.getFirstMatch(/(ipod|iphone)/i,t);return{type:Ke.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:Ke.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:Ke.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:Ke.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:Ke.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:Ke.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:Ke.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:Ke.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:Ke.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:Ke.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:Ke.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:Ke.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:Ke.tv}}}],TF=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:Ar.Blink};const n=$.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:Ar.EdgeHTML,version:n}}},{test:[/trident/i],describe(t){const e={name:Ar.Trident},n=$.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:Ar.Presto},n=$.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe(t){const e={name:Ar.Gecko},n=$.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Ar.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:Ar.WebKit},n=$.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];class Y_{constructor(e,n=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=$.find(EF,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=$.find(xF,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:n}=this.getOS();return e?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:n}=this.getPlatform();return e?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const e=$.find(SF,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=$.find(TF,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return $.assign({},this.parsedResult)}satisfies(e){const n={};let r=0;const s={};let i=0;if(Object.keys(e).forEach(a=>{const u=e[a];typeof u=="string"?(s[a]=u,i+=1):typeof u=="object"&&(n[a]=u,r+=1)}),r>0){const a=Object.keys(n),u=$.find(a,h=>this.isOS(h));if(u){const h=this.satisfies(n[u]);if(h!==void 0)return h}const c=$.find(a,h=>this.isPlatform(h));if(c){const h=this.satisfies(n[c]);if(h!==void 0)return h}}if(i>0){const a=Object.keys(s),u=$.find(a,c=>this.isBrowser(c,!0));if(u!==void 0)return this.compareVersion(s[u])}}isBrowser(e,n=!1){const r=this.getBrowserName().toLowerCase();let s=e.toLowerCase();const i=$.getBrowserTypeByAlias(s);return n&&i&&(s=i.toLowerCase()),s===r}compareVersion(e){let n=[0],r=e,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(s=!0,r=e.substr(2)):n=[],e[0]===">"?n.push(1):n.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(s=!0,r=e.substr(1)),n.indexOf($.compareVersions(i,r,s))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,n=!1){return this.isBrowser(e,n)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Db{static getParser(e,n=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new Y_(e,n)}static parse(e){return new Y_(e).getResult()}static get BROWSER_MAP(){return Nb}static get ENGINE_MAP(){return Ar}static get OS_MAP(){return Lt}static get PLATFORMS_MAP(){return Ke}}const bF=({serviceId:t,clientVersion:e})=>async n=>{var o,a,u,c,h,f;const r=typeof window<"u"&&((o=window==null?void 0:window.navigator)!=null&&o.userAgent)?Db.parse(window.navigator.userAgent):void 0,s=[["aws-sdk-js",e],["ua","2.1"],[`os/${((a=r==null?void 0:r.os)==null?void 0:a.name)||"other"}`,(u=r==null?void 0:r.os)==null?void 0:u.version],["lang/js"],["md/browser",`${((c=r==null?void 0:r.browser)==null?void 0:c.name)??"unknown"}_${((h=r==null?void 0:r.browser)==null?void 0:h.version)??"unknown"}`]];t&&s.push([`api/${t}`,e]);const i=await((f=n==null?void 0:n.userAgentAppId)==null?void 0:f.call(n));return i&&s.push([`app/${i}`]),s},AF=t=>()=>Promise.reject(t),W_=typeof TextEncoder=="function"?new TextEncoder:null,IF=t=>{if(typeof t=="string"){if(W_)return W_.encode(t).byteLength;let e=t.length;for(let n=e-1;n>=0;n--){const r=t.charCodeAt(n);r>127&&r<=2047?e++:r>2047&&r<=65535&&(e+=2),r>=56320&&r<=57343&&n--}return e}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}throw new Error(`Body Length computation failed for ${t}`)},Ob="required",me="type",Fe="fn",$e="argv",xn="ref",Gr="url",Yr="properties",Wr="headers",CF=!1,jc="isSet",$n="error",Jt="endpoint",In="tree",_l="PartitionResult",Bi="stringEquals",Uc="not",mu={[Ob]:!1,[me]:"String"},K_={[Ob]:!0,default:!1,[me]:"Boolean"},Iy={[Fe]:"booleanEquals",[$e]:[{[xn]:"UseFIPS"},!0]},Cy={[Fe]:"booleanEquals",[$e]:[{[xn]:"UseDualStack"},!0]},qo={},Mb={[xn]:"Region"},Ry={[Fe]:jc,[$e]:[{[xn]:"AccountIdEndpointMode"}]},Py={[xn]:"AccountIdEndpointMode"},ff={[Fe]:jc,[$e]:[{[xn]:"AccountId"}]},RF={[xn]:"AccountId"},Q_={[Fe]:Bi,[$e]:[{[Fe]:"getAttr",[$e]:[{[xn]:_l},"name"]},"aws"]},PF={[Fe]:"getAttr",[$e]:[{[xn]:_l},"name"]},X_={[Fe]:Uc,[$e]:[Iy]},J_={[Fe]:Uc,[$e]:[Cy]},Z_={[Fe]:"booleanEquals",[$e]:[{[Fe]:"getAttr",[$e]:[{[xn]:_l},"supportsFIPS"]},!0]},eE={[Fe]:"booleanEquals",[$e]:[{[Fe]:"getAttr",[$e]:[{[xn]:_l},"supportsDualStack"]},!0]},tE={[Gr]:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Yr]:{},[Wr]:{}},nE={conditions:[Ry,{[Fe]:Bi,[$e]:[Py,"disabled"]}],[Jt]:{[Gr]:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[Yr]:{},[Wr]:{}},[me]:Jt},rE={[Jt]:{[Gr]:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[Yr]:{},[Wr]:{}},[me]:Jt},sE={[Gr]:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[Yr]:{},[Wr]:{}},iE={[Gr]:"https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Yr]:{},[Wr]:{}},pf=[Iy],mf=[Cy],oE=[Mb],gf=[Ry,{[Fe]:Bi,[$e]:[Py,"disabled"]}],kF={parameters:{Region:mu,UseDualStack:K_,UseFIPS:K_,Endpoint:mu,AccountId:mu,AccountIdEndpointMode:mu},rules:[{conditions:[{[Fe]:jc,[$e]:[{[xn]:"Endpoint"}]}],rules:[{conditions:pf,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[me]:$n},{conditions:mf,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[me]:$n},{endpoint:{[Gr]:"{Endpoint}",[Yr]:qo,[Wr]:qo},[me]:Jt}],[me]:In},{conditions:[{[Fe]:jc,[$e]:oE}],rules:[{conditions:[{[Fe]:"aws.partition",[$e]:oE,assign:_l}],rules:[{conditions:[{[Fe]:Bi,[$e]:[Mb,"local"]}],rules:[{conditions:pf,error:"Invalid Configuration: FIPS and local endpoint are not supported",[me]:$n},{conditions:mf,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[me]:$n},{endpoint:{[Gr]:"http://localhost:8000",[Yr]:{authSchemes:[{name:"sigv4",signingName:"dynamodb",signingRegion:"us-east-1"}]},[Wr]:qo},[me]:Jt}],[me]:In},{conditions:[Ry,{[Fe]:Bi,[$e]:[Py,"required"]},{[Fe]:Uc,[$e]:[ff]}],error:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded.",[me]:$n},{conditions:[ff,Q_,X_,J_,{[Fe]:Uc,[$e]:[{[Fe]:"isValidHostLabel",[$e]:[RF,CF]}]}],error:"Credentials-sourced account ID parameter is invalid",[me]:$n},{conditions:[Iy,Cy],rules:[{conditions:[Z_,eE],rules:[{conditions:gf,endpoint:tE,[me]:Jt},{endpoint:tE,[me]:Jt}],[me]:In},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[me]:$n}],[me]:In},{conditions:pf,rules:[{conditions:[Z_],rules:[{conditions:[{[Fe]:Bi,[$e]:[PF,"aws-us-gov"]}],rules:[nE,rE],[me]:In},{conditions:gf,endpoint:sE,[me]:Jt},{endpoint:sE,[me]:Jt}],[me]:In},{error:"FIPS is enabled but this partition does not support FIPS",[me]:$n}],[me]:In},{conditions:mf,rules:[{conditions:[eE],rules:[{conditions:gf,endpoint:iE,[me]:Jt},{endpoint:iE,[me]:Jt}],[me]:In},{error:"DualStack is enabled but this partition does not support DualStack",[me]:$n}],[me]:In},nE,{conditions:[ff,Q_,X_,J_],endpoint:{[Gr]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Yr]:qo,[Wr]:qo},[me]:Jt},rE],[me]:In}],[me]:In},{error:"Invalid Configuration: Missing Region",[me]:$n}]},NF=kF,DF=new sM({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","UseDualStack","UseFIPS"]}),OF=(t,e={})=>DF.get(t,()=>SM(NF,{endpointParams:t,logger:e.logger}));Oc.aws=cb;const MF=t=>({apiVersion:"2012-08-10",base64Decoder:(t==null?void 0:t.base64Decoder)??Fg,base64Encoder:(t==null?void 0:t.base64Encoder)??ZT,disableHostPrefix:(t==null?void 0:t.disableHostPrefix)??!1,endpointProvider:(t==null?void 0:t.endpointProvider)??OF,extensions:(t==null?void 0:t.extensions)??[],httpAuthSchemeProvider:(t==null?void 0:t.httpAuthSchemeProvider)??LV,httpAuthSchemes:(t==null?void 0:t.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new DM}],logger:(t==null?void 0:t.logger)??new wb,serviceId:(t==null?void 0:t.serviceId)??"DynamoDB",urlParser:(t==null?void 0:t.urlParser)??Fc,utf8Decoder:(t==null?void 0:t.utf8Decoder)??io,utf8Encoder:(t==null?void 0:t.utf8Encoder)??JT}),VF=["in-region","cross-region","mobile","standard","legacy"],LF=({defaultsMode:t}={})=>OM(async()=>{const e=typeof t=="function"?await t():t;switch(e==null?void 0:e.toLowerCase()){case"auto":return Promise.resolve(FF()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(e==null?void 0:e.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${VF.join(", ")}, got ${e}`)}}),FF=()=>{var n,r;const t=typeof window<"u"&&((n=window==null?void 0:window.navigator)!=null&&n.userAgent)?Db.parse(window.navigator.userAgent):void 0,e=(r=t==null?void 0:t.platform)==null?void 0:r.type;return e==="tablet"||e==="mobile"},$F=t=>{const e=LF(t),n=()=>e().then(v4),r=MF(t);return{...r,...t,runtime:"browser",defaultsMode:e,accountIdEndpointMode:(t==null?void 0:t.accountIdEndpointMode)??(()=>Promise.resolve(qT)),bodyLengthChecker:(t==null?void 0:t.bodyLengthChecker)??IF,credentialDefaultProvider:(t==null?void 0:t.credentialDefaultProvider)??(s=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(t==null?void 0:t.defaultUserAgentProvider)??bF({serviceId:r.serviceId,clientVersion:tF.version}),endpointDiscoveryEnabledProvider:(t==null?void 0:t.endpointDiscoveryEnabledProvider)??(()=>Promise.resolve(void 0)),maxAttempts:(t==null?void 0:t.maxAttempts)??$c,region:(t==null?void 0:t.region)??AF("Region is missing"),requestHandler:$g.create((t==null?void 0:t.requestHandler)??n),retryMode:(t==null?void 0:t.retryMode)??(async()=>(await n()).retryMode||iV),sha256:(t==null?void 0:t.sha256)??wF,streamCollector:(t==null?void 0:t.streamCollector)??zO,useDualstackEndpoint:(t==null?void 0:t.useDualstackEndpoint)??(()=>Promise.resolve(j4)),useFipsEndpoint:(t==null?void 0:t.useFipsEndpoint)??(()=>Promise.resolve(U4))}},jF=t=>{let e=async()=>{if(t.region===void 0)throw new Error("Region is missing from runtimeConfig");const n=t.region;return typeof n=="string"?n:n()};return{setRegion(n){e=n},region(){return e}}},UF=t=>({region:t.region()}),BF=t=>{const e=t.httpAuthSchemes;let n=t.httpAuthSchemeProvider,r=t.credentials;return{setHttpAuthScheme(s){const i=e.findIndex(o=>o.schemeId===s.schemeId);i===-1?e.push(s):e.splice(i,1,s)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(s){n=s},httpAuthSchemeProvider(){return n},setCredentials(s){r=s},credentials(){return r}}},zF=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),gu=t=>t,HF=(t,e)=>{const n={...gu(jF(t)),...gu(S4(t)),...gu(eO(t)),...gu(BF(t))};return e.forEach(r=>r.configure(n)),{...t,...UF(n),...T4(n),...tO(n),...zF(n)}};class ky extends vb{constructor(...[n]){const r=$F(n||{}),s=$V(r),i=ZD(s),o=rM(i),a=AV(o),u=B4(a),c=u,h=sV(c),f=FV(h),m=fO(f,{endpointDiscoveryCommandCtor:ZL}),y=HF(m,(n==null?void 0:n.extensions)||[]);super(y);B(this,"config");this.config=y,this.middlewareStack.use($4(this.config)),this.middlewareStack.use(DV(this.config)),this.middlewareStack.use(q4(this.config)),this.middlewareStack.use(gO(this.config)),this.middlewareStack.use(wO(this.config)),this.middlewareStack.use(TO(this.config)),this.middlewareStack.use(CO(this.config,{httpAuthSchemeParametersProvider:MV,identityProviderConfigProvider:async b=>new QO({"aws.auth#sigv4":b.credentials})})),this.middlewareStack.use(VO(this.config))}destroy(){super.destroy()}}class qF extends Eo.classBuilder().ep(Ad).m(function(e,n,r,s){return[xd(r,this.serialize,this.deserialize),Td(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").f(void 0,void 0).ser(jV).de(HV).build(){}class GF extends Eo.classBuilder().ep(Ad).m(function(e,n,r,s){return[xd(r,this.serialize,this.deserialize),Td(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").f(void 0,void 0).ser(BV).de(GV).build(){}let YF=class extends Eo.classBuilder().ep(Ad).m(function(e,n,r,s){return[xd(r,this.serialize,this.deserialize),Td(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").f(void 0,void 0).ser(zV).de(YV).build(){};class El{constructor(e){B(this,"value");typeof e=="object"&&"N"in e?this.value=String(e.N):this.value=String(e);const n=typeof e.valueOf()=="number"?e.valueOf():0;if(n>Number.MAX_SAFE_INTEGER||n<Number.MIN_SAFE_INTEGER||Math.abs(n)===1/0||Number.isNaN(n))throw new Error(`NumberValue should not be initialized with an imprecise number=${n}. Use a string instead.`)}static from(e){return new El(e)}toAttributeValue(){return{N:this.toString()}}toBigInt(){const e=this.toString();return BigInt(e)}toString(){return String(this.value)}valueOf(){return this.toString()}}const Pd=(t,e)=>{var n,r,s,i,o,a;if(t===void 0)throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(t===null&&typeof t=="object")return Uu();if(Array.isArray(t))return WF(t,e);if(((n=t==null?void 0:t.constructor)==null?void 0:n.name)==="Set")return KF(t,e);if(((r=t==null?void 0:t.constructor)==null?void 0:r.name)==="Map")return QF(t,e);if(((s=t==null?void 0:t.constructor)==null?void 0:s.name)==="Object"||!t.constructor&&typeof t=="object")return aE(t,e);if(jb(t))return t.length===0&&(e!=null&&e.convertEmptyValues)?Uu():Vb(t);if(typeof t=="boolean"||((i=t==null?void 0:t.constructor)==null?void 0:i.name)==="Boolean")return{BOOL:t.valueOf()};if(typeof t=="number"||((o=t==null?void 0:t.constructor)==null?void 0:o.name)==="Number")return $b(t,e);if(t instanceof El)return t.toAttributeValue();if(typeof t=="bigint")return Fb(t);if(typeof t=="string"||((a=t==null?void 0:t.constructor)==null?void 0:a.name)==="String")return t.length===0&&(e!=null&&e.convertEmptyValues)?Uu():Lb(t);if(e!=null&&e.convertClassInstanceToMap&&typeof t=="object")return aE(t,e);throw new Error(`Unsupported type passed: ${t}. Pass options.convertClassInstanceToMap=true to marshall typeof object as map attribute.`)},WF=(t,e)=>({L:t.filter(n=>typeof n!="function"&&(!(e!=null&&e.removeUndefinedValues)||(e==null?void 0:e.removeUndefinedValues)&&n!==void 0)).map(n=>Pd(n,e))}),KF=(t,e)=>{const n=e!=null&&e.removeUndefinedValues?new Set([...t].filter(s=>s!==void 0)):t;if(!(e!=null&&e.removeUndefinedValues)&&n.has(void 0))throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(n.size===0){if(e!=null&&e.convertEmptyValues)return Uu();throw new Error("Pass a non-empty set, or options.convertEmptyValues=true.")}const r=n.values().next().value;if(r instanceof El)return{NS:Array.from(n).map(s=>s.toString())};if(typeof r=="number")return{NS:Array.from(n).map(s=>$b(s,e)).map(s=>s.N)};if(typeof r=="bigint")return{NS:Array.from(n).map(Fb).map(s=>s.N)};if(typeof r=="string")return{SS:Array.from(n).map(Lb).map(s=>s.S)};if(jb(r))return{BS:Array.from(n).map(Vb).map(s=>s.B)};throw new Error("Only Number Set (NS), Binary Set (BS) or String Set (SS) are allowed.")},QF=(t,e)=>({M:(n=>{const r={};for(const[s,i]of n)typeof i!="function"&&(i!==void 0||!(e!=null&&e.removeUndefinedValues))&&(r[s]=Pd(i,e));return r})(t)}),aE=(t,e)=>({M:(n=>{const r={};for(const s in n){const i=n[s];typeof i!="function"&&(i!==void 0||!(e!=null&&e.removeUndefinedValues))&&(r[s]=Pd(i,e))}return r})(t)}),Uu=()=>({NULL:!0}),Vb=t=>({B:t}),Lb=t=>({S:t.toString()}),Fb=t=>({N:t.toString()}),lE=t=>{throw new Error(`${t} Use NumberValue from @aws-sdk/lib-dynamodb.`)},$b=(t,e)=>{if([Number.NaN,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].map(n=>n.toString()).includes(t.toString()))throw new Error(`Special numeric value ${t.toString()} is not allowed`);return e!=null&&e.allowImpreciseNumbers||(Number(t)>Number.MAX_SAFE_INTEGER?lE(`Number ${t.toString()} is greater than Number.MAX_SAFE_INTEGER.`):Number(t)<Number.MIN_SAFE_INTEGER&&lE(`Number ${t.toString()} is lesser than Number.MIN_SAFE_INTEGER.`)),{N:t.toString()}},jb=t=>{const e=["ArrayBuffer","Blob","Buffer","DataView","File","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];return t!=null&&t.constructor?e.includes(t.constructor.name):!1},Bc=(t,e)=>{for(const[n,r]of Object.entries(t))if(r!==void 0)switch(n){case"NULL":return null;case"BOOL":return!!r;case"N":return uE(r,e);case"B":return dE(r);case"S":return cE(r);case"L":return XF(r,e);case"M":return JF(r,e);case"NS":return new Set(r.map(s=>uE(s,e)));case"BS":return new Set(r.map(dE));case"SS":return new Set(r.map(cE));default:throw new Error(`Unsupported type passed: ${n}`)}throw new Error(`No value defined: ${JSON.stringify(t)}`)},uE=(t,e)=>{if(typeof(e==null?void 0:e.wrapNumbers)=="function")return e==null?void 0:e.wrapNumbers(t);if(e!=null&&e.wrapNumbers)return El.from(t);const n=Number(t),r=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if((n>Number.MAX_SAFE_INTEGER||n<Number.MIN_SAFE_INTEGER)&&!r.includes(n))if(typeof BigInt=="function")try{return BigInt(t)}catch{throw new Error(`${t} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}else throw new Error(`${t} is outside SAFE_INTEGER bounds. Set options.wrapNumbers to get string value.`);return n},cE=t=>t,dE=t=>t,XF=(t,e)=>t.map(n=>Bc(n,e)),JF=(t,e)=>Object.entries(t).reduce((n,[r,s])=>(n[r]=Bc(s,e),n),{});function ZF(t,e){const n=Pd(t,e),[r,s]=Object.entries(n)[0];switch(r){case"M":case"L":return e!=null&&e.convertTopLevelContainer?n:s;case"SS":case"NS":case"BS":case"S":case"N":case"B":case"NULL":case"BOOL":case"$unknown":default:return n}}const e5=(t,e)=>e!=null&&e.convertWithoutMapWrapper?Bc(t,e):Bc({M:t},e),Ny=null,vn={},Dy=[],hE="*",zc=(t,e,n)=>{if(t!==void 0){if(n==null)return e(t);{const r=Object.keys(n),s=r.length===1&&r[0]===hE,i=r.length>=1&&!s,o=r.length===0;if(i)return Oy(t,e,n);if(o)return t5(t,e,Ny);if(s)return Object.entries(t??{}).reduce((a,[u,c])=>(typeof c!="function"&&(a[u]=zc(c,e,n[hE])),a),Array.isArray(t)?[]:{})}}},Oy=(t,e,n)=>{let r;if(Array.isArray(t))r=t.filter(s=>typeof s!="function");else{r={};for(const[s,i]of Object.entries(t))typeof i!="function"&&(r[s]=i)}for(const[s,i]of Object.entries(n)){if(typeof t[s]=="function")continue;const o=zc(t[s],e,i);o!==void 0&&typeof o!="function"&&(r[s]=o)}return r},t5=(t,e,n)=>Array.isArray(t)?t.filter(r=>typeof r!="function").map(r=>zc(r,e,n)):Object.entries(t).reduce((r,[s,i])=>{if(typeof i=="function")return r;const o=zc(i,e,n);return o!==void 0&&typeof o!="function"&&(r[s]=o),r},{}),n5=(t,e,n)=>Oy(t,s=>ZF(s,n),e),r5=(t,e,n)=>Oy(t,s=>e5(s,n),e),ba=class ba extends Eo{addMarshallingMiddleware(e){const{marshallOptions:n={},unmarshallOptions:r={}}=e.translateConfig||{};n.convertTopLevelContainer=n.convertTopLevelContainer??!0,r.convertWithoutMapWrapper=r.convertWithoutMapWrapper??!0,this.clientCommand.middlewareStack.addRelativeTo((s,i)=>async o=>{Rn(i,"DDB_MAPPER","d"),o.input=n5(this.input,this.inputKeyNodes,n),i.dynamoDbDocumentClientOptions=i.dynamoDbDocumentClientOptions||ba.defaultLogFilterOverrides;const a=o.input;return i.dynamoDbDocumentClientOptions.overrideInputFilterSensitiveLog=()=>{var u;return(u=i.inputFilterSensitiveLog)==null?void 0:u.call(i,a)},s(o)},{name:"DocumentMarshall",relation:"before",toMiddleware:"serializerMiddleware",override:!0}),this.clientCommand.middlewareStack.addRelativeTo((s,i)=>async o=>{const a=await s(o),u=a.output;return i.dynamoDbDocumentClientOptions=i.dynamoDbDocumentClientOptions||ba.defaultLogFilterOverrides,i.dynamoDbDocumentClientOptions.overrideOutputFilterSensitiveLog=()=>{var c;return(c=i.outputFilterSensitiveLog)==null?void 0:c.call(i,u)},a.output=r5(a.output,this.outputKeyNodes,r),a},{name:"DocumentUnmarshall",relation:"before",toMiddleware:"deserializerMiddleware",override:!0})}};B(ba,"defaultLogFilterOverrides",{overrideInputFilterSensitiveLog(...e){},overrideOutputFilterSensitiveLog(...e){}});let el=ba;class s5 extends el{constructor(n){super();B(this,"input");B(this,"inputKeyNodes",{Key:vn,Expected:{"*":{Value:Ny,AttributeValueList:Dy}},ExpressionAttributeValues:vn});B(this,"outputKeyNodes",{Attributes:vn,ItemCollectionMetrics:{ItemCollectionKey:vn}});B(this,"clientCommand");B(this,"middlewareStack");this.input=n,this.clientCommand=new qF(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(n,r,s){this.addMarshallingMiddleware(r);const i=n.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(i,r,s);return async()=>o(this.clientCommand)}}class Ub extends el{constructor(n){super();B(this,"input");B(this,"inputKeyNodes",{Item:vn,Expected:{"*":{Value:Ny,AttributeValueList:Dy}},ExpressionAttributeValues:vn});B(this,"outputKeyNodes",{Attributes:vn,ItemCollectionMetrics:{ItemCollectionKey:vn}});B(this,"clientCommand");B(this,"middlewareStack");this.input=n,this.clientCommand=new GF(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(n,r,s){this.addMarshallingMiddleware(r);const i=n.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(i,r,s);return async()=>o(this.clientCommand)}}class Sa extends el{constructor(n){super();B(this,"input");B(this,"inputKeyNodes",{ScanFilter:{"*":{AttributeValueList:Dy}},ExclusiveStartKey:vn,ExpressionAttributeValues:vn});B(this,"outputKeyNodes",{Items:{"*":vn},LastEvaluatedKey:vn});B(this,"clientCommand");B(this,"middlewareStack");this.input=n,this.clientCommand=new YF(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(n,r,s){this.addMarshallingMiddleware(r);const i=n.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(i,r,s);return async()=>o(this.clientCommand)}}class xl extends vb{constructor(n,r){var s;super(n.config);B(this,"config");if(this.config=n.config,this.config.translateConfig=r,this.middlewareStack=n.middlewareStack,(s=this.config)!=null&&s.cacheMiddleware)throw new Error("@aws-sdk/lib-dynamodb - cacheMiddleware=true is not compatible with the DynamoDBDocumentClient. This option must be set to false.")}static from(n,r){return new xl(n,r)}destroy(){}}const i5={WEEKLY:["YMAG","YMAX","LFGY","GPTY"],GROUP_A:["TSLY","GOOY","YBIT","OARK","XOMO","TSMY","CRSH","FIVY","FEAT"],GROUP_B:["NVDY","FBY","GDXY","JPMO","MRNY","MARO","PLTY"],GROUP_C:["CONY","MSFO","AMDY","NFLY","PYPY","ULTY","ABNY"],GROUP_D:["MSTY","AMZY","APLY","DISO","SQY","SMCY","AIYY"]},o5={WEEKLY:"Weekly Distributions",GROUP_A:"Group A - 13x/Year",GROUP_B:"Group B - 13x/Year",GROUP_C:"Group C - Monthly",GROUP_D:"Group D - Monthly"},a5=new ky({region:"us-east-2"}),l5=xl.from(a5),Bb=({onClose:t})=>{var m;const[e,n]=z.useState({ticker:"",totalShares:"",group:"",purchaseDate:new Date().toISOString().split("T")[0]}),[r,s]=z.useState({}),[i,o]=z.useState({});z.useEffect(()=>{const y=Us(js(ss,"prices"),I=>{const P={};I.forEach(_=>{P[_.id]=_.data()}),s(P)}),b=Us(js(ss,"distributions"),I=>{const P={};I.forEach(_=>{P[_.id]=_.data()}),o(P)});return()=>{y(),b()}},[]);const a=p_.reduce((y,b)=>{var P;let I=((P=Object.entries(i5).find(([_,x])=>x.includes(b.ticker)))==null?void 0:P[0])||"OTHER";return y[I]||(y[I]=[]),y[I].push(b),y},{}),u=y=>{var _;const b=(_=i[y])==null?void 0:_.history;if(!b)return 0;const I=new Date().getFullYear(),P=new Date().getMonth()+1;for(let x=I;x>=I-1;x--){const R=b[x];if(R)for(let N=P;N>=1;N--){const D=R[N];if(D&&D!=="TBD")return parseFloat(D)}}return 0},c=async y=>{var b;y.preventDefault();try{const I=Number(e.totalShares);if(isNaN(I))throw new Error("Shares must be a valid number");const P=(b=r[e.ticker])==null?void 0:b.currentPrice;if(!P)throw new Error("Could not get current price for selected ETF");const _=u(e.ticker);console.log("Distribution for",e.ticker,":",_);const x={ticker:e.ticker.toUpperCase(),totalShares:I,purchaseDate:e.purchaseDate,distribution:_,purchases:[{date:e.purchaseDate,shares:I,price:Number(P)}],createdAt:new Date().toISOString()};await l5.send(new Ub({TableName:"etfs",Item:x})),n({ticker:"",totalShares:"",purchaseDate:new Date().toISOString().split("T")[0]}),t()}catch(I){console.error("Error adding ETF:",I),alert("Error adding ETF")}},h=y=>{const{name:b,value:I}=y.target;if(b==="ticker"){const P=p_.find(_=>_.ticker===I);n(_=>({..._,ticker:I,group:P?P.group:_.group}))}else n(P=>({...P,[b]:I}))},f=e.ticker?(m=r[e.ticker])==null?void 0:m.currentPrice:null;return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h2",{className:"text-xl font-semibold",children:"Add ETF"}),v.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:v.jsx(Zm,{className:"w-6 h-6"})})]}),v.jsxs("form",{onSubmit:c,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select ETF"}),v.jsxs("div",{className:"relative",children:[v.jsxs("select",{name:"ticker",value:e.ticker,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",children:[v.jsx("option",{value:"",children:"Select an ETF"}),Object.entries(a).map(([y,b])=>v.jsx("optgroup",{label:o5[y]||y,children:b.map(I=>v.jsxs("option",{value:I.ticker,children:[I.ticker," (",I.frequency,")"]},I.ticker))},y))]}),v.jsx(O2,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]}),f&&v.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Current Price: $",f.toFixed(2)]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Shares"}),v.jsx("input",{type:"number",name:"totalShares",value:e.totalShares,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter number of shares"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purchase Date"}),v.jsx("input",{type:"date",name:"purchaseDate",value:e.purchaseDate,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),v.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[v.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:"Cancel"}),v.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:"Add ETF"})]})]})]})})},u5=({message:t,type:e="success",onClose:n})=>(z.useEffect(()=>{const r=setTimeout(()=>{n()},3e3);return()=>clearTimeout(r)},[n]),v.jsx("div",{className:"fixed top-4 right-4 w-96 z-50",children:v.jsx("div",{className:`
        ${e==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}
        p-4 rounded-lg shadow-lg border
        ${e==="success"?"border-green-200":"border-red-200"}
        transform transition-all duration-500 ease-in-out translate-x-0
        hover:scale-105
      `,children:v.jsxs("div",{className:"flex items-start",children:[v.jsx("div",{className:"flex-shrink-0",children:e==="success"?v.jsx(D2,{className:"h-5 w-5 text-green-400"}):v.jsx(K2,{className:"h-5 w-5 text-red-400"})}),v.jsx("div",{className:"ml-3 w-full",children:v.jsx("p",{className:"text-sm font-medium",children:t})}),v.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:v.jsx("button",{onClick:n,className:"inline-flex text-gray-400 hover:text-gray-500",children:v.jsx(Zm,{className:"h-5 w-5"})})})]})})})),c5={WEEKLY:["YMAG","YMAX","LFGY","GPTY"],GROUP_A:["TSLY","GOOY","YBIT","OARK","XOMO","TSMY","CRSH","FIVY","FEAT"],GROUP_B:["NVDY","FBY","GDXY","JPMO","MRNY","MARO","PLTY"],GROUP_C:["CONY","MSFO","AMDY","NFLY","PYPY","ULTY","ABNY"],GROUP_D:["MSTY","AMZY","APLY","DISO","SQY","SMCY","AIYY"]},pe=t=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(n=>({month:n,amount:+(t+(Math.random()*.06-.03)).toFixed(2)})),Wp={YMAG:pe(.26),YMAX:pe(.26),LFGY:pe(.26),GPTY:pe(.26),TSLY:pe(.85),GOOY:pe(.95),YBIT:pe(.88),OARK:pe(.92),XOMO:pe(.83),TSMY:pe(.9),CRSH:pe(.87),FIVY:pe(.89),FEAT:pe(.91),NVDY:pe(.86),FBY:pe(.84),GDXY:pe(.88),JPMO:pe(.85),MRNY:pe(.93),MARO:pe(.94),PLTY:pe(.94),CONY:pe(.94),MSFO:pe(.94),AMDY:pe(.94),NFLY:pe(.94),PYPY:pe(.94),ULTY:pe(.94),ABNY:pe(.94),MSTY:pe(.94),AMZY:pe(.94),APLY:pe(.94),DISO:pe(.94),SQY:pe(.94),SMCY:pe(.94),AIYY:pe(.94)},d5=t=>{for(const[e,n]of Object.entries(c5))if(n.includes(t))return e;return"UNKNOWN"},h5=t=>{const n=new Date().toLocaleString("default",{month:"short"}),r=Wp[t];return r?r.find(i=>new Date(`${i.month} 1, 2024`)>new Date(`${n} 1, 2024`))||r[0]:null},zb=z.createContext(),f5=({children:t})=>{const[e,n]=z.useState([]),[r,s]=z.useState([]),[i,o]=z.useState(!0),[a,u]=z.useState(null);z.useEffect(()=>{try{const _=js(ss,"etfs"),x=$D(_),R=Us(x,N=>{const D=N.docs.map(O=>({id:O.id,...O.data()}));console.log("Firebase ETFs:",D),n(D),o(!1)});return()=>R()}catch(_){console.error("Error fetching ETFs from Firebase:",_),u("Failed to fetch portfolio data"),o(!1)}},[]),z.useEffect(()=>{try{const _=js(ss,"prices"),x=Us(_,R=>{const N={};R.forEach(D=>{N[D.id]=D.data().currentPrice}),s(N)});return()=>x()}catch(_){console.error("Error fetching prices from Firebase:",_)}},[]);const c=()=>{const _=e.reduce((D,O)=>D+(O.totalShares||0)*(O.currentPrice||0),0),x=e.reduce((D,O)=>D+(O.totalShares||0)*(O.distribution||0),0),R=e.reduce((D,O)=>O.purchases&&O.purchases.length>0?D+O.purchases.reduce((w,E)=>w+Number(E.shares)*Number(E.price),0):D+(O.totalShares||0)*(O.costBasis||0),0),N=R>0?x*12/R*100:0;return{totalValue:_,monthlyIncome:x,totalCost:R,yieldRate:N}},h=async _=>{},f=async(_,x)=>{},m=async _=>{},y=async(_,x)=>{},b=z.useMemo(()=>Object.keys(Wp),[]),I=(_,x)=>{const R=Wp[_];if(!R)return 0;const N=R.find(D=>D.month===x);return N?N.amount:0},P=_=>({group:d5(_),nextDividend:h5(_)});return i?v.jsx("div",{children:"Loading..."}):v.jsx(zb.Provider,{value:{etfs:e,prices:r,loading:i,error:a,stats:c(),addETF:h,updateETF:f,deleteETF:m,addPurchase:y,validTickers:b,getDividendAmount:I,getETFDetails:P},children:t})},My=()=>{const t=z.useContext(zb);if(!t)throw new Error("usePortfolio must be used within a PortfolioProvider");return t},Hb=z.createContext(),p5=["YMAG","YMAX","LFGY","GPTY"],m5=["TSLY","GOOY","YBIT","OARK","XOMO","TSMY","CRSH","FIVY","FEAT","NVDY","FBY","GDXY","JPMO","MRNY","MARO","PLTY","CONY","MSFO","AMDY","NFLY","PYPY","ULTY","ABNY","MSTY","AMZY","APLY","DISO","SQY","SMCY","AIYY"];function qb(){const t=z.useContext(Hb);if(!t)throw new Error("useDistribution must be used within a DistributionProvider");return t}function g5({children:t}){const[e,n]=z.useState({}),[r,s]=z.useState(!0),[i,o]=z.useState(0);z.useEffect(()=>{const h=Us(js(ss,"distributions"),f=>{const m={};f.forEach(y=>{m[y.id]=y.data()}),n(m),s(!1)},f=>{console.error("Error fetching distributions:",f),s(!1)});return()=>h()},[]);const c={distributions:e,loading:r,getLatestDistribution:h=>{const f=e[h];if(!(f!=null&&f.history))return"N/A";const m=Object.keys(f.history).sort().reverse();if(m.length===0)return"N/A";const y=m[0],b=Object.keys(f.history[y]).sort((_,x)=>x-_);if(b.length===0)return"N/A";const I=b[0],P=f.history[y][I];return P==="TBD"?"TBD":P},getPaymentsPerYear:h=>p5.includes(h)?52:m5.includes(h)?13:12,monthlyDistribution:i,setMonthlyDistribution:o};return v.jsx(Hb.Provider,{value:c,children:t})}const yu={YMAG:{frequency:"weekly",group:"WEEKLY",name:"YieldMax AAPL Option Income Strategy ETF",inception:"2023-08-23"},YMAX:{frequency:"weekly",group:"WEEKLY",name:"YieldMax TSLA Option Income Strategy ETF",inception:"2023-07-24"},LFGY:{frequency:"weekly",group:"WEEKLY",name:"Leverage Shares FAANG & Growth ETP",inception:"2023-09-14"},GPTY:{frequency:"weekly",group:"WEEKLY",name:"Growth Property & Technology ETF",inception:"2023-10-02"},TSLY:{frequency:"13x",group:"GROUP_A",name:"YieldMax TSLA Option Income Strategy ETF",inception:"2023-07-24"},GOOY:{frequency:"13x",group:"GROUP_A",name:"YieldMax GOOGL Option Income Strategy ETF",inception:"2023-08-14"},YBIT:{frequency:"13x",group:"GROUP_A",name:"YieldMax Bitcoin Option Income Strategy ETF",inception:"2023-08-23"},OARK:{frequency:"13x",group:"GROUP_A",name:"YieldMax Innovation Option Income Strategy ETF",inception:"2023-08-30"},XOMO:{frequency:"13x",group:"GROUP_A",name:"YieldMax XOMOX Option Income Strategy ETF",inception:"2023-09-11"},TSMY:{frequency:"13x",group:"GROUP_A",name:"YieldMax TSMC Option Income Strategy ETF",inception:"2023-09-18"},CRSH:{frequency:"13x",group:"GROUP_A",name:"YieldMax Crushing It Option Income Strategy ETF",inception:"2023-09-25"},FIVY:{frequency:"13x",group:"GROUP_A",name:"YieldMax FIVE Option Income Strategy ETF",inception:"2023-10-02"},FEAT:{frequency:"13x",group:"GROUP_A",name:"YieldMax FEAT Option Income Strategy ETF",inception:"2023-10-09"},NVDY:{frequency:"13x",group:"GROUP_B",name:"YieldMax NVDA Option Income Strategy ETF",inception:"2023-10-16"},FBY:{frequency:"13x",group:"GROUP_B",name:"YieldMax META Option Income Strategy ETF",inception:"2023-10-23"},GDXY:{frequency:"13x",group:"GROUP_B",name:"YieldMax GDX Option Income Strategy ETF",inception:"2023-10-30"},JPMO:{frequency:"13x",group:"GROUP_B",name:"YieldMax JPM Option Income Strategy ETF",inception:"2023-11-06"},MRNY:{frequency:"13x",group:"GROUP_B",name:"YieldMax MRNA Option Income Strategy ETF",inception:"2023-11-13"},MARO:{frequency:"13x",group:"GROUP_B",name:"YieldMax MSTR Option Income Strategy ETF",inception:"2023-11-20"},PLTY:{frequency:"13x",group:"GROUP_B",name:"YieldMax PLTR Option Income Strategy ETF",inception:"2023-11-27"},CONY:{frequency:"monthly",group:"GROUP_C",name:"YieldMax COIN Option Income Strategy ETF",inception:"2023-12-04"},MSFO:{frequency:"monthly",group:"GROUP_C",name:"YieldMax MSFT Option Income Strategy ETF",inception:"2023-12-11"},AMDY:{frequency:"monthly",group:"GROUP_C",name:"YieldMax AMD Option Income Strategy ETF",inception:"2023-12-18"},NFLY:{frequency:"monthly",group:"GROUP_C",name:"YieldMax NFLX Option Income Strategy ETF",inception:"2023-12-26"},PYPY:{frequency:"monthly",group:"GROUP_C",name:"YieldMax PYPL Option Income Strategy ETF",inception:"2024-01-02"},ULTY:{frequency:"monthly",group:"GROUP_C",name:"YieldMax QQQ Option Income Strategy ETF",inception:"2024-01-08"},ABNY:{frequency:"monthly",group:"GROUP_C",name:"YieldMax ABNB Option Income Strategy ETF",inception:"2024-01-16"},MSTY:{frequency:"monthly",group:"GROUP_D",name:"YieldMax MSFT Option Income Strategy ETF",inception:"2024-01-22"},AMZY:{frequency:"monthly",group:"GROUP_D",name:"YieldMax AMZN Option Income Strategy ETF",inception:"2024-01-29"},APLY:{frequency:"monthly",group:"GROUP_D",name:"YieldMax AAPL Option Income Strategy ETF",inception:"2024-02-05"},DISO:{frequency:"monthly",group:"GROUP_D",name:"YieldMax DIS Option Income Strategy ETF",inception:"2024-02-12"},SQY:{frequency:"monthly",group:"GROUP_D",name:"YieldMax SQ Option Income Strategy ETF",inception:"2024-02-20"},SMCY:{frequency:"monthly",group:"GROUP_D",name:"YieldMax SMH Option Income Strategy ETF",inception:"2024-02-26"},AIYY:{frequency:"monthly",group:"GROUP_D",name:"YieldMax AI Option Income Strategy ETF",inception:"2024-03-04"}},y5={active:{bg:"bg-green-100",text:"text-green-800",border:"border-green-200",hover:"hover:bg-green-50"},pending:{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200",hover:"hover:bg-yellow-50"},suspended:{bg:"bg-red-100",text:"text-red-800",border:"border-red-200",hover:"hover:bg-red-50"}},fE=["WEEKLY","GROUP_A","GROUP_B","GROUP_C","GROUP_D"],v5=(t,e)=>!t||t==="TBD"||e==="TBD"?"pending":e==="N/A"?"suspended":"active",dt=t=>t==null||isNaN(t)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),tl={black:"#000",white:"#fff"},ci={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},di={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},hi={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},fi={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},pi={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Go={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},w5={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Bs(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const Gb="$$material";function Kp(){return Kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kp.apply(null,arguments)}function _5(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function E5(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var x5=function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(E5(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=_5(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Pt="-ms-",Hc="-moz-",_e="-webkit-",Yb="comm",Vy="rule",Ly="decl",S5="@import",Wb="@keyframes",T5="@layer",b5=Math.abs,kd=String.fromCharCode,A5=Object.assign;function I5(t,e){return wt(t,0)^45?(((e<<2^wt(t,0))<<2^wt(t,1))<<2^wt(t,2))<<2^wt(t,3):0}function Kb(t){return t.trim()}function C5(t,e){return(t=e.exec(t))?t[0]:t}function Ee(t,e,n){return t.replace(e,n)}function Qp(t,e){return t.indexOf(e)}function wt(t,e){return t.charCodeAt(e)|0}function nl(t,e,n){return t.slice(e,n)}function zn(t){return t.length}function Fy(t){return t.length}function vu(t,e){return e.push(t),t}function R5(t,e){return t.map(e).join("")}var Nd=1,ao=1,Qb=0,Kt=0,tt=0,xo="";function Dd(t,e,n,r,s,i,o){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:Nd,column:ao,length:o,return:""}}function Yo(t,e){return A5(Dd("",null,null,"",null,null,0),t,{length:-t.length},e)}function P5(){return tt}function k5(){return tt=Kt>0?wt(xo,--Kt):0,ao--,tt===10&&(ao=1,Nd--),tt}function rn(){return tt=Kt<Qb?wt(xo,Kt++):0,ao++,tt===10&&(ao=1,Nd++),tt}function Qn(){return wt(xo,Kt)}function Bu(){return Kt}function Sl(t,e){return nl(xo,t,e)}function rl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Xb(t){return Nd=ao=1,Qb=zn(xo=t),Kt=0,[]}function Jb(t){return xo="",t}function zu(t){return Kb(Sl(Kt-1,Xp(t===91?t+2:t===40?t+1:t)))}function N5(t){for(;(tt=Qn())&&tt<33;)rn();return rl(t)>2||rl(tt)>3?"":" "}function D5(t,e){for(;--e&&rn()&&!(tt<48||tt>102||tt>57&&tt<65||tt>70&&tt<97););return Sl(t,Bu()+(e<6&&Qn()==32&&rn()==32))}function Xp(t){for(;rn();)switch(tt){case t:return Kt;case 34:case 39:t!==34&&t!==39&&Xp(tt);break;case 40:t===41&&Xp(t);break;case 92:rn();break}return Kt}function O5(t,e){for(;rn()&&t+tt!==57;)if(t+tt===84&&Qn()===47)break;return"/*"+Sl(e,Kt-1)+"*"+kd(t===47?t:rn())}function M5(t){for(;!rl(Qn());)rn();return Sl(t,Kt)}function V5(t){return Jb(Hu("",null,null,null,[""],t=Xb(t),0,[0],t))}function Hu(t,e,n,r,s,i,o,a,u){for(var c=0,h=0,f=o,m=0,y=0,b=0,I=1,P=1,_=1,x=0,R="",N=s,D=i,O=r,w=R;P;)switch(b=x,x=rn()){case 40:if(b!=108&&wt(w,f-1)==58){Qp(w+=Ee(zu(x),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:w+=zu(x);break;case 9:case 10:case 13:case 32:w+=N5(b);break;case 92:w+=D5(Bu()-1,7);continue;case 47:switch(Qn()){case 42:case 47:vu(L5(O5(rn(),Bu()),e,n),u);break;default:w+="/"}break;case 123*I:a[c++]=zn(w)*_;case 125*I:case 59:case 0:switch(x){case 0:case 125:P=0;case 59+h:_==-1&&(w=Ee(w,/\f/g,"")),y>0&&zn(w)-f&&vu(y>32?mE(w+";",r,n,f-1):mE(Ee(w," ","")+";",r,n,f-2),u);break;case 59:w+=";";default:if(vu(O=pE(w,e,n,c,h,s,a,R,N=[],D=[],f),i),x===123)if(h===0)Hu(w,e,O,O,N,i,f,a,D);else switch(m===99&&wt(w,3)===110?100:m){case 100:case 108:case 109:case 115:Hu(t,O,O,r&&vu(pE(t,O,O,0,0,s,a,R,s,N=[],f),D),s,D,f,a,r?N:D);break;default:Hu(w,O,O,O,[""],D,0,a,D)}}c=h=y=0,I=_=1,R=w="",f=o;break;case 58:f=1+zn(w),y=b;default:if(I<1){if(x==123)--I;else if(x==125&&I++==0&&k5()==125)continue}switch(w+=kd(x),x*I){case 38:_=h>0?1:(w+="\f",-1);break;case 44:a[c++]=(zn(w)-1)*_,_=1;break;case 64:Qn()===45&&(w+=zu(rn())),m=Qn(),h=f=zn(R=w+=M5(Bu())),x++;break;case 45:b===45&&zn(w)==2&&(I=0)}}return i}function pE(t,e,n,r,s,i,o,a,u,c,h){for(var f=s-1,m=s===0?i:[""],y=Fy(m),b=0,I=0,P=0;b<r;++b)for(var _=0,x=nl(t,f+1,f=b5(I=o[b])),R=t;_<y;++_)(R=Kb(I>0?m[_]+" "+x:Ee(x,/&\f/g,m[_])))&&(u[P++]=R);return Dd(t,e,n,s===0?Vy:a,u,c,h)}function L5(t,e,n){return Dd(t,e,n,Yb,kd(P5()),nl(t,2,-2),0)}function mE(t,e,n,r){return Dd(t,e,n,Ly,nl(t,0,r),nl(t,r+1,-1),r)}function zi(t,e){for(var n="",r=Fy(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function F5(t,e,n,r){switch(t.type){case T5:if(t.children.length)break;case S5:case Ly:return t.return=t.return||t.value;case Yb:return"";case Wb:return t.return=t.value+"{"+zi(t.children,r)+"}";case Vy:t.value=t.props.join(",")}return zn(n=zi(t.children,r))?t.return=t.value+"{"+n+"}":""}function $5(t){var e=Fy(t);return function(n,r,s,i){for(var o="",a=0;a<e;a++)o+=t[a](n,r,s,i)||"";return o}}function j5(t){return function(e){e.root||(e=e.return)&&t(e)}}function Zb(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var U5=function(e,n,r){for(var s=0,i=0;s=i,i=Qn(),s===38&&i===12&&(n[r]=1),!rl(i);)rn();return Sl(e,Kt)},B5=function(e,n){var r=-1,s=44;do switch(rl(s)){case 0:s===38&&Qn()===12&&(n[r]=1),e[r]+=U5(Kt-1,n,r);break;case 2:e[r]+=zu(s);break;case 4:if(s===44){e[++r]=Qn()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=kd(s)}while(s=rn());return e},z5=function(e,n){return Jb(B5(Xb(e),n))},gE=new WeakMap,H5=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!gE.get(r))&&!s){gE.set(e,!0);for(var i=[],o=z5(n,i),a=r.props,u=0,c=0;u<o.length;u++)for(var h=0;h<a.length;h++,c++)e.props[c]=i[u]?o[u].replace(/&\f/g,a[h]):a[h]+" "+o[u]}}},q5=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function eA(t,e){switch(I5(t,e)){case 5103:return _e+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _e+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return _e+t+Hc+t+Pt+t+t;case 6828:case 4268:return _e+t+Pt+t+t;case 6165:return _e+t+Pt+"flex-"+t+t;case 5187:return _e+t+Ee(t,/(\w+).+(:[^]+)/,_e+"box-$1$2"+Pt+"flex-$1$2")+t;case 5443:return _e+t+Pt+"flex-item-"+Ee(t,/flex-|-self/,"")+t;case 4675:return _e+t+Pt+"flex-line-pack"+Ee(t,/align-content|flex-|-self/,"")+t;case 5548:return _e+t+Pt+Ee(t,"shrink","negative")+t;case 5292:return _e+t+Pt+Ee(t,"basis","preferred-size")+t;case 6060:return _e+"box-"+Ee(t,"-grow","")+_e+t+Pt+Ee(t,"grow","positive")+t;case 4554:return _e+Ee(t,/([^-])(transform)/g,"$1"+_e+"$2")+t;case 6187:return Ee(Ee(Ee(t,/(zoom-|grab)/,_e+"$1"),/(image-set)/,_e+"$1"),t,"")+t;case 5495:case 3959:return Ee(t,/(image-set\([^]*)/,_e+"$1$`$1");case 4968:return Ee(Ee(t,/(.+:)(flex-)?(.*)/,_e+"box-pack:$3"+Pt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_e+t+t;case 4095:case 3583:case 4068:case 2532:return Ee(t,/(.+)-inline(.+)/,_e+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(zn(t)-1-e>6)switch(wt(t,e+1)){case 109:if(wt(t,e+4)!==45)break;case 102:return Ee(t,/(.+:)(.+)-([^]+)/,"$1"+_e+"$2-$3$1"+Hc+(wt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Qp(t,"stretch")?eA(Ee(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(wt(t,e+1)!==115)break;case 6444:switch(wt(t,zn(t)-3-(~Qp(t,"!important")&&10))){case 107:return Ee(t,":",":"+_e)+t;case 101:return Ee(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_e+(wt(t,14)===45?"inline-":"")+"box$3$1"+_e+"$2$3$1"+Pt+"$2box$3")+t}break;case 5936:switch(wt(t,e+11)){case 114:return _e+t+Pt+Ee(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return _e+t+Pt+Ee(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return _e+t+Pt+Ee(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return _e+t+Pt+t+t}return t}var G5=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case Ly:e.return=eA(e.value,e.length);break;case Wb:return zi([Yo(e,{value:Ee(e.value,"@","@"+_e)})],s);case Vy:if(e.length)return R5(e.props,function(i){switch(C5(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return zi([Yo(e,{props:[Ee(i,/:(read-\w+)/,":"+Hc+"$1")]})],s);case"::placeholder":return zi([Yo(e,{props:[Ee(i,/:(plac\w+)/,":"+_e+"input-$1")]}),Yo(e,{props:[Ee(i,/:(plac\w+)/,":"+Hc+"$1")]}),Yo(e,{props:[Ee(i,/:(plac\w+)/,Pt+"input-$1")]})],s)}return""})}},Y5=[G5],W5=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(I){var P=I.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(I),I.setAttribute("data-s",""))})}var s=e.stylisPlugins||Y5,i={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(I){for(var P=I.getAttribute("data-emotion").split(" "),_=1;_<P.length;_++)i[P[_]]=!0;a.push(I)});var u,c=[H5,q5];{var h,f=[F5,j5(function(I){h.insert(I)})],m=$5(c.concat(s,f)),y=function(P){return zi(V5(P),m)};u=function(P,_,x,R){h=x,y(P?P+"{"+_.styles+"}":_.styles),R&&(b.inserted[_.name]=!0)}}var b={key:n,sheet:new x5({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:u};return b.sheet.hydrate(a),b},K5=!0;function Q5(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(r+=s+" ")}),r}var tA=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||K5===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},X5=function(e,n,r){tA(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function J5(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Z5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},e3=/[A-Z]|^ms/g,t3=/_EMO_([^_]+?)_([^]*?)_EMO_/g,nA=function(e){return e.charCodeAt(1)===45},yE=function(e){return e!=null&&typeof e!="boolean"},yf=Zb(function(t){return nA(t)?t:t.replace(e3,"-$&").toLowerCase()}),vE=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(t3,function(r,s,i){return Hn={name:s,styles:i,next:Hn},s})}return Z5[e]!==1&&!nA(e)&&typeof n=="number"&&n!==0?n+"px":n};function sl(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return Hn={name:s.name,styles:s.styles,next:Hn},s.name;var i=n;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)Hn={name:o.name,styles:o.styles,next:Hn},o=o.next;var a=i.styles+";";return a}return n3(t,e,n)}case"function":{if(t!==void 0){var u=Hn,c=n(t);return Hn=u,sl(t,e,c)}break}}var h=n;if(e==null)return h;var f=e[h];return f!==void 0?f:h}function n3(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=sl(t,e,n[s])+";";else for(var i in n){var o=n[i];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=i+"{"+e[a]+"}":yE(a)&&(r+=yf(i)+":"+vE(i,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var u=0;u<o.length;u++)yE(o[u])&&(r+=yf(i)+":"+vE(i,o[u])+";");else{var c=sl(t,e,o);switch(i){case"animation":case"animationName":{r+=yf(i)+":"+c+";";break}default:r+=i+"{"+c+"}"}}}return r}var wE=/label:\s*([^\s;{]+)\s*(;|$)/g,Hn;function rA(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";Hn=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,s+=sl(n,e,i);else{var o=i;s+=o[0]}for(var a=1;a<t.length;a++)if(s+=sl(n,e,t[a]),r){var u=i;s+=u[a]}wE.lastIndex=0;for(var c="",h;(h=wE.exec(s))!==null;)c+="-"+h[1];var f=J5(s)+c;return{name:f,styles:s,next:Hn}}var r3=function(e){return e()},s3=X0.useInsertionEffect?X0.useInsertionEffect:!1,i3=s3||r3,sA=z.createContext(typeof HTMLElement<"u"?W5({key:"css"}):null);sA.Provider;var o3=function(e){return z.forwardRef(function(n,r){var s=z.useContext(sA);return e(n,s,r)})},iA=z.createContext({}),a3=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,l3=Zb(function(t){return a3.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),u3=l3,c3=function(e){return e!=="theme"},_E=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?u3:c3},EE=function(e,n,r){var s;if(n){var i=n.shouldForwardProp;s=e.__emotion_forwardProp&&i?function(o){return e.__emotion_forwardProp(o)&&i(o)}:i}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},d3=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return tA(n,r,s),i3(function(){return X5(n,r,s)}),null},h3=function t(e,n){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,i,o;n!==void 0&&(i=n.label,o=n.target);var a=EE(e,n,r),u=a||_E(s),c=!u("as");return function(){var h=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&f.push("label:"+i+";"),h[0]==null||h[0].raw===void 0)f.push.apply(f,h);else{var m=h[0];f.push(m[0]);for(var y=h.length,b=1;b<y;b++)f.push(h[b],m[b])}var I=o3(function(P,_,x){var R=c&&P.as||s,N="",D=[],O=P;if(P.theme==null){O={};for(var w in P)O[w]=P[w];O.theme=z.useContext(iA)}typeof P.className=="string"?N=Q5(_.registered,D,P.className):P.className!=null&&(N=P.className+" ");var E=rA(f.concat(D),_.registered,O);N+=_.key+"-"+E.name,o!==void 0&&(N+=" "+o);var C=c&&a===void 0?_E(R):u,p={};for(var T in P)c&&T==="as"||C(T)&&(p[T]=P[T]);return p.className=N,x&&(p.ref=x),z.createElement(z.Fragment,null,z.createElement(d3,{cache:_,serialized:E,isStringTag:typeof R=="string"}),z.createElement(R,p))});return I.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",I.defaultProps=e.defaultProps,I.__emotion_real=I,I.__emotion_base=s,I.__emotion_styles=f,I.__emotion_forwardProp=a,Object.defineProperty(I,"toString",{value:function(){return"."+o}}),I.withComponent=function(P,_){var x=t(P,Kp({},n,_,{shouldForwardProp:EE(I,_,!0)}));return x.apply(void 0,f)},I}},f3=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Jp=h3.bind(null);f3.forEach(function(t){Jp[t]=Jp(t)});/**
 * @mui/styled-engine v6.4.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function p3(t,e){return Jp(t,e)}function m3(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const xE=[];function SE(t){return xE[0]=t,rA(xE)}var oA={exports:{}},Re={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y=Symbol.for("react.transitional.element"),jy=Symbol.for("react.portal"),Od=Symbol.for("react.fragment"),Md=Symbol.for("react.strict_mode"),Vd=Symbol.for("react.profiler"),Ld=Symbol.for("react.consumer"),Fd=Symbol.for("react.context"),$d=Symbol.for("react.forward_ref"),jd=Symbol.for("react.suspense"),Ud=Symbol.for("react.suspense_list"),Bd=Symbol.for("react.memo"),zd=Symbol.for("react.lazy"),g3=Symbol.for("react.offscreen"),y3=Symbol.for("react.client.reference");function Sn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case $y:switch(t=t.type,t){case Od:case Vd:case Md:case jd:case Ud:return t;default:switch(t=t&&t.$$typeof,t){case Fd:case $d:case zd:case Bd:return t;case Ld:return t;default:return e}}case jy:return e}}}Re.ContextConsumer=Ld;Re.ContextProvider=Fd;Re.Element=$y;Re.ForwardRef=$d;Re.Fragment=Od;Re.Lazy=zd;Re.Memo=Bd;Re.Portal=jy;Re.Profiler=Vd;Re.StrictMode=Md;Re.Suspense=jd;Re.SuspenseList=Ud;Re.isContextConsumer=function(t){return Sn(t)===Ld};Re.isContextProvider=function(t){return Sn(t)===Fd};Re.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===$y};Re.isForwardRef=function(t){return Sn(t)===$d};Re.isFragment=function(t){return Sn(t)===Od};Re.isLazy=function(t){return Sn(t)===zd};Re.isMemo=function(t){return Sn(t)===Bd};Re.isPortal=function(t){return Sn(t)===jy};Re.isProfiler=function(t){return Sn(t)===Vd};Re.isStrictMode=function(t){return Sn(t)===Md};Re.isSuspense=function(t){return Sn(t)===jd};Re.isSuspenseList=function(t){return Sn(t)===Ud};Re.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Od||t===Vd||t===Md||t===jd||t===Ud||t===g3||typeof t=="object"&&t!==null&&(t.$$typeof===zd||t.$$typeof===Bd||t.$$typeof===Fd||t.$$typeof===Ld||t.$$typeof===$d||t.$$typeof===y3||t.getModuleId!==void 0)};Re.typeOf=Sn;oA.exports=Re;var aA=oA.exports;function rr(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function lA(t){if(z.isValidElement(t)||aA.isValidElementType(t)||!rr(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=lA(t[n])}),e}function sn(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return rr(t)&&rr(e)&&Object.keys(e).forEach(s=>{z.isValidElement(e[s])||aA.isValidElementType(e[s])?r[s]=e[s]:rr(e[s])&&Object.prototype.hasOwnProperty.call(t,s)&&rr(t[s])?r[s]=sn(t[s],e[s],n):n.clone?r[s]=rr(e[s])?lA(e[s]):e[s]:r[s]=e[s]}),r}const v3=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function w3(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...s}=t,i=v3(e),o=Object.keys(i);function a(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n})`}function u(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${n})`}function c(m,y){const b=o.indexOf(y);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n}) and (max-width:${(b!==-1&&typeof e[o[b]]=="number"?e[o[b]]:y)-r/100}${n})`}function h(m){return o.indexOf(m)+1<o.length?c(m,o[o.indexOf(m)+1]):a(m)}function f(m){const y=o.indexOf(m);return y===0?a(o[1]):y===o.length-1?u(o[y]):c(m,o[o.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:o,values:i,up:a,down:u,between:c,only:h,not:f,unit:n,...s}}function _3(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,s)=>{var o,a;const i=/min-width:\s*([0-9.]+)/;return+(((o=r.match(i))==null?void 0:o[1])||0)-+(((a=s.match(i))==null?void 0:a[1])||0)});return n.length?n.reduce((r,s)=>{const i=e[s];return delete r[s],r[s]=i,r},{...e}):e}function E3(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function x3(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,s]=n,i=Number.isNaN(+r)?r||0:+r;return t.containerQueries(s).up(i)}function S3(t){const e=(i,o)=>i.replace("@media",o?`@container ${o}`:"@container");function n(i,o){i.up=(...a)=>e(t.breakpoints.up(...a),o),i.down=(...a)=>e(t.breakpoints.down(...a),o),i.between=(...a)=>e(t.breakpoints.between(...a),o),i.only=(...a)=>e(t.breakpoints.only(...a),o),i.not=(...a)=>{const u=e(t.breakpoints.not(...a),o);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const r={},s=i=>(n(r,i),r);return n(s),{...t,containerQueries:s}}const T3={borderRadius:4};function Ta(t,e){return e?sn(t,e,{clone:!1}):t}const Hd={xs:0,sm:600,md:900,lg:1200,xl:1536},TE={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Hd[t]}px)`},b3={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:Hd[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function vr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const i=r.breakpoints||TE;return e.reduce((o,a,u)=>(o[i.up(i.keys[u])]=n(e[u]),o),{})}if(typeof e=="object"){const i=r.breakpoints||TE;return Object.keys(e).reduce((o,a)=>{if(E3(i.keys,a)){const u=x3(r.containerQueries?r:b3,a);u&&(o[u]=n(e[a],a))}else if(Object.keys(i.values||Hd).includes(a)){const u=i.up(a);o[u]=n(e[a],a)}else{const u=a;o[u]=e[u]}return o},{})}return n(e)}function A3(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,s)=>{const i=t.up(s);return r[i]={},r},{}))||{}}function I3(t,e){return t.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},e)}function Kr(t){if(typeof t!="string")throw new Error(Bs(7));return t.charAt(0).toUpperCase()+t.slice(1)}function qd(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,t);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,t)}function qc(t,e,n,r=n){let s;return typeof t=="function"?s=t(n):Array.isArray(t)?s=t[n]||r:s=qd(t,n)||r,e&&(s=e(s,r,t)),s}function Je(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:s}=t,i=o=>{if(o[e]==null)return null;const a=o[e],u=o.theme,c=qd(u,r)||{};return vr(o,a,f=>{let m=qc(c,s,f);return f===m&&typeof f=="string"&&(m=qc(c,s,`${e}${f==="default"?"":Kr(f)}`,f)),n===!1?m:{[n]:m}})};return i.propTypes={},i.filterProps=[e],i}function C3(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const R3={m:"margin",p:"padding"},P3={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},bE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},k3=C3(t=>{if(t.length>2)if(bE[t])t=bE[t];else return[t];const[e,n]=t.split(""),r=R3[e],s=P3[n]||"";return Array.isArray(s)?s.map(i=>r+i):[r+s]}),Uy=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],By=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Uy,...By];function Tl(t,e,n,r){const s=qd(t,e,!0)??n;return typeof s=="number"||typeof s=="string"?i=>typeof i=="string"?i:typeof s=="string"?`calc(${i} * ${s})`:s*i:Array.isArray(s)?i=>{if(typeof i=="string")return i;const o=Math.abs(i),a=s[o];return i>=0?a:typeof a=="number"?-a:`-${a}`}:typeof s=="function"?s:()=>{}}function zy(t){return Tl(t,"spacing",8)}function bl(t,e){return typeof e=="string"||e==null?e:t(e)}function N3(t,e){return n=>t.reduce((r,s)=>(r[s]=bl(e,n),r),{})}function D3(t,e,n,r){if(!e.includes(n))return null;const s=k3(n),i=N3(s,r),o=t[n];return vr(t,o,i)}function uA(t,e){const n=zy(t.theme);return Object.keys(t).map(r=>D3(t,e,r,n)).reduce(Ta,{})}function Ge(t){return uA(t,Uy)}Ge.propTypes={};Ge.filterProps=Uy;function Ye(t){return uA(t,By)}Ye.propTypes={};Ye.filterProps=By;function cA(t=8,e=zy({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(i=>{const o=e(i);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Gd(...t){const e=t.reduce((r,s)=>(s.filterProps.forEach(i=>{r[i]=s}),r),{}),n=r=>Object.keys(r).reduce((s,i)=>e[i]?Ta(s,e[i](r)):s,{});return n.propTypes={},n.filterProps=t.reduce((r,s)=>r.concat(s.filterProps),[]),n}function mn(t){return typeof t!="number"?t:`${t}px solid`}function Tn(t,e){return Je({prop:t,themeKey:"borders",transform:e})}const O3=Tn("border",mn),M3=Tn("borderTop",mn),V3=Tn("borderRight",mn),L3=Tn("borderBottom",mn),F3=Tn("borderLeft",mn),$3=Tn("borderColor"),j3=Tn("borderTopColor"),U3=Tn("borderRightColor"),B3=Tn("borderBottomColor"),z3=Tn("borderLeftColor"),H3=Tn("outline",mn),q3=Tn("outlineColor"),Yd=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Tl(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:bl(e,r)});return vr(t,t.borderRadius,n)}return null};Yd.propTypes={};Yd.filterProps=["borderRadius"];Gd(O3,M3,V3,L3,F3,$3,j3,U3,B3,z3,Yd,H3,q3);const Wd=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Tl(t.theme,"spacing",8),n=r=>({gap:bl(e,r)});return vr(t,t.gap,n)}return null};Wd.propTypes={};Wd.filterProps=["gap"];const Kd=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Tl(t.theme,"spacing",8),n=r=>({columnGap:bl(e,r)});return vr(t,t.columnGap,n)}return null};Kd.propTypes={};Kd.filterProps=["columnGap"];const Qd=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Tl(t.theme,"spacing",8),n=r=>({rowGap:bl(e,r)});return vr(t,t.rowGap,n)}return null};Qd.propTypes={};Qd.filterProps=["rowGap"];const G3=Je({prop:"gridColumn"}),Y3=Je({prop:"gridRow"}),W3=Je({prop:"gridAutoFlow"}),K3=Je({prop:"gridAutoColumns"}),Q3=Je({prop:"gridAutoRows"}),X3=Je({prop:"gridTemplateColumns"}),J3=Je({prop:"gridTemplateRows"}),Z3=Je({prop:"gridTemplateAreas"}),e6=Je({prop:"gridArea"});Gd(Wd,Kd,Qd,G3,Y3,W3,K3,Q3,X3,J3,Z3,e6);function Hi(t,e){return e==="grey"?e:t}const t6=Je({prop:"color",themeKey:"palette",transform:Hi}),n6=Je({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Hi}),r6=Je({prop:"backgroundColor",themeKey:"palette",transform:Hi});Gd(t6,n6,r6);function en(t){return t<=1&&t!==0?`${t*100}%`:t}const s6=Je({prop:"width",transform:en}),Hy=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var s,i,o,a,u;const r=((o=(i=(s=t.theme)==null?void 0:s.breakpoints)==null?void 0:i.values)==null?void 0:o[n])||Hd[n];return r?((u=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:u.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:en(n)}};return vr(t,t.maxWidth,e)}return null};Hy.filterProps=["maxWidth"];const i6=Je({prop:"minWidth",transform:en}),o6=Je({prop:"height",transform:en}),a6=Je({prop:"maxHeight",transform:en}),l6=Je({prop:"minHeight",transform:en});Je({prop:"size",cssProperty:"width",transform:en});Je({prop:"size",cssProperty:"height",transform:en});const u6=Je({prop:"boxSizing"});Gd(s6,Hy,i6,o6,a6,l6,u6);const Xd={border:{themeKey:"borders",transform:mn},borderTop:{themeKey:"borders",transform:mn},borderRight:{themeKey:"borders",transform:mn},borderBottom:{themeKey:"borders",transform:mn},borderLeft:{themeKey:"borders",transform:mn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:mn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Yd},color:{themeKey:"palette",transform:Hi},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Hi},backgroundColor:{themeKey:"palette",transform:Hi},p:{style:Ye},pt:{style:Ye},pr:{style:Ye},pb:{style:Ye},pl:{style:Ye},px:{style:Ye},py:{style:Ye},padding:{style:Ye},paddingTop:{style:Ye},paddingRight:{style:Ye},paddingBottom:{style:Ye},paddingLeft:{style:Ye},paddingX:{style:Ye},paddingY:{style:Ye},paddingInline:{style:Ye},paddingInlineStart:{style:Ye},paddingInlineEnd:{style:Ye},paddingBlock:{style:Ye},paddingBlockStart:{style:Ye},paddingBlockEnd:{style:Ye},m:{style:Ge},mt:{style:Ge},mr:{style:Ge},mb:{style:Ge},ml:{style:Ge},mx:{style:Ge},my:{style:Ge},margin:{style:Ge},marginTop:{style:Ge},marginRight:{style:Ge},marginBottom:{style:Ge},marginLeft:{style:Ge},marginX:{style:Ge},marginY:{style:Ge},marginInline:{style:Ge},marginInlineStart:{style:Ge},marginInlineEnd:{style:Ge},marginBlock:{style:Ge},marginBlockStart:{style:Ge},marginBlockEnd:{style:Ge},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Wd},rowGap:{style:Qd},columnGap:{style:Kd},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:en},maxWidth:{style:Hy},minWidth:{transform:en},height:{transform:en},maxHeight:{transform:en},minHeight:{transform:en},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function c6(...t){const e=t.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function d6(t,e){return typeof t=="function"?t(e):t}function h6(){function t(n,r,s,i){const o={[n]:r,theme:s},a=i[n];if(!a)return{[n]:r};const{cssProperty:u=n,themeKey:c,transform:h,style:f}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const m=qd(s,c)||{};return f?f(o):vr(o,r,b=>{let I=qc(m,h,b);return b===I&&typeof b=="string"&&(I=qc(m,h,`${n}${b==="default"?"":Kr(b)}`,b)),u===!1?I:{[u]:I}})}function e(n){const{sx:r,theme:s={}}=n||{};if(!r)return null;const i=s.unstable_sxConfig??Xd;function o(a){let u=a;if(typeof a=="function")u=a(s);else if(typeof a!="object")return a;if(!u)return null;const c=A3(s.breakpoints),h=Object.keys(c);let f=c;return Object.keys(u).forEach(m=>{const y=d6(u[m],s);if(y!=null)if(typeof y=="object")if(i[m])f=Ta(f,t(m,y,s,i));else{const b=vr({theme:s},y,I=>({[m]:I}));c6(b,y)?f[m]=e({sx:y,theme:s}):f=Ta(f,b)}else f=Ta(f,t(m,y,s,i))}),_3(s,I3(h,f))}return Array.isArray(r)?r.map(o):o(r)}return e}const lo=h6();lo.filterProps=["sx"];function f6(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let s=n.getColorSchemeSelector(t);return s==="&"?e:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:e})}return n.palette.mode===t?e:{}}function qy(t={},...e){const{breakpoints:n={},palette:r={},spacing:s,shape:i={},...o}=t,a=w3(n),u=cA(s);let c=sn({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:u,shape:{...T3,...i}},o);return c=S3(c),c.applyStyles=f6,c=e.reduce((h,f)=>sn(h,f),c),c.unstable_sxConfig={...Xd,...o==null?void 0:o.unstable_sxConfig},c.unstable_sx=function(f){return lo({sx:f,theme:this})},c}function p6(t){return Object.keys(t).length===0}function m6(t=null){const e=z.useContext(iA);return!e||p6(e)?t:e}const g6=qy();function y6(t=g6){return m6(t)}const AE=t=>t,v6=()=>{let t=AE;return{configure(e){t=e},generate(e){return t(e)},reset(){t=AE}}},w6=v6();function dA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=dA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Xs(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=dA(t))&&(r&&(r+=" "),r+=e);return r}const _6={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ds(t,e,n="Mui"){const r=_6[e];return r?`${n}-${r}`:`${w6.generate(t)}-${e}`}function Js(t,e,n="Mui"){const r={};return e.forEach(s=>{r[s]=ds(t,s,n)}),r}function hA(t){const{variants:e,...n}=t,r={variants:e,style:SE(n),isProcessed:!0};return r.style===n||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=SE(s.style))}),r}const E6=qy();function vf(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function x6(t){return t?(e,n)=>n[t]:null}function S6(t,e,n){t.theme=A6(t.theme)?n:t.theme[e]||t.theme}function qu(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>qu(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:s,...i}=n;r=i}return fA(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function fA(t,e,n=[]){var s;let r;e:for(let i=0;i<e.length;i+=1){const o=e[i];if(typeof o.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(r))continue}else for(const a in o.props)if(t[a]!==o.props[a]&&((s=t.ownerState)==null?void 0:s[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function T6(t={}){const{themeId:e,defaultTheme:n=E6,rootShouldForwardProp:r=vf,slotShouldForwardProp:s=vf}=t;function i(a){S6(a,e,n)}return(a,u={})=>{m3(a,D=>D.filter(O=>O!==lo));const{name:c,slot:h,skipVariantsResolver:f,skipSx:m,overridesResolver:y=x6(C6(h)),...b}=u,I=f!==void 0?f:h&&h!=="Root"&&h!=="root"||!1,P=m||!1;let _=vf;h==="Root"||h==="root"?_=r:h?_=s:I6(a)&&(_=void 0);const x=p3(a,{shouldForwardProp:_,label:b6(),...b}),R=D=>{if(typeof D=="function"&&D.__emotion_real!==D)return function(w){return qu(w,D)};if(rr(D)){const O=hA(D);return O.variants?function(E){return qu(E,O)}:O.style}return D},N=(...D)=>{const O=[],w=D.map(R),E=[];if(O.push(i),c&&y&&E.push(function(k){var ve,xe;const Y=(xe=(ve=k.theme.components)==null?void 0:ve[c])==null?void 0:xe.styleOverrides;if(!Y)return null;const ee={};for(const U in Y)ee[U]=qu(k,Y[U]);return y(k,ee)}),c&&!I&&E.push(function(k){var ee,ve;const A=k.theme,Y=(ve=(ee=A==null?void 0:A.components)==null?void 0:ee[c])==null?void 0:ve.variants;return Y?fA(k,Y):null}),P||E.push(lo),Array.isArray(w[0])){const T=w.shift(),k=new Array(O.length).fill(""),A=new Array(E.length).fill("");let Y;Y=[...k,...T,...A],Y.raw=[...k,...T.raw,...A],O.unshift(Y)}const C=[...O,...w,...E],p=x(...C);return a.muiName&&(p.muiName=a.muiName),p};return x.withConfig&&(N.withConfig=x.withConfig),N}}function b6(t,e){return void 0}function A6(t){for(const e in t)return!1;return!0}function I6(t){return typeof t=="string"&&t.charCodeAt(0)>96}function C6(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function Zp(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const s=r;if(s==="components"||s==="slots")n[s]={...t[s],...n[s]};else if(s==="componentsProps"||s==="slotProps"){const i=t[s],o=e[s];if(!o)n[s]=i||{};else if(!i)n[s]=o;else{n[s]={...o};for(const a in i)if(Object.prototype.hasOwnProperty.call(i,a)){const u=a;n[s][u]=Zp(i[u],o[u])}}}else n[s]===void 0&&(n[s]=t[s])}return n}function R6(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function Gy(t,e=0,n=1){return R6(t,e,n)}function P6(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function as(t){if(t.type)return t;if(t.charAt(0)==="#")return as(P6(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Bs(9,t));let r=t.substring(e+1,t.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(Bs(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}const k6=t=>{const e=as(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},ia=(t,e)=>{try{return k6(t)}catch{return t}};function Jd(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((s,i)=>i<3?parseInt(s,10):s):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function pA(t){t=as(t);const{values:e}=t,n=e[0],r=e[1]/100,s=e[2]/100,i=r*Math.min(s,1-s),o=(c,h=(c+n/30)%12)=>s-i*Math.max(Math.min(h-3,9-h,1),-1);let a="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",u.push(e[3])),Jd({type:a,values:u})}function em(t){t=as(t);let e=t.type==="hsl"||t.type==="hsla"?as(pA(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function N6(t,e){const n=em(t),r=em(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function zs(t,e){return t=as(t),e=Gy(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Jd(t)}function wu(t,e,n){try{return zs(t,e)}catch{return t}}function Zd(t,e){if(t=as(t),e=Gy(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Jd(t)}function Ie(t,e,n){try{return Zd(t,e)}catch{return t}}function eh(t,e){if(t=as(t),e=Gy(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Jd(t)}function Ce(t,e,n){try{return eh(t,e)}catch{return t}}function D6(t,e=.15){return em(t)>.5?Zd(t,e):eh(t,e)}function _u(t,e,n){try{return D6(t,e)}catch{return t}}function Zs(t,e,n=void 0){const r={};for(const s in t){const i=t[s];let o="",a=!0;for(let u=0;u<i.length;u+=1){const c=i[u];c&&(o+=(a===!0?"":" ")+e(c),a=!1,n&&n[c]&&(o+=" "+n[c]))}r[s]=o}return r}const O6=z.createContext(void 0);function M6(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const s=e.components[n];return s.defaultProps?Zp(s.defaultProps,r):!s.styleOverrides&&!s.variants?Zp(s,r):r}function V6({props:t,name:e}){const n=z.useContext(O6);return M6({props:t,name:e,theme:{components:n}})}const IE={theme:void 0};function L6(t){let e,n;return function(s){let i=e;return(i===void 0||s.theme!==n)&&(IE.theme=s.theme,i=hA(t(IE)),e=i,n=s.theme),i}}function F6(t=""){function e(...r){if(!r.length)return"";const s=r[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${s}${e(...r.slice(1))})`:`, ${s}`}return(r,...s)=>`var(--${t?`${t}-`:""}${r}${e(...s)})`}const CE=(t,e,n,r=[])=>{let s=t;e.forEach((i,o)=>{o===e.length-1?Array.isArray(s)?s[Number(i)]=n:s&&typeof s=="object"&&(s[i]=n):s&&typeof s=="object"&&(s[i]||(s[i]=r.includes(i)?[]:{}),s=s[i])})},$6=(t,e,n)=>{function r(s,i=[],o=[]){Object.entries(s).forEach(([a,u])=>{(!n||n&&!n([...i,a]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?r(u,[...i,a],Array.isArray(u)?[...o,a]:o):e([...i,a],u,o))})}r(t)},j6=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function wf(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},s={},i={},o={};return $6(t,(a,u,c)=>{if((typeof u=="string"||typeof u=="number")&&(!r||!r(a,u))){const h=`--${n?`${n}-`:""}${a.join("-")}`,f=j6(a,u);Object.assign(s,{[h]:f}),CE(i,a,`var(${h})`,c),CE(o,a,`var(${h}, ${f})`,c)}},a=>a[0]==="vars"),{css:s,vars:i,varsWithDefaults:o}}function U6(t,e={}){const{getSelector:n=P,disableCssColorScheme:r,colorSchemeSelector:s}=e,{colorSchemes:i={},components:o,defaultColorScheme:a="light",...u}=t,{vars:c,css:h,varsWithDefaults:f}=wf(u,e);let m=f;const y={},{[a]:b,...I}=i;if(Object.entries(I||{}).forEach(([R,N])=>{const{vars:D,css:O,varsWithDefaults:w}=wf(N,e);m=sn(m,w),y[R]={css:O,vars:D}}),b){const{css:R,vars:N,varsWithDefaults:D}=wf(b,e);m=sn(m,D),y[a]={css:R,vars:N}}function P(R,N){var O,w;let D=s;if(s==="class"&&(D=".%s"),s==="data"&&(D="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(D=`[${s}="%s"]`),R){if(D==="media")return t.defaultColorScheme===R?":root":{[`@media (prefers-color-scheme: ${((w=(O=i[R])==null?void 0:O.palette)==null?void 0:w.mode)||R})`]:{":root":N}};if(D)return t.defaultColorScheme===R?`:root, ${D.replace("%s",String(R))}`:D.replace("%s",String(R))}return":root"}return{vars:m,generateThemeVars:()=>{let R={...c};return Object.entries(y).forEach(([,{vars:N}])=>{R=sn(R,N)}),R},generateStyleSheets:()=>{var E,C;const R=[],N=t.defaultColorScheme||"light";function D(p,T){Object.keys(T).length&&R.push(typeof p=="string"?{[p]:{...T}}:p)}D(n(void 0,{...h}),h);const{[N]:O,...w}=y;if(O){const{css:p}=O,T=(C=(E=i[N])==null?void 0:E.palette)==null?void 0:C.mode,k=!r&&T?{colorScheme:T,...p}:{...p};D(n(N,{...k}),k)}return Object.entries(w).forEach(([p,{css:T}])=>{var Y,ee;const k=(ee=(Y=i[p])==null?void 0:Y.palette)==null?void 0:ee.mode,A=!r&&k?{colorScheme:k,...T}:{...T};D(n(p,{...A}),A)}),R}}}function B6(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function mA(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:tl.white,default:tl.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const z6=mA();function gA(){return{text:{primary:tl.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:tl.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const RE=gA();function PE(t,e,n,r){const s=r.light||r,i=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=eh(t.main,s):e==="dark"&&(t.dark=Zd(t.main,i)))}function H6(t="light"){return t==="dark"?{main:hi[200],light:hi[50],dark:hi[400]}:{main:hi[700],light:hi[400],dark:hi[800]}}function q6(t="light"){return t==="dark"?{main:di[200],light:di[50],dark:di[400]}:{main:di[500],light:di[300],dark:di[700]}}function G6(t="light"){return t==="dark"?{main:ci[500],light:ci[300],dark:ci[700]}:{main:ci[700],light:ci[400],dark:ci[800]}}function Y6(t="light"){return t==="dark"?{main:fi[400],light:fi[300],dark:fi[700]}:{main:fi[700],light:fi[500],dark:fi[900]}}function W6(t="light"){return t==="dark"?{main:pi[400],light:pi[300],dark:pi[700]}:{main:pi[800],light:pi[500],dark:pi[900]}}function K6(t="light"){return t==="dark"?{main:Go[400],light:Go[300],dark:Go[700]}:{main:"#ed6c02",light:Go[500],dark:Go[900]}}function Yy(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...s}=t,i=t.primary||H6(e),o=t.secondary||q6(e),a=t.error||G6(e),u=t.info||Y6(e),c=t.success||W6(e),h=t.warning||K6(e);function f(I){return N6(I,RE.text.primary)>=n?RE.text.primary:z6.text.primary}const m=({color:I,name:P,mainShade:_=500,lightShade:x=300,darkShade:R=700})=>{if(I={...I},!I.main&&I[_]&&(I.main=I[_]),!I.hasOwnProperty("main"))throw new Error(Bs(11,P?` (${P})`:"",_));if(typeof I.main!="string")throw new Error(Bs(12,P?` (${P})`:"",JSON.stringify(I.main)));return PE(I,"light",x,r),PE(I,"dark",R,r),I.contrastText||(I.contrastText=f(I.main)),I};let y;return e==="light"?y=mA():e==="dark"&&(y=gA()),sn({common:{...tl},mode:e,primary:m({color:i,name:"primary"}),secondary:m({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:a,name:"error"}),warning:m({color:h,name:"warning"}),info:m({color:u,name:"info"}),success:m({color:c,name:"success"}),grey:w5,contrastThreshold:n,getContrastText:f,augmentColor:m,tonalOffset:r,...y},s)}function Q6(t){const e={};return Object.entries(t).forEach(r=>{const[s,i]=r;typeof i=="object"&&(e[s]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),e}function X6(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function J6(t){return Math.round(t*1e5)/1e5}const kE={textTransform:"uppercase"},NE='"Roboto", "Helvetica", "Arial", sans-serif';function Z6(t,e){const{fontFamily:n=NE,fontSize:r=14,fontWeightLight:s=300,fontWeightRegular:i=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:u=16,allVariants:c,pxToRem:h,...f}=typeof e=="function"?e(t):e,m=r/14,y=h||(P=>`${P/u*m}rem`),b=(P,_,x,R,N)=>({fontFamily:n,fontWeight:P,fontSize:y(_),lineHeight:x,...n===NE?{letterSpacing:`${J6(R/_)}em`}:{},...N,...c}),I={h1:b(s,96,1.167,-1.5),h2:b(s,60,1.2,-.5),h3:b(i,48,1.167,0),h4:b(i,34,1.235,.25),h5:b(i,24,1.334,0),h6:b(o,20,1.6,.15),subtitle1:b(i,16,1.75,.15),subtitle2:b(o,14,1.57,.1),body1:b(i,16,1.5,.15),body2:b(i,14,1.43,.15),button:b(o,14,1.75,.4,kE),caption:b(i,12,1.66,.4),overline:b(i,12,2.66,1,kE),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return sn({htmlFontSize:u,pxToRem:y,fontFamily:n,fontSize:r,fontWeightLight:s,fontWeightRegular:i,fontWeightMedium:o,fontWeightBold:a,...I},f,{clone:!1})}const e$=.2,t$=.14,n$=.12;function Le(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${e$})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${t$})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${n$})`].join(",")}const r$=["none",Le(0,2,1,-1,0,1,1,0,0,1,3,0),Le(0,3,1,-2,0,2,2,0,0,1,5,0),Le(0,3,3,-2,0,3,4,0,0,1,8,0),Le(0,2,4,-1,0,4,5,0,0,1,10,0),Le(0,3,5,-1,0,5,8,0,0,1,14,0),Le(0,3,5,-1,0,6,10,0,0,1,18,0),Le(0,4,5,-2,0,7,10,1,0,2,16,1),Le(0,5,5,-3,0,8,10,1,0,3,14,2),Le(0,5,6,-3,0,9,12,1,0,3,16,2),Le(0,6,6,-3,0,10,14,1,0,4,18,3),Le(0,6,7,-4,0,11,15,1,0,4,20,3),Le(0,7,8,-4,0,12,17,2,0,5,22,4),Le(0,7,8,-4,0,13,19,2,0,5,24,4),Le(0,7,9,-4,0,14,21,2,0,5,26,4),Le(0,8,9,-5,0,15,22,2,0,6,28,5),Le(0,8,10,-5,0,16,24,2,0,6,30,5),Le(0,8,11,-5,0,17,26,2,0,6,32,5),Le(0,9,11,-5,0,18,28,2,0,7,34,6),Le(0,9,12,-6,0,19,29,2,0,7,36,6),Le(0,10,13,-6,0,20,31,3,0,8,38,7),Le(0,10,13,-6,0,21,33,3,0,8,40,7),Le(0,10,14,-6,0,22,35,3,0,8,42,7),Le(0,11,14,-7,0,23,36,3,0,9,44,8),Le(0,11,15,-7,0,24,38,3,0,9,46,8)],s$={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},i$={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function DE(t){return`${Math.round(t)}ms`}function o$(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function a$(t){const e={...s$,...t.easing},n={...i$,...t.duration};return{getAutoHeightDuration:o$,create:(s=["all"],i={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:u=0,...c}=i;return(Array.isArray(s)?s:[s]).map(h=>`${h} ${typeof o=="string"?o:DE(o)} ${a} ${typeof u=="string"?u:DE(u)}`).join(",")},...t,easing:e,duration:n}}const l$={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function u$(t){return rr(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function yA(t={}){const e={...t};function n(r){const s=Object.entries(r);for(let i=0;i<s.length;i++){const[o,a]=s[i];!u$(a)||o.startsWith("unstable_")?delete r[o]:rr(a)&&(r[o]={...a},n(r[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function tm(t={},...e){const{breakpoints:n,mixins:r={},spacing:s,palette:i={},transitions:o={},typography:a={},shape:u,...c}=t;if(t.vars)throw new Error(Bs(20));const h=Yy(i),f=qy(t);let m=sn(f,{mixins:X6(f.breakpoints,r),palette:h,shadows:r$.slice(),typography:Z6(h,a),transitions:a$(o),zIndex:{...l$}});return m=sn(m,c),m=e.reduce((y,b)=>sn(y,b),m),m.unstable_sxConfig={...Xd,...c==null?void 0:c.unstable_sxConfig},m.unstable_sx=function(b){return lo({sx:b,theme:this})},m.toRuntimeSource=yA,m}function nm(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const c$=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=nm(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function vA(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function wA(t){return t==="dark"?c$:[]}function d$(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...s}=t,i=Yy(e);return{palette:i,opacity:{...vA(i.mode),...n},overlays:r||wA(i.mode),...s}}function h$(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const f$=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],p$=t=>(e,n)=>{const r=t.rootSelector||":root",s=t.colorSchemeSelector;let i=s;if(s==="class"&&(i=".%s"),s==="data"&&(i="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(i=`[${s}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return f$(t.cssVarPrefix).forEach(a=>{o[a]=n[a],delete n[a]}),i==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:i?{[i.replace("%s",e)]:o,[`${r}, ${i.replace("%s",e)}`]:n}:{[r]:{...n,...o}}}if(i&&i!=="media")return`${r}, ${i.replace("%s",String(e))}`}else if(e){if(i==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(i)return i.replace("%s",String(e))}return r};function m$(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function L(t,e,n){!t[e]&&n&&(t[e]=n)}function oa(t){return typeof t!="string"||!t.startsWith("hsl")?t:pA(t)}function er(t,e){`${e}Channel`in t||(t[`${e}Channel`]=ia(oa(t[e])))}function g$(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const jn=t=>{try{return t()}catch{}},y$=(t="mui")=>F6(t);function _f(t,e,n,r){if(!e)return;e=e===!0?{}:e;const s=r==="dark"?"dark":"light";if(!n){t[r]=d$({...e,palette:{mode:s,...e==null?void 0:e.palette}});return}const{palette:i,...o}=tm({...n,palette:{mode:s,...e==null?void 0:e.palette}});return t[r]={...e,palette:i,opacity:{...vA(s),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||wA(s)},o}function v$(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:s=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:o=h$,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:u=":root",...c}=t,h=Object.keys(n)[0],f=r||(n.light&&h!=="light"?"light":h),m=y$(i),{[f]:y,light:b,dark:I,...P}=n,_={...P};let x=y;if((f==="dark"&&!("dark"in n)||f==="light"&&!("light"in n))&&(x=!0),!x)throw new Error(Bs(21,f));const R=_f(_,x,c,f);b&&!_.light&&_f(_,b,void 0,"light"),I&&!_.dark&&_f(_,I,void 0,"dark");let N={defaultColorScheme:f,...R,cssVarPrefix:i,colorSchemeSelector:a,rootSelector:u,getCssVar:m,colorSchemes:_,font:{...Q6(R.typography),...R.font},spacing:g$(c.spacing)};Object.keys(N.colorSchemes).forEach(C=>{const p=N.colorSchemes[C].palette,T=k=>{const A=k.split("-"),Y=A[1],ee=A[2];return m(k,p[Y][ee])};if(p.mode==="light"&&(L(p.common,"background","#fff"),L(p.common,"onBackground","#000")),p.mode==="dark"&&(L(p.common,"background","#000"),L(p.common,"onBackground","#fff")),m$(p,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),p.mode==="light"){L(p.Alert,"errorColor",Ie(p.error.light,.6)),L(p.Alert,"infoColor",Ie(p.info.light,.6)),L(p.Alert,"successColor",Ie(p.success.light,.6)),L(p.Alert,"warningColor",Ie(p.warning.light,.6)),L(p.Alert,"errorFilledBg",T("palette-error-main")),L(p.Alert,"infoFilledBg",T("palette-info-main")),L(p.Alert,"successFilledBg",T("palette-success-main")),L(p.Alert,"warningFilledBg",T("palette-warning-main")),L(p.Alert,"errorFilledColor",jn(()=>p.getContrastText(p.error.main))),L(p.Alert,"infoFilledColor",jn(()=>p.getContrastText(p.info.main))),L(p.Alert,"successFilledColor",jn(()=>p.getContrastText(p.success.main))),L(p.Alert,"warningFilledColor",jn(()=>p.getContrastText(p.warning.main))),L(p.Alert,"errorStandardBg",Ce(p.error.light,.9)),L(p.Alert,"infoStandardBg",Ce(p.info.light,.9)),L(p.Alert,"successStandardBg",Ce(p.success.light,.9)),L(p.Alert,"warningStandardBg",Ce(p.warning.light,.9)),L(p.Alert,"errorIconColor",T("palette-error-main")),L(p.Alert,"infoIconColor",T("palette-info-main")),L(p.Alert,"successIconColor",T("palette-success-main")),L(p.Alert,"warningIconColor",T("palette-warning-main")),L(p.AppBar,"defaultBg",T("palette-grey-100")),L(p.Avatar,"defaultBg",T("palette-grey-400")),L(p.Button,"inheritContainedBg",T("palette-grey-300")),L(p.Button,"inheritContainedHoverBg",T("palette-grey-A100")),L(p.Chip,"defaultBorder",T("palette-grey-400")),L(p.Chip,"defaultAvatarColor",T("palette-grey-700")),L(p.Chip,"defaultIconColor",T("palette-grey-700")),L(p.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),L(p.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),L(p.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),L(p.LinearProgress,"primaryBg",Ce(p.primary.main,.62)),L(p.LinearProgress,"secondaryBg",Ce(p.secondary.main,.62)),L(p.LinearProgress,"errorBg",Ce(p.error.main,.62)),L(p.LinearProgress,"infoBg",Ce(p.info.main,.62)),L(p.LinearProgress,"successBg",Ce(p.success.main,.62)),L(p.LinearProgress,"warningBg",Ce(p.warning.main,.62)),L(p.Skeleton,"bg",`rgba(${T("palette-text-primaryChannel")} / 0.11)`),L(p.Slider,"primaryTrack",Ce(p.primary.main,.62)),L(p.Slider,"secondaryTrack",Ce(p.secondary.main,.62)),L(p.Slider,"errorTrack",Ce(p.error.main,.62)),L(p.Slider,"infoTrack",Ce(p.info.main,.62)),L(p.Slider,"successTrack",Ce(p.success.main,.62)),L(p.Slider,"warningTrack",Ce(p.warning.main,.62));const k=_u(p.background.default,.8);L(p.SnackbarContent,"bg",k),L(p.SnackbarContent,"color",jn(()=>p.getContrastText(k))),L(p.SpeedDialAction,"fabHoverBg",_u(p.background.paper,.15)),L(p.StepConnector,"border",T("palette-grey-400")),L(p.StepContent,"border",T("palette-grey-400")),L(p.Switch,"defaultColor",T("palette-common-white")),L(p.Switch,"defaultDisabledColor",T("palette-grey-100")),L(p.Switch,"primaryDisabledColor",Ce(p.primary.main,.62)),L(p.Switch,"secondaryDisabledColor",Ce(p.secondary.main,.62)),L(p.Switch,"errorDisabledColor",Ce(p.error.main,.62)),L(p.Switch,"infoDisabledColor",Ce(p.info.main,.62)),L(p.Switch,"successDisabledColor",Ce(p.success.main,.62)),L(p.Switch,"warningDisabledColor",Ce(p.warning.main,.62)),L(p.TableCell,"border",Ce(wu(p.divider,1),.88)),L(p.Tooltip,"bg",wu(p.grey[700],.92))}if(p.mode==="dark"){L(p.Alert,"errorColor",Ce(p.error.light,.6)),L(p.Alert,"infoColor",Ce(p.info.light,.6)),L(p.Alert,"successColor",Ce(p.success.light,.6)),L(p.Alert,"warningColor",Ce(p.warning.light,.6)),L(p.Alert,"errorFilledBg",T("palette-error-dark")),L(p.Alert,"infoFilledBg",T("palette-info-dark")),L(p.Alert,"successFilledBg",T("palette-success-dark")),L(p.Alert,"warningFilledBg",T("palette-warning-dark")),L(p.Alert,"errorFilledColor",jn(()=>p.getContrastText(p.error.dark))),L(p.Alert,"infoFilledColor",jn(()=>p.getContrastText(p.info.dark))),L(p.Alert,"successFilledColor",jn(()=>p.getContrastText(p.success.dark))),L(p.Alert,"warningFilledColor",jn(()=>p.getContrastText(p.warning.dark))),L(p.Alert,"errorStandardBg",Ie(p.error.light,.9)),L(p.Alert,"infoStandardBg",Ie(p.info.light,.9)),L(p.Alert,"successStandardBg",Ie(p.success.light,.9)),L(p.Alert,"warningStandardBg",Ie(p.warning.light,.9)),L(p.Alert,"errorIconColor",T("palette-error-main")),L(p.Alert,"infoIconColor",T("palette-info-main")),L(p.Alert,"successIconColor",T("palette-success-main")),L(p.Alert,"warningIconColor",T("palette-warning-main")),L(p.AppBar,"defaultBg",T("palette-grey-900")),L(p.AppBar,"darkBg",T("palette-background-paper")),L(p.AppBar,"darkColor",T("palette-text-primary")),L(p.Avatar,"defaultBg",T("palette-grey-600")),L(p.Button,"inheritContainedBg",T("palette-grey-800")),L(p.Button,"inheritContainedHoverBg",T("palette-grey-700")),L(p.Chip,"defaultBorder",T("palette-grey-700")),L(p.Chip,"defaultAvatarColor",T("palette-grey-300")),L(p.Chip,"defaultIconColor",T("palette-grey-300")),L(p.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),L(p.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),L(p.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),L(p.LinearProgress,"primaryBg",Ie(p.primary.main,.5)),L(p.LinearProgress,"secondaryBg",Ie(p.secondary.main,.5)),L(p.LinearProgress,"errorBg",Ie(p.error.main,.5)),L(p.LinearProgress,"infoBg",Ie(p.info.main,.5)),L(p.LinearProgress,"successBg",Ie(p.success.main,.5)),L(p.LinearProgress,"warningBg",Ie(p.warning.main,.5)),L(p.Skeleton,"bg",`rgba(${T("palette-text-primaryChannel")} / 0.13)`),L(p.Slider,"primaryTrack",Ie(p.primary.main,.5)),L(p.Slider,"secondaryTrack",Ie(p.secondary.main,.5)),L(p.Slider,"errorTrack",Ie(p.error.main,.5)),L(p.Slider,"infoTrack",Ie(p.info.main,.5)),L(p.Slider,"successTrack",Ie(p.success.main,.5)),L(p.Slider,"warningTrack",Ie(p.warning.main,.5));const k=_u(p.background.default,.98);L(p.SnackbarContent,"bg",k),L(p.SnackbarContent,"color",jn(()=>p.getContrastText(k))),L(p.SpeedDialAction,"fabHoverBg",_u(p.background.paper,.15)),L(p.StepConnector,"border",T("palette-grey-600")),L(p.StepContent,"border",T("palette-grey-600")),L(p.Switch,"defaultColor",T("palette-grey-300")),L(p.Switch,"defaultDisabledColor",T("palette-grey-600")),L(p.Switch,"primaryDisabledColor",Ie(p.primary.main,.55)),L(p.Switch,"secondaryDisabledColor",Ie(p.secondary.main,.55)),L(p.Switch,"errorDisabledColor",Ie(p.error.main,.55)),L(p.Switch,"infoDisabledColor",Ie(p.info.main,.55)),L(p.Switch,"successDisabledColor",Ie(p.success.main,.55)),L(p.Switch,"warningDisabledColor",Ie(p.warning.main,.55)),L(p.TableCell,"border",Ie(wu(p.divider,1),.68)),L(p.Tooltip,"bg",wu(p.grey[700],.92))}er(p.background,"default"),er(p.background,"paper"),er(p.common,"background"),er(p.common,"onBackground"),er(p,"divider"),Object.keys(p).forEach(k=>{const A=p[k];k!=="tonalOffset"&&A&&typeof A=="object"&&(A.main&&L(p[k],"mainChannel",ia(oa(A.main))),A.light&&L(p[k],"lightChannel",ia(oa(A.light))),A.dark&&L(p[k],"darkChannel",ia(oa(A.dark))),A.contrastText&&L(p[k],"contrastTextChannel",ia(oa(A.contrastText))),k==="text"&&(er(p[k],"primary"),er(p[k],"secondary")),k==="action"&&(A.active&&er(p[k],"active"),A.selected&&er(p[k],"selected")))})}),N=e.reduce((C,p)=>sn(C,p),N);const D={prefix:i,disableCssColorScheme:s,shouldSkipGeneratingVar:o,getSelector:p$(N)},{vars:O,generateThemeVars:w,generateStyleSheets:E}=U6(N,D);return N.vars=O,Object.entries(N.colorSchemes[N.defaultColorScheme]).forEach(([C,p])=>{N[C]=p}),N.generateThemeVars=w,N.generateStyleSheets=E,N.generateSpacing=function(){return cA(c.spacing,zy(this))},N.getColorSchemeSelector=B6(a),N.spacing=N.generateSpacing(),N.shouldSkipGeneratingVar=o,N.unstable_sxConfig={...Xd,...c==null?void 0:c.unstable_sxConfig},N.unstable_sx=function(p){return lo({sx:p,theme:this})},N.toRuntimeSource=yA,N}function OE(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:Yy({...n===!0?{}:n.palette,mode:e})})}function w$(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:s=n?void 0:{light:!0},defaultColorScheme:i=n==null?void 0:n.mode,...o}=t,a=i||"light",u=s==null?void 0:s[a],c={...s,...n?{[a]:{...typeof u!="boolean"&&u,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return tm(t,...e);let h=n;"palette"in t||c[a]&&(c[a]!==!0?h=c[a].palette:a==="dark"&&(h={mode:"dark"}));const f=tm({...t,palette:h},...e);return f.defaultColorScheme=a,f.colorSchemes=c,f.palette.mode==="light"&&(f.colorSchemes.light={...c.light!==!0&&c.light,palette:f.palette},OE(f,"dark",c.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:f.palette},OE(f,"light",c.light)),f}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),v$({...o,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const _A=w$();function _$(){const t=y6(_A);return t[Gb]||t}function E$(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const x$=t=>E$(t)&&t!=="classes",ei=T6({themeId:Gb,defaultTheme:_A,rootShouldForwardProp:x$}),th=L6;function ti(t){return V6(t)}function S$(t){return ds("MuiPaper",t)}Js("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const T$=t=>{const{square:e,elevation:n,variant:r,classes:s}=t,i={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Zs(i,S$,s)},b$=ei("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(th(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),A$=z.forwardRef(function(e,n){var y;const r=ti({props:e,name:"MuiPaper"}),s=_$(),{className:i,component:o="div",elevation:a=1,square:u=!1,variant:c="elevation",...h}=r,f={...r,component:o,elevation:a,square:u,variant:c},m=T$(f);return v.jsx(b$,{as:o,ownerState:f,className:Xs(m.root,i),ref:n,...h,style:{...c==="elevation"&&{"--Paper-shadow":(s.vars||s).shadows[a],...s.vars&&{"--Paper-overlay":(y=s.vars.overlays)==null?void 0:y[a]},...!s.vars&&s.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${zs("#fff",nm(a))}, ${zs("#fff",nm(a))})`}},...h.style}})}),EA=z.createContext();function I$(t){return ds("MuiTable",t)}Js("MuiTable",["root","stickyHeader"]);const C$=t=>{const{classes:e,stickyHeader:n}=t;return Zs({root:["root",n&&"stickyHeader"]},I$,e)},R$=ei("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(th(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),ME="table",P$=z.forwardRef(function(e,n){const r=ti({props:e,name:"MuiTable"}),{className:s,component:i=ME,padding:o="normal",size:a="medium",stickyHeader:u=!1,...c}=r,h={...r,component:i,padding:o,size:a,stickyHeader:u},f=C$(h),m=z.useMemo(()=>({padding:o,size:a,stickyHeader:u}),[o,a,u]);return v.jsx(EA.Provider,{value:m,children:v.jsx(R$,{as:i,role:i===ME?null:"table",ref:n,className:Xs(f.root,s),ownerState:h,...c})})}),nh=z.createContext();function k$(t){return ds("MuiTableBody",t)}Js("MuiTableBody",["root"]);const N$=t=>{const{classes:e}=t;return Zs({root:["root"]},k$,e)},D$=ei("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),O$={variant:"body"},VE="tbody",M$=z.forwardRef(function(e,n){const r=ti({props:e,name:"MuiTableBody"}),{className:s,component:i=VE,...o}=r,a={...r,component:i},u=N$(a);return v.jsx(nh.Provider,{value:O$,children:v.jsx(D$,{className:Xs(u.root,s),as:i,ref:n,role:i===VE?null:"rowgroup",ownerState:a,...o})})});function V$(t){return ds("MuiTableCell",t)}const L$=Js("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),F$=t=>{const{classes:e,variant:n,align:r,padding:s,size:i,stickyHeader:o}=t,a={root:["root",n,o&&"stickyHeader",r!=="inherit"&&`align${Kr(r)}`,s!=="normal"&&`padding${Kr(s)}`,`size${Kr(i)}`]};return Zs(a,V$,e)},$$=ei("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Kr(n.size)}`],n.padding!=="normal"&&e[`padding${Kr(n.padding)}`],n.align!=="inherit"&&e[`align${Kr(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(th(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?eh(zs(t.palette.divider,1),.88):Zd(zs(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${L$.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),Cn=z.forwardRef(function(e,n){const r=ti({props:e,name:"MuiTableCell"}),{align:s="inherit",className:i,component:o,padding:a,scope:u,size:c,sortDirection:h,variant:f,...m}=r,y=z.useContext(EA),b=z.useContext(nh),I=b&&b.variant==="head";let P;o?P=o:P=I?"th":"td";let _=u;P==="td"?_=void 0:!_&&I&&(_="col");const x=f||b&&b.variant,R={...r,align:s,component:P,padding:a||(y&&y.padding?y.padding:"normal"),size:c||(y&&y.size?y.size:"medium"),sortDirection:h,stickyHeader:x==="head"&&y&&y.stickyHeader,variant:x},N=F$(R);let D=null;return h&&(D=h==="asc"?"ascending":"descending"),v.jsx($$,{as:P,ref:n,className:Xs(N.root,i),"aria-sort":D,scope:_,ownerState:R,...m})});function j$(t){return ds("MuiTableContainer",t)}Js("MuiTableContainer",["root"]);const U$=t=>{const{classes:e}=t;return Zs({root:["root"]},j$,e)},B$=ei("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),z$=z.forwardRef(function(e,n){const r=ti({props:e,name:"MuiTableContainer"}),{className:s,component:i="div",...o}=r,a={...r,component:i},u=U$(a);return v.jsx(B$,{ref:n,as:i,className:Xs(u.root,s),ownerState:a,...o})});function H$(t){return ds("MuiTableHead",t)}Js("MuiTableHead",["root"]);const q$=t=>{const{classes:e}=t;return Zs({root:["root"]},H$,e)},G$=ei("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),Y$={variant:"head"},LE="thead",W$=z.forwardRef(function(e,n){const r=ti({props:e,name:"MuiTableHead"}),{className:s,component:i=LE,...o}=r,a={...r,component:i},u=q$(a);return v.jsx(nh.Provider,{value:Y$,children:v.jsx(G$,{as:i,className:Xs(u.root,s),ref:n,role:i===LE?null:"rowgroup",ownerState:a,...o})})});function K$(t){return ds("MuiTableRow",t)}const FE=Js("MuiTableRow",["root","selected","hover","head","footer"]),Q$=t=>{const{classes:e,selected:n,hover:r,head:s,footer:i}=t;return Zs({root:["root",n&&"selected",r&&"hover",s&&"head",i&&"footer"]},K$,e)},X$=ei("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(th(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${FE.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${FE.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:zs(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:zs(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}))),$E="tr",jE=z.forwardRef(function(e,n){const r=ti({props:e,name:"MuiTableRow"}),{className:s,component:i=$E,hover:o=!1,selected:a=!1,...u}=r,c=z.useContext(nh),h={...r,component:i,hover:o,selected:a,head:c&&c.variant==="head",footer:c&&c.variant==="footer"},f=Q$(h);return v.jsx(X$,{as:i,ref:n,className:Xs(f.root,s),role:i===$E?null:"row",ownerState:h,...u})}),J$="modulepreload",Z$=function(t){return"/InvestmentDashboard/"+t},UE={},xA=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=Z$(u),u in UE)return;UE[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":J$,c||(f.as="script"),f.crossOrigin="",f.href=u,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((m,y)=>{f.addEventListener("load",m),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};function SA(t){return Promise.all(Object.keys(t).reduce((e,n)=>{const r=t[n];return typeof r=="string"?e.push([n,r]):e.push(r().then(s=>[n,s])),e},[])).then(e=>e.reduce((n,[r,s])=>(n[r]=s,n),{}))}function ej(t){return async e=>{var c;(c=t.logger)==null||c.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");const{GetCredentialsForIdentityCommand:n,CognitoIdentityClient:r}=await xA(async()=>{const{GetCredentialsForIdentityCommand:h,CognitoIdentityClient:f}=await import("./loadCognitoIdentity-DXepWRjw.js");return{GetCredentialsForIdentityCommand:h,CognitoIdentityClient:f}},[]),s=h=>{var f,m,y;return((f=t.clientConfig)==null?void 0:f[h])??((m=t.parentClientConfig)==null?void 0:m[h])??((y=e==null?void 0:e.callerClientConfig)==null?void 0:y[h])},{Credentials:{AccessKeyId:i=tj(t.logger),Expiration:o,SecretKey:a=rj(t.logger),SessionToken:u}=nj(t.logger)}=await(t.client??new r(Object.assign({},t.clientConfig??{},{region:s("region"),profile:s("profile")}))).send(new n({CustomRoleArn:t.customRoleArn,IdentityId:t.identityId,Logins:t.logins?await SA(t.logins):void 0}));return{identityId:t.identityId,accessKeyId:i,secretAccessKey:a,sessionToken:u,expiration:o}}}function tj(t){throw new _o("Response from Amazon Cognito contained no access key ID",{logger:t})}function nj(t){throw new _o("Response from Amazon Cognito contained no credentials",{logger:t})}function rj(t){throw new _o("Response from Amazon Cognito contained no secret key",{logger:t})}const Ef="IdentityIds";class sj{constructor(e="aws:cognito-identity-ids"){B(this,"dbName");this.dbName=e}getItem(e){return this.withObjectStore("readonly",n=>{const r=n.get(e);return new Promise(s=>{r.onerror=()=>s(null),r.onsuccess=()=>s(r.result?r.result.value:null)})}).catch(()=>null)}removeItem(e){return this.withObjectStore("readwrite",n=>{const r=n.delete(e);return new Promise((s,i)=>{r.onerror=()=>i(r.error),r.onsuccess=()=>s()})})}setItem(e,n){return this.withObjectStore("readwrite",r=>{const s=r.put({id:e,value:n});return new Promise((i,o)=>{s.onerror=()=>o(s.error),s.onsuccess=()=>i()})})}getDb(){const e=self.indexedDB.open(this.dbName,1);return new Promise((n,r)=>{e.onsuccess=()=>{n(e.result)},e.onerror=()=>{r(e.error)},e.onblocked=()=>{r(new Error("Unable to access DB"))},e.onupgradeneeded=()=>{const s=e.result;s.onerror=()=>{r(new Error("Failed to create object store"))},s.createObjectStore(Ef,{keyPath:"id"})}})}withObjectStore(e,n){return this.getDb().then(r=>{const s=r.transaction(Ef,e);return s.oncomplete=()=>r.close(),new Promise((i,o)=>{s.onerror=()=>o(s.error),i(n(s.objectStore(Ef)))}).catch(i=>{throw r.close(),i})})}}class ij{constructor(e={}){B(this,"store");this.store=e}getItem(e){return e in this.store?this.store[e]:null}removeItem(e){delete this.store[e]}setItem(e,n){this.store[e]=n}}const oj=new ij;function aj(){return typeof self=="object"&&self.indexedDB?new sj:typeof window=="object"&&window.localStorage?window.localStorage:oj}function lj({accountId:t,cache:e=aj(),client:n,clientConfig:r,customRoleArn:s,identityPoolId:i,logins:o,userIdentifier:a=!o||Object.keys(o).length===0?"ANONYMOUS":void 0,logger:u,parentClientConfig:c}){u==null||u.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");const h=a?`aws:cognito-identity-credentials:${i}:${a}`:void 0;let f=async m=>{const{GetIdCommand:y,CognitoIdentityClient:b}=await xA(async()=>{const{GetIdCommand:x,CognitoIdentityClient:R}=await import("./loadCognitoIdentity-DXepWRjw.js");return{GetIdCommand:x,CognitoIdentityClient:R}},[]),I=x=>{var R;return(r==null?void 0:r[x])??(c==null?void 0:c[x])??((R=m==null?void 0:m.callerClientConfig)==null?void 0:R[x])},P=n??new b(Object.assign({},r??{},{region:I("region"),profile:I("profile")}));let _=h&&await e.getItem(h);if(!_){const{IdentityId:x=uj(u)}=await P.send(new y({AccountId:t,IdentityPoolId:i,Logins:o?await SA(o):void 0}));_=x,h&&Promise.resolve(e.setItem(h,_)).catch(()=>{})}return f=ej({client:P,customRoleArn:s,logins:o,identityId:_}),f(m)};return m=>f(m).catch(async y=>{throw h&&Promise.resolve(e.removeItem(h)).catch(()=>{}),y})}function uj(t){throw new _o("Response from Amazon Cognito contained no identity ID",{logger:t})}const cj=t=>lj({...t}),TA={region:"us-east-2",credentials:cj({clientConfig:{region:"us-east-2"},identityPoolId:"us-east-2:2e53da69-4919-4399-8eb3-7eedd698e816"})},dj=new ky(TA),rh=xl.from(dj),hj=async(t,e)=>{try{const n=new Ub({TableName:"etfs",Item:{ticker:t,currentPrice:e,lastUpdated:new Date().toISOString()}});return await rh.send(n),!0}catch(n){throw console.error("Error updating ETF price:",n),n}},fj=async()=>{try{const t=new Sa({TableName:"distributions"}),e=await rh.send(t),n={};return e.Items.forEach(r=>{n[r.ticker]={history:r.history||{},lastUpdated:r.lastUpdated||new Date().toISOString(),ticker:r.ticker}}),n}catch(t){throw console.error("Error getting distributions:",t),t}},pj=async()=>{try{const t=new Sa({TableName:"prices"}),e=await rh.send(t),n={};return e.Items.forEach(r=>{n[r.ticker]={currentPrice:Number(r.currentPrice||0),lastUpdated:r.lastUpdated||new Date().toISOString(),source:r.source||"dynamodb",ticker:r.ticker}}),n}catch(t){throw console.error("Error getting prices:",t),t}},mj=async t=>{try{const e=new s5({TableName:"etfs",Key:{ticker:t}});await rh.send(e)}catch(e){throw console.error("Error deleting ETF:",e),e}},gj=async t=>{try{const e=await fetch("https://investment-dashboard-scraper.onrender.com/scrape-price",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticker:t})});if(!e.ok)throw new Error(`Failed to fetch price for ${t}`);const n=await e.json();if(!n.price)throw new Error(`No price data returned for ${t}`);return await hj(t,n.price),{success:!0,price:n.price,ticker:t}}catch(e){return console.error("Error updating price:",e),{success:!1,error:e.message,ticker:t}}},BE=async t=>{const e=[];for(const n of t){const r=await gj(n);e.push(r),await new Promise(s=>setTimeout(s,1e3))}return e},yj=new ky(TA),xf=xl.from(yj),zE=async()=>{try{const[t,e,n]=await Promise.all([xf.send(new Sa({TableName:"etfs"})),xf.send(new Sa({TableName:"portfolios"})),xf.send(new Sa({TableName:"distributions"}))]);return console.log("Raw responses:",{etfs:t,portfolios:e,distributions:n}),{etfs:t.Items||[],prices:e.Items||[],distributions:n.Items||[]}}catch(t){throw console.error("Error details:",{message:t.message,code:t.code,name:t.name}),t}},Wo={WEEKLY:["YMAG","YMAX","LFGY","GPTY"],GROUP_A:["TSLY","GOOY","YBIT","OARK","XOMO","TSMY","CRSH","FIVY","FEAT"],GROUP_B:["NVDY","FBY","GDXY","JPMO","MRNY","MARO","PLTY"],GROUP_C:["CONY","MSFO","AMDY","NFLY","PYPY","ULTY","ABNY"],GROUP_D:["MSTY","AMZY","APLY","DISO","SQY","SMCY","AIYY"]},rm=()=>{const[t,e]=z.useState({etfs:[],prices:{},distributions:{}}),[n,r]=z.useState(!0),{etfs:s=[],totalValue:i=0,totalShares:o=0,portfolioEtfs:a=[]}=My()||{},{getLatestDistribution:u,getPaymentsPerYear:c,distributions:h={},loading:f,monthlyDistribution:m}=qb()||{},[y,b]=z.useState({}),[I,P]=z.useState(!0),[_,x]=z.useState({}),[R,N]=z.useState({}),[D,O]=z.useState({}),[w,E]=z.useState({}),[C,p]=z.useState({}),[T,k]=z.useState({}),[A,Y]=z.useState({});z.useEffect(()=>{const q=async()=>{try{r(!0);const oe=await zE();e(oe)}catch(oe){console.error("Error loading dashboard data:",oe)}finally{r(!1)}};q();const Q=setInterval(q,6e4);return()=>clearInterval(Q)},[]),z.useEffect(()=>{console.log("Setting up price listener");const q=js(ss,"etfs"),Q=Us(q,oe=>{console.log("Fetching prices from Firebase...");const ke={};oe.forEach(Ze=>{const ct=Ze.data();!ct.purchases&&ct.price&&ct.lastUpdated&&(ke[Ze.id]={price:ct.price,lastUpdated:ct.lastUpdated})}),console.log("Setting prices state:",ke),b(ke),P(!1)});return()=>Q()},[]),z.useEffect(()=>{(async()=>{try{const Q=await zE();console.log("Successfully connected to DynamoDB!",Q)}catch(Q){console.error("DynamoDB connection test failed:",Q)}})()},[]);const ee=()=>!s||!Array.isArray(s)?0:s.reduce((q,Q)=>{var So,ni;const oe=u((So=Q==null?void 0:Q.ticker)==null?void 0:So.toUpperCase());if(!oe||oe==="N/A"||oe==="TBD")return q;const ke=c((ni=Q==null?void 0:Q.ticker)==null?void 0:ni.toUpperCase()),ct=oe*ke/12;return q+ct*((Q==null?void 0:Q.shares)||0)},0),ve=Object.entries(yu).reduce((q,[Q,oe])=>{var Ze;const{group:ke}=oe;return q[ke]||(q[ke]=[]),q[ke].push({ticker:Q,...oe,currentPrice:((Ze=y[Q])==null?void 0:Ze.price)||"TBD",distribution:u(Q)||"TBD",...h[Q]}),q},{});if(n||I)return v.jsx("div",{className:"text-center py-4",children:"Loading..."});const xe=ee(),U=q=>{var hs,ri,si;const Q=v5((hs=y[q.ticker])==null?void 0:hs.price,u(q.ticker)),oe=y5[Q],ke=a.find(dn=>dn.ticker===q.ticker&&dn.totalShares>0),Ze=!!ke,ni=`${(dn=>Wo.WEEKLY.includes(dn)?"bg-gray-50":Wo.GROUP_A.includes(dn)?"bg-green-50":Wo.GROUP_B.includes(dn)?"bg-yellow-50":Wo.GROUP_C.includes(dn)?"bg-blue-50":Wo.GROUP_D.includes(dn)?"bg-red-50":"")(q.ticker)} ${Ze?"border-l-4 border-blue-500":""} transition-colors`,_r=(ri=y[q.ticker])==null?void 0:ri.price;return v.jsxs(jE,{className:ni,children:[v.jsx(Cn,{className:"px-4 py-3",children:v.jsx("div",{className:"flex items-center",children:v.jsx("span",{className:"font-medium text-gray-900",children:q.ticker})})}),v.jsx(Cn,{className:"px-4 py-3",children:v.jsx("span",{className:"text-gray-900",children:((si=yu[q.ticker])==null?void 0:si.name)||""})}),v.jsx(Cn,{className:"px-4 py-3 text-right",children:v.jsx("div",{className:"flex flex-col items-end",children:v.jsx("span",{className:"font-medium text-gray-900",children:_r?dt(_r):"Loading..."})})}),v.jsx(Cn,{className:"px-4 py-3 text-right",children:Ze&&v.jsx("span",{className:"font-medium text-gray-900",children:ke.totalShares.toLocaleString()})}),v.jsx(Cn,{className:"px-4 py-3 text-right",children:Ze&&v.jsx("span",{className:"font-medium text-gray-900",children:dt(_r*ke.totalShares)})}),v.jsx(Cn,{className:"px-4 py-3 text-right",children:v.jsx("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${oe}`,children:Q})})]},q.ticker)},Z=async()=>{const q=Object.keys(yu);Y({all:{current:0,total:q.length}}),k({all:"Updating all ETFs..."});try{for(let Q=0;Q<q.length;Q++)await BE([q[Q]]),Y(oe=>({all:{current:Q+1,total:q.length}}));k({all:"✅ All ETFs updated!"})}catch{k({all:"❌ Update failed"})}setTimeout(()=>{k({}),Y({})},3e3)},te=async q=>{const Q=Object.entries(yu).filter(([oe,ke])=>ke.group===q).map(([oe])=>oe);Y({[q]:{current:0,total:Q.length}}),k({[q]:`Updating ${q}...`});try{for(let oe=0;oe<Q.length;oe++)await BE([Q[oe]]),Y(ke=>({[q]:{current:oe+1,total:Q.length}}));k({[q]:`✅ ${q} updated!`})}catch{k({[q]:"❌ Update failed"})}setTimeout(()=>{k(oe=>({...oe,[q]:null})),Y(oe=>({...oe,[q]:null}))},3e3)},Pe=({progress:q})=>{if(!q)return null;const Q=q.current/q.total*100;return v.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-blue-600 transition-all duration-200",style:{width:`${Q}%`}})})};return v.jsxs("div",{className:"space-y-8 p-4",children:[window.location.hostname==="iamtommyzombie.github.io"&&v.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-4",children:v.jsxs("div",{className:"flex",children:[v.jsx("div",{className:"flex-shrink-0",children:v.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),v.jsx("div",{className:"ml-3",children:v.jsxs("p",{className:"text-sm text-blue-700",children:["This is a demo version. To use price updates, please run the application locally.",v.jsx("a",{href:"https://github.com/IAmTommyZombie/InvestmentDashboard",className:"font-medium underline ml-1",target:"_blank",rel:"noopener noreferrer",children:"View on GitHub"})]})})]})}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Portfolio Value"}),v.jsx(L2,{className:"h-5 w-5 text-gray-400"})]}),v.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:dt(i||0)})]}),v.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Monthly Income"}),v.jsx(r1,{className:"h-5 w-5 text-gray-400"})]}),v.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:dt(xe||0)})]}),v.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Total Shares"}),v.jsx(H2,{className:"h-5 w-5 text-gray-400"})]}),v.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:(o||0).toLocaleString("en-US")})]})]}),v.jsx("div",{className:"flex justify-end",children:v.jsxs("div",{className:"flex items-center gap-4",children:[A.all&&v.jsxs("div",{className:"w-64",children:[v.jsx(Pe,{progress:A.all}),v.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[A.all.current," / ",A.all.total," ETFs"]})]}),v.jsx("button",{onClick:Z,disabled:Object.keys(A).length>0,className:`px-4 py-2 rounded-md text-sm font-medium ${Object.keys(A).length>0?"bg-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:T.all||"Update All ETFs"})]})}),Object.keys(ve).sort((q,Q)=>fE.indexOf(q)-fE.indexOf(Q)).map(q=>v.jsxs("div",{className:"mb-8",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:q}),v.jsxs("div",{className:"flex items-center gap-4",children:[A[q]&&v.jsxs("div",{className:"w-64",children:[v.jsx(Pe,{progress:A[q]}),v.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[A[q].current," /"," ",A[q].total," ETFs"]})]}),v.jsx("button",{onClick:()=>te(q),disabled:Object.keys(A).length>0,className:`px-3 py-1 rounded-md text-sm ${Object.keys(A).length>0?"bg-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:T[q]||"Update Group"})]})]}),R[q]&&R[q].includes("✅")&&v.jsx("p",{className:"text-sm mb-2 text-gray-600",children:R[q]}),v.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:v.jsx(z$,{component:A$,children:v.jsxs(P$,{children:[v.jsx(W$,{children:v.jsxs(jE,{children:[v.jsx(Cn,{children:"ETF Details"}),v.jsx(Cn,{children:"Frequency"}),v.jsx(Cn,{children:"Price Info"}),v.jsx(Cn,{children:"Latest Distribution"}),v.jsx(Cn,{children:"Annual Yield"})]})}),v.jsx(M$,{children:ve[q].map(Q=>U(Q))})]})})})]},q))]})},Ko={WEEKLY:["YMAG","YMAX","LFGY","GPTY"],GROUP_A:["TSLY","GOOY","YBIT","OARK","XOMO","TSMY","CRSH","FIVY","FEAT"],GROUP_B:["NVDY","FBY","GDXY","JPMO","MRNY","MARO","PLTY"],GROUP_C:["CONY","MSFO","AMDY","NFLY","PYPY","ULTY","ABNY"],GROUP_D:["MSTY","AMZY","APLY","DISO","SQY","SMCY","AIYY"]},vj=()=>{const{etfs:t,loading:e}=My(),[n,r]=z.useState({}),[s,i]=z.useState({}),[o,a]=z.useState(!0),[u,c]=z.useState({key:"ticker",direction:"asc"}),[h,f]=z.useState(null),m=["January","February","March","April","May","June","July","August","September","October","November","December"];z.useEffect(()=>{console.log("Setting up data listeners"),a(!0);const w=async()=>{try{const T=await pj();console.log("Final price data:",T),r(T)}catch(T){console.error("Error loading prices:",T)}finally{a(!1)}},E=async()=>{try{const T=await fj();i(T)}catch(T){console.error("Error loading distributions:",T)}};w(),E();const C=setInterval(w,6e4),p=setInterval(E,6e4);return()=>{clearInterval(C),clearInterval(p)}},[]);const y=w=>u.key?[...w].sort((E,C)=>{var A,Y,ee,ve;let p,T;switch(u.key){case"ticker":p=E.ticker,T=C.ticker;break;case"shares":p=E.totalShares||0,T=C.totalShares||0;break;case"price":p=((A=n[E.ticker])==null?void 0:A.currentPrice)||0,T=((Y=n[C.ticker])==null?void 0:Y.currentPrice)||0;break;case"value":p=(((ee=n[E.ticker])==null?void 0:ee.currentPrice)||0)*(E.totalShares||0),T=(((ve=n[C.ticker])==null?void 0:ve.currentPrice)||0)*(C.totalShares||0);break;case"income":p=(E.distribution||0)*(E.totalShares||0),T=(C.distribution||0)*(C.totalShares||0);break;default:return 0}const k=u.direction==="asc"?1:-1;return p>T?k:-k}):w,b=()=>{if(!t||!Array.isArray(t))return{};const E=t.filter(C=>C.totalShares&&C.totalShares>0&&C.ticker).reduce((C,p)=>{const T=p.purchaseDate?parseInt(p.purchaseDate.split("-")[1])-1:0;C[T]||(C[T]=[]);const k=C[T].findIndex(A=>A.ticker===p.ticker);if(k>=0){const A=C[T][k];C[T][k]={...A,totalShares:(A.totalShares||0)+(p.totalShares||0),purchases:[...A.purchases||[],...p.purchases||[]],purchaseDate:A.purchaseDate<p.purchaseDate?A.purchaseDate:p.purchaseDate}}else C[T].push(p);return C},{});return console.log("Grouped ETFs:",E),E},I=z.useMemo(()=>b(),[t]),P=w=>{var T;const E=(T=s[w])==null?void 0:T.history;if(!E)return 0;const C=new Date().getFullYear(),p=new Date().getMonth()+1;for(let k=C;k>=C-1;k--){const A=E[k];if(A)for(let Y=p;Y>=1;Y--){const ee=A[Y];if(ee&&ee!=="TBD")return parseFloat(ee)}}return 0},x=(()=>{let w=0,E=0;const C=Object.keys(I).sort();return C.forEach(p=>{let T=0,k=0;C.forEach(A=>{A<=p&&I[A].forEach(Y=>{var te;const ee=((te=n[Y.ticker])==null?void 0:te.currentPrice)||0,ve=Y.totalShares||0,xe=ee*ve,U=P(Y.ticker),Z=U*ve;T+=xe,k+=Z,console.log(`Calculating for ${A} ETF:`,{ticker:Y.ticker,price:ee,shares:ve,value:xe,distribution:U,monthlyIncome:Z})})}),I[p].totalValue=T,I[p].totalMonthlyIncome=k,I[p].annualYield=T?k*12/T*100:0,w=T,E=k}),{totalValue:w,totalMonthlyIncome:E,annualYield:w?E*12/w*100:0}})();if(e||o)return v.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:v.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:v.jsx("div",{className:"text-gray-500",children:"Loading portfolio data..."})})});if(!t||t.length===0)return v.jsx("div",{children:"No ETFs found in portfolio"});const R=({etf:w,onClose:E})=>{var T,k,A,Y;if(!w)return null;const C=((T=n[w.ticker])==null?void 0:T.currentPrice)||0,p=(k=w.purchases)==null?void 0:k.reduce((ee,ve)=>{const xe=parseFloat(ve.price)||0,U=parseInt(ve.shares)||0;return ee+xe*U},0);return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:v.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("h3",{className:"text-xl font-bold",children:[w.ticker," Purchase History",v.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(Current Price: ",dt(C),")"]})]}),v.jsx("button",{onClick:E,className:"text-gray-500 hover:text-gray-700",children:v.jsx("span",{className:"text-2xl",children:"×"})})]}),v.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[v.jsx("thead",{className:"bg-gray-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),v.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shares"}),v.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price Paid"}),v.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Paid"}),v.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Value"})]})}),v.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[(A=w.purchases)==null?void 0:A.map((ee,ve)=>{const xe=parseInt(ee.shares)||0,U=parseFloat(ee.price)||0,Z=xe*U,te=xe*C;return v.jsxs("tr",{children:[v.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ee.date}),v.jsx("td",{className:"px-4 py-2 text-right",children:xe.toLocaleString()}),v.jsx("td",{className:"px-4 py-2 text-right",children:U>0?dt(U):"Not recorded"}),v.jsx("td",{className:"px-4 py-2 text-right",children:U>0?dt(Z):"Not recorded"}),v.jsxs("td",{className:"px-4 py-2 text-right",children:[v.jsx("div",{children:dt(te)}),v.jsx("div",{className:"text-sm text-gray-500",children:"at current price"})]})]},ve)}),v.jsxs("tr",{className:"bg-gray-50 font-semibold",children:[v.jsx("td",{className:"px-4 py-2",children:"Totals"}),v.jsx("td",{className:"px-4 py-2 text-right",children:(Y=w.totalShares)==null?void 0:Y.toLocaleString()}),v.jsx("td",{className:"px-4 py-2 text-right",children:"-"}),v.jsx("td",{className:"px-4 py-2 text-right",children:dt(p)}),v.jsx("td",{className:"px-4 py-2 text-right",children:dt(w.totalShares*C)})]})]})]}),v.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Note: Historical purchase prices are not recorded for some entries. Only current market values are shown."})]})})},N=async w=>{if(window.confirm("Are you sure you want to delete this ETF?"))try{await mj(w),(h==null?void 0:h.id)===w&&f(null)}catch(E){console.error("Error deleting ETF:",E),alert("Error deleting ETF")}},D=w=>{var xe;const E=((xe=n[w.ticker])==null?void 0:xe.currentPrice)||0,C=E*w.totalShares,p=P(w.ticker),T=p*w.totalShares,k=T>0?Math.ceil(C/T):1/0,A=Math.floor(k/12),Y=k%12,ee=T>0?`${A}y ${Y}m`:"N/A",ve=U=>Ko.WEEKLY.includes(U)?"bg-gray-100 hover:bg-gray-200":Ko.GROUP_A.includes(U)?"bg-green-50 hover:bg-green-100":Ko.GROUP_B.includes(U)?"bg-yellow-50 hover:bg-yellow-100":Ko.GROUP_C.includes(U)?"bg-blue-50 hover:bg-blue-100":Ko.GROUP_D.includes(U)?"bg-red-50 hover:bg-red-100":"";return v.jsxs("tr",{className:`${ve(w.ticker)}`,children:[v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:w.ticker}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:w.totalShares.toLocaleString()}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:dt(E)}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:dt(C)}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:dt(p)}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:dt(T)}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ee}),v.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 space-x-2",children:[v.jsx("button",{onClick:()=>f({...w,id:w.id}),className:"text-blue-600 hover:text-blue-800 mr-2",children:v.jsx(z2,{className:"w-4 h-4 inline"})}),v.jsx("button",{onClick:()=>N(w.id),className:"text-red-600 hover:text-red-800",children:v.jsx(W2,{className:"w-4 h-4 inline"})})]})]},w.ticker)},O=()=>v.jsx("thead",{className:"bg-gray-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ticker"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shares"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Price"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Distribution"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monthly Income"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Break Even"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})});return v.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[v.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 border border-gray-200",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Total Portfolio Value"}),v.jsx("p",{className:"text-3xl font-bold text-blue-600",children:dt(x.totalValue)}),v.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Based on current prices"})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 border border-gray-200",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Monthly Income"}),v.jsx("p",{className:"text-3xl font-bold text-green-600",children:dt(x.totalMonthlyIncome)}),v.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Total monthly distributions"})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 border border-gray-200",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Annual Yield"}),v.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[x.annualYield.toFixed(2),"%"]}),v.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Based on current value"})]})]}),Object.entries(I).sort().map(([w,E])=>{const C=Object.entries(I).filter(([T])=>T<=w).reduce((T,[k,A])=>(A.forEach(Y=>{const ee=T.find(ve=>ve.ticker===Y.ticker);ee?(ee.totalShares=(ee.totalShares||0)+(Y.totalShares||0),ee.purchases=[...ee.purchases||[],...Y.purchases||[]]):T.push({...Y})}),T),[]),p=C.reduce((T,k)=>{var U;const A=((U=n[k.ticker])==null?void 0:U.currentPrice)||0,Y=k.totalShares||0,ee=A*Y,xe=P(k.ticker)*Y;return T.value+=ee,T.monthlyIncome+=xe,T},{value:0,monthlyIncome:0});return E.reduce((T,k)=>{var U;const A=((U=n[k.ticker])==null?void 0:U.currentPrice)||0,Y=k.totalShares||0,ee=A*Y,xe=P(k.ticker)*Y;return T.value+=ee,T.monthlyIncome+=xe,T},{value:0,monthlyIncome:0}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:m[parseInt(w)]}),v.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden border border-gray-200",children:v.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[O(),v.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[y(C).map(D),v.jsxs("tr",{className:"bg-gray-50 font-semibold",children:[v.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[m[parseInt(w)]," Totals"]}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"-"}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"-"}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:dt(p.value)}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"-"}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:dt(p.monthlyIncome)})]})]})]})})})]},w)}),h&&v.jsx(R,{etf:h,onClose:()=>f(null)})]})},wj=()=>v.jsx("div",{className:"space-y-6",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[v.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:v.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Settings"})}),v.jsxs("div",{className:"p-6 space-y-8",children:[v.jsxs("div",{children:[v.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-4 flex items-center",children:[v.jsx(N2,{className:"w-4 h-4 mr-2"}),"Notifications"]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm text-gray-700",children:"Email Notifications"}),v.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",className:"sr-only peer"}),v.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm text-gray-700",children:"Dividend Payment Alerts"}),v.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",className:"sr-only peer"}),v.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm text-gray-700",children:"Price Change Alerts"}),v.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",className:"sr-only peer"}),v.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),v.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[v.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-4 flex items-center",children:[v.jsx($2,{className:"w-4 h-4 mr-2"}),"Display"]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm text-gray-700",children:"Dark Mode"}),v.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100",children:v.jsx(Y2,{className:"w-5 h-5 text-gray-600"})})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm text-gray-700",children:"Compact View"}),v.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",className:"sr-only peer"}),v.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),v.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[v.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-4 flex items-center",children:[v.jsx(V2,{className:"w-4 h-4 mr-2"}),"Data Management"]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("div",{children:v.jsxs("button",{className:"flex items-center text-sm text-gray-700 hover:text-gray-900",children:[v.jsx(F2,{className:"w-4 h-4 mr-2"}),"Export Portfolio Data"]})}),v.jsx("div",{children:v.jsx("button",{className:"flex items-center text-sm text-red-600 hover:text-red-700",children:"Clear All Data"})})]})]}),v.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[v.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-4 flex items-center",children:[v.jsx(U2,{className:"w-4 h-4 mr-2"}),"Security"]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm text-gray-700",children:"Save Login Information"}),v.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",className:"sr-only peer"}),v.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),v.jsx("div",{children:v.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700",children:"Change Password"})})]})]})]})]})}),bA=z.createContext(),_j=({children:t})=>{const[e,n]=z.useState(()=>{const i=sessionStorage.getItem("adminAuth");if(i){const{timestamp:o}=JSON.parse(i);if(Date.now()-o<72e5)return!0;sessionStorage.removeItem("adminAuth")}return!1}),r=()=>{n(!0),sessionStorage.setItem("adminAuth",JSON.stringify({timestamp:Date.now()}))},s=()=>{n(!1),sessionStorage.removeItem("adminAuth")};return z.useEffect(()=>{const i=setInterval(()=>{const o=sessionStorage.getItem("adminAuth");if(o){const{timestamp:a}=JSON.parse(o);Date.now()-a>=72e5&&s()}},6e4);return()=>clearInterval(i)},[]),v.jsx(bA.Provider,{value:{isAuthenticated:e,login:r,logout:s},children:t})},Wy=()=>z.useContext(bA),Ej=()=>{var N;const{logout:t}=Wy(),[e,n]=z.useState({}),[r,s]=z.useState(""),[i,o]=z.useState(new Date().getFullYear()),[a,u]=z.useState(new Date().getMonth()+1),[c,h]=z.useState(""),[f,m]=z.useState(!0),[y,b]=z.useState(!1),I=Object.entries(jp).reduce((D,[O,w])=>{const E=w.frequency==="weekly"?"WEEKLY":w.frequency==="13x"&&O<="FEAT"?"GROUP_A":w.frequency==="13x"?"GROUP_B":O<="ABNY"?"GROUP_C":"GROUP_D";return D[E]||(D[E]=[]),D[E].push({ticker:O,...w}),D},{});z.useEffect(()=>{const D=Us(js(ss,"distributions"),O=>{const w={};O.forEach(E=>{w[E.id]=E.data()}),n(w),m(!1)},O=>{console.error("Error fetching distributions:",O),m(!1)});return()=>D()},[]);const P=async D=>{if(D.preventDefault(),!(!r||!c))try{const O=bD(ss,"distributions",r),w=e[r]||{ticker:r,history:{}};w.history[i]||(w.history[i]={}),w.history[i][a]=c==="TBD"?"TBD":parseFloat(c),console.log("Saving distribution data:",w),await HD(O,w),h(""),b(!1),alert("Distribution updated successfully!")}catch(O){console.error("Error updating distribution:",O),alert("Error updating distribution: "+O.message)}},_=(D,O,w)=>{o(parseInt(D)),u(parseInt(O)),h(w.toString()),b(!0)},x=D=>new Date(2e3,D-1).toLocaleString("default",{month:"long"}),R=()=>v.jsx("div",{className:"mt-8 bg-white shadow rounded-lg overflow-hidden",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[v.jsx("thead",{className:"bg-gray-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ETF"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Frequency"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Latest Distribution"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.entries(jp).map(([D,O])=>{const w=e[D];let E="No data",C="";if(w!=null&&w.history){const p=Object.keys(w.history).sort((T,k)=>k-T);for(const T of p){const k=Object.keys(w.history[T]).sort((A,Y)=>Y-A);if(k.length>0){const A=k[0],Y=w.history[T][A];E=Y==="TBD"?"TBD":`$${Y}`,C=`${x(A)} ${T}`;break}}}return v.jsxs("tr",{children:[v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:O.frequency}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.jsx("button",{onClick:()=>{s(D),window.scrollTo({top:0,behavior:"smooth"})},className:"text-blue-600 hover:text-blue-800",children:"View History"})})]},D)})})]})});return f?v.jsx("div",{className:"p-4",children:"Loading..."}):v.jsxs("div",{className:"p-4 max-w-6xl mx-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h1",{className:"text-2xl font-bold",children:"Distribution Admin"}),v.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Logout"})]}),v.jsxs("form",{onSubmit:P,className:"space-y-4 mb-8",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select ETF"}),v.jsxs("select",{value:r,onChange:D=>s(D.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[v.jsx("option",{value:"",children:"Select an ETF"}),Object.entries(I).map(([D,O])=>v.jsx("optgroup",{label:D,children:O.map(w=>v.jsxs("option",{value:w.ticker,children:[w.ticker," (",w.frequency,")"]},w.ticker))},D))]})]}),v.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),v.jsx("input",{type:"number",value:i,onChange:D=>o(parseInt(D.target.value)),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Month"}),v.jsx("select",{value:a,onChange:D=>u(parseInt(D.target.value)),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:Array.from({length:12},(D,O)=>v.jsx("option",{value:O+1,children:x(O+1)},O+1))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),v.jsx("div",{className:"relative",children:v.jsx("input",{type:"text",value:c,onChange:D=>h(D.target.value),placeholder:"Enter amount or TBD",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})})]})]}),v.jsx("button",{type:"submit",className:"w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:y?"Update Distribution":"Add Distribution"}),y&&v.jsx("button",{type:"button",onClick:()=>{b(!1),h("")},className:"w-full px-4 py-2 mt-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel Edit"})]}),r&&v.jsxs("div",{className:"mt-8",children:[v.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Distribution History for ",r]}),v.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[v.jsx("thead",{className:"bg-gray-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Year"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Month"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:((N=e[r])==null?void 0:N.history)&&Object.entries(e[r].history).sort((D,O)=>O[0]-D[0]).map(([D,O])=>Object.entries(O).sort((w,E)=>E[0]-w[0]).map(([w,E])=>v.jsxs("tr",{children:[v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x(w)}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E==="TBD"?"TBD":`$${E}`}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.jsx("button",{onClick:()=>_(D,w,E),className:"text-blue-600 hover:text-blue-800",children:"Edit"})})]},`${D}-${w}`)))})]})})]}),v.jsxs("div",{className:"mt-8",children:[v.jsx("h2",{className:"text-lg font-semibold mb-4",children:"All ETF Distributions"}),R()]})]})},xj=()=>{const[t,e]=z.useState(""),[n,r]=z.useState(""),[s,i]=z.useState(""),{login:o}=Wy(),a="tscales",u="WhiskeyGinger1389!!",c=h=>{h.preventDefault(),t===a&&n===u?(o(),i("")):i("Invalid credentials")};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"max-w-md w-full space-y-8",children:[v.jsx("div",{children:v.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Distribution Admin Login"})}),v.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[v.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),v.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Username",value:t,onChange:h=>e(h.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),v.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n,onChange:h=>r(h.target.value)})]})]}),s&&v.jsx("div",{className:"text-red-500 text-sm text-center",children:s}),v.jsx("div",{children:v.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Sign in"})})]})]})})},Sj=()=>{const{etfs:t}=My(),[e,n]=z.useState(!1),[r,s]=z.useState(!1),[i,o]=z.useState(null),[a,u]=z.useState("overview"),{isAuthenticated:c}=Wy(),{setMonthlyDistribution:h}=qb(),f=[{name:"Overview",view:"overview",icon:j2},{name:"Portfolio",view:"portfolio",icon:r1},{name:"Settings",view:"settings",icon:G2},{name:"Distribution Admin",view:"distribution-admin",icon:M2}],m=()=>!t||!Array.isArray(t)?0:t.reduce((P,_)=>{const x=(_==null?void 0:_.ticker)||"",R=(_==null?void 0:_.shares)||0,N={JEPI:.5,JEPQ:.45,SCHD:.6}[x.toUpperCase()]||0;return P+R*N},0);m(),lm.useEffect(()=>{const P=m();h(P)},[t,h]);const b=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),I=()=>{switch(a){case"overview":return v.jsx(rm,{});case"portfolio":return v.jsx(vj,{});case"settings":return v.jsx(wj,{});case"distribution-admin":return c?v.jsx(Ej,{}):v.jsx(xj,{});default:return v.jsx(rm,{})}};return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e&&v.jsx("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-50 z-20 lg:hidden",onClick:()=>n(!1)}),v.jsxs("div",{className:`
        fixed inset-y-0 left-0 z-30
        w-64 bg-white border-r border-gray-200
        transform transition-transform duration-200 ease-in-out
        lg:translate-x-0 lg:static lg:z-auto
        ${e?"translate-x-0":"-translate-x-full"}
      `,children:[v.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[v.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"YieldMax Dashboard"}),v.jsx("button",{className:"lg:hidden",onClick:()=>n(!1),children:v.jsx(Zm,{className:"w-6 h-6 text-gray-600"})})]}),v.jsx("nav",{className:"p-4 space-y-2",children:f.map(P=>v.jsxs("button",{onClick:()=>{u(P.view),n(!1)},className:`
                w-full flex items-center px-4 py-2 rounded-lg
                ${a===P.view?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}
              `,children:[v.jsx(P.icon,{className:"w-5 h-5 mr-3"}),P.name]},P.name))})]}),v.jsxs("div",{className:"lg:pl-64 flex flex-col min-h-screen",children:[v.jsx("header",{className:"h-16 bg-gradient-to-r from-blue-500 to-blue-600 border-b border-blue-600 flex items-center",children:v.jsxs("div",{className:"flex items-center justify-between w-full px-6",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("button",{className:"lg:hidden mr-4 text-white hover:text-blue-100",onClick:()=>n(!0),children:v.jsx(B2,{className:"w-6 h-6"})}),v.jsx("h2",{className:"text-lg font-medium text-white capitalize",children:a})]}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("div",{className:"text-white",children:v.jsx("span",{className:"text-sm",children:b})}),v.jsxs("button",{onClick:()=>s(!0),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium text-blue-600 bg-white rounded-lg 
                  hover:bg-blue-50 transition-colors duration-150 ease-in-out shadow-sm`,children:[v.jsx(q2,{className:"w-4 h-4"}),"Add ETF"]})]})]})}),v.jsx("main",{className:"flex-1 p-6 overflow-auto",children:v.jsx("div",{className:"max-w-7xl mx-auto",children:I()})})]}),r&&v.jsx(Bb,{onClose:()=>s(!1),onSuccess:P=>{o({type:"success",message:P})}}),i&&v.jsx(u5,{type:i.type,message:i.message,onClose:()=>o(null)})]})},Tj=()=>v.jsx(_j,{children:v.jsx(g5,{children:v.jsx(f5,{children:v.jsxs(Sj,{children:[v.jsx(rm,{}),v.jsx(Bb,{})]})})})});Sf.createRoot(document.getElementById("root")).render(v.jsx(lm.StrictMode,{children:v.jsx(Tj,{})}));export{P4 as $,DM as A,UF as B,vb as C,iV as D,sM as E,$g as F,rM as G,AV as H,B4 as I,sV as J,Cj as K,$4 as L,DV as M,wb as N,q4 as O,gO as P,wO as Q,TO as R,wF as S,CO as T,QO as U,VO as V,ki as W,yl as X,an as Y,R4 as Z,ie as _,SM as a,g4 as a0,he as a1,Qt as a2,or as a3,Rj as a4,Hp as a5,Eo as a6,xd as a7,Td as a8,cb as b,Oc as c,ZT as d,Fg as e,io as f,Ed as g,LF as h,zO as i,AF as j,$c as k,bF as l,IF as m,ur as n,U4 as o,Fc as p,j4 as q,i4 as r,Pj as s,JT as t,v4 as u,eO as v,S4 as w,jF as x,tO as y,T4 as z};

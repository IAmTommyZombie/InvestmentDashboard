var me=Object.defineProperty;var he=(e,n,t)=>n in e?me(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var r=(e,n,t)=>he(e,typeof n!="symbol"?n+"":n,t);import{s as xe,r as Ee,n as Se,g as Pe,E as we,a as Ie,b as ve,c as Ce,t as ge,f as be,p as Re,N as Ae,A as fe,d as ze,e as De,h as _e,i as Fe,S as ke,D as $e,F as Ne,j as He,k as Ue,l as Le,m as Oe,o as Te,q as Me,u as Ge,v as qe,w as je,x as Be,y as Ve,z as Je,B as Ke,C as We,G as Xe,H as Ye,I as Qe,J as Ze,K as et,L as tt,M as nt,O as st,P as ot,Q as rt,R as it,T as at,U as dt,V as ct,W as pt,_ as c,X as Z,Y as lt,Z as ut,$ as yt,a0 as mt,a1 as u,a2 as ee,a3 as R,a4 as ht,a5 as xt,a6 as te,a7 as ne,a8 as se}from"./index-C70nJ_av.js";class Et{async sign(n,t,s){return n}}const f="***SensitiveInformation***",St=e=>{if(e==null)return;let n;if(typeof e=="number")n=e;else if(typeof e=="string")n=xe(e);else if(typeof e=="object"&&e.tag===1)n=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(n)||n===1/0||n===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(n*1e3))},Pt=async(e,n,t)=>({operation:Pe(n).operation,region:await Se(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function wt(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}function g(e){return{schemeId:"smithy.api#noAuth"}}const It=e=>{const n=[];switch(e.operation){case"GetCredentialsForIdentity":{n.push(g());break}case"GetId":{n.push(g());break}case"GetOpenIdToken":{n.push(g());break}case"UnlinkIdentity":{n.push(g());break}default:n.push(wt(e))}return n},vt=e=>({...Ee(e)}),Ct=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"}),oe={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},gt="3.744.0",bt={version:gt},re="required",a="fn",d="argv",E="ref",q=!0,j="isSet",v="booleanEquals",x="error",y="endpoint",m="tree",z="PartitionResult",D="getAttr",w="stringEquals",B={[re]:!1,type:"String"},V={[re]:!0,default:!1,type:"Boolean"},J={[E]:"Endpoint"},ie={[a]:v,[d]:[{[E]:"UseFIPS"},!0]},ae={[a]:v,[d]:[{[E]:"UseDualStack"},!0]},i={},I={[E]:"Region"},K={[a]:D,[d]:[{[E]:z},"supportsFIPS"]},de={[E]:z},W={[a]:v,[d]:[!0,{[a]:D,[d]:[de,"supportsDualStack"]}]},X=[ie],Y=[ae],Q=[I],Rt={parameters:{Region:B,UseDualStack:V,UseFIPS:V,Endpoint:B},rules:[{conditions:[{[a]:j,[d]:[J]}],rules:[{conditions:X,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:x},{conditions:Y,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:x},{endpoint:{url:J,properties:i,headers:i},type:y}],type:m},{conditions:[{[a]:j,[d]:Q}],rules:[{conditions:[{[a]:"aws.partition",[d]:Q,assign:z}],rules:[{conditions:[ie,ae],rules:[{conditions:[{[a]:v,[d]:[q,K]},W],rules:[{conditions:[{[a]:w,[d]:[I,"us-east-1"]}],endpoint:{url:"https://cognito-identity-fips.us-east-1.amazonaws.com",properties:i,headers:i},type:y},{conditions:[{[a]:w,[d]:[I,"us-east-2"]}],endpoint:{url:"https://cognito-identity-fips.us-east-2.amazonaws.com",properties:i,headers:i},type:y},{conditions:[{[a]:w,[d]:[I,"us-west-1"]}],endpoint:{url:"https://cognito-identity-fips.us-west-1.amazonaws.com",properties:i,headers:i},type:y},{conditions:[{[a]:w,[d]:[I,"us-west-2"]}],endpoint:{url:"https://cognito-identity-fips.us-west-2.amazonaws.com",properties:i,headers:i},type:y},{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:i,headers:i},type:y}],type:m},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:x}],type:m},{conditions:X,rules:[{conditions:[{[a]:v,[d]:[K,q]}],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:i,headers:i},type:y}],type:m},{error:"FIPS is enabled but this partition does not support FIPS",type:x}],type:m},{conditions:Y,rules:[{conditions:[W],rules:[{conditions:[{[a]:w,[d]:["aws",{[a]:D,[d]:[de,"name"]}]}],endpoint:{url:"https://cognito-identity.{Region}.amazonaws.com",properties:i,headers:i},type:y},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:i,headers:i},type:y}],type:m},{error:"DualStack is enabled but this partition does not support DualStack",type:x}],type:m},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:i,headers:i},type:y}],type:m}],type:m},{error:"Invalid Configuration: Missing Region",type:x}]},At=Rt,ft=new we({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),zt=(e,n={})=>ft.get(e,()=>Ie(At,{endpointParams:e,logger:n.logger}));Ce.aws=ve;const Dt=e=>({apiVersion:"2014-06-30",base64Decoder:(e==null?void 0:e.base64Decoder)??De,base64Encoder:(e==null?void 0:e.base64Encoder)??ze,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??zt,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??It,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4"),signer:new fe},{schemeId:"smithy.api#noAuth",identityProvider:n=>n.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Et}],logger:(e==null?void 0:e.logger)??new Ae,serviceId:(e==null?void 0:e.serviceId)??"Cognito Identity",urlParser:(e==null?void 0:e.urlParser)??Re,utf8Decoder:(e==null?void 0:e.utf8Decoder)??be,utf8Encoder:(e==null?void 0:e.utf8Encoder)??ge}),_t=e=>{const n=_e(e),t=()=>n().then(Ge),s=Dt(e);return{...s,...e,runtime:"browser",defaultsMode:n,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??Oe,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(o=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??Le({serviceId:s.serviceId,clientVersion:bt.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??Ue,region:(e==null?void 0:e.region)??He("Region is missing"),requestHandler:Ne.create((e==null?void 0:e.requestHandler)??t),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await t()).retryMode||$e),sha256:(e==null?void 0:e.sha256)??ke,streamCollector:(e==null?void 0:e.streamCollector)??Fe,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(Me)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve(Te))}},Ft=e=>{const n=e.httpAuthSchemes;let t=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(o){const h=n.findIndex(S=>S.schemeId===o.schemeId);h===-1?n.push(o):n.splice(h,1,o)},httpAuthSchemes(){return n},setHttpAuthSchemeProvider(o){t=o},httpAuthSchemeProvider(){return t},setCredentials(o){s=o},credentials(){return s}}},kt=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),b=e=>e,$t=(e,n)=>{const t={...b(Be(e)),...b(je(e)),...b(qe(e)),...b(Ft(e))};return n.forEach(s=>s.configure(t)),{...e,...Ke(t),...Je(t),...Ve(t),...kt(t)}};class rn extends We{constructor(...[t]){const s=_t(t||{}),o=Ct(s),h=Xe(o),S=Ye(h),A=Qe(S),P=et(A),C=Ze(P),ue=vt(C),G=$t(ue,(t==null?void 0:t.extensions)||[]);super(G);r(this,"config");this.config=G,this.middlewareStack.use(tt(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(st(this.config)),this.middlewareStack.use(ot(this.config)),this.middlewareStack.use(rt(this.config)),this.middlewareStack.use(it(this.config)),this.middlewareStack.use(at(this.config,{httpAuthSchemeParametersProvider:Pt,identityProviderConfigProvider:async ye=>new dt({"aws.auth#sigv4":ye.credentials})})),this.middlewareStack.use(ct(this.config))}destroy(){super.destroy()}}class p extends pt{constructor(n){super(n),Object.setPrototypeOf(this,p.prototype)}}class _ extends p{constructor(t){super({name:"InternalErrorException",$fault:"server",...t});r(this,"name","InternalErrorException");r(this,"$fault","server");Object.setPrototypeOf(this,_.prototype)}}class F extends p{constructor(t){super({name:"InvalidParameterException",$fault:"client",...t});r(this,"name","InvalidParameterException");r(this,"$fault","client");Object.setPrototypeOf(this,F.prototype)}}class k extends p{constructor(t){super({name:"LimitExceededException",$fault:"client",...t});r(this,"name","LimitExceededException");r(this,"$fault","client");Object.setPrototypeOf(this,k.prototype)}}class $ extends p{constructor(t){super({name:"NotAuthorizedException",$fault:"client",...t});r(this,"name","NotAuthorizedException");r(this,"$fault","client");Object.setPrototypeOf(this,$.prototype)}}class N extends p{constructor(t){super({name:"ResourceConflictException",$fault:"client",...t});r(this,"name","ResourceConflictException");r(this,"$fault","client");Object.setPrototypeOf(this,N.prototype)}}class H extends p{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t});r(this,"name","TooManyRequestsException");r(this,"$fault","client");Object.setPrototypeOf(this,H.prototype)}}class U extends p{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t});r(this,"name","ResourceNotFoundException");r(this,"$fault","client");Object.setPrototypeOf(this,U.prototype)}}class L extends p{constructor(t){super({name:"ExternalServiceException",$fault:"client",...t});r(this,"name","ExternalServiceException");r(this,"$fault","client");Object.setPrototypeOf(this,L.prototype)}}class O extends p{constructor(t){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...t});r(this,"name","InvalidIdentityPoolConfigurationException");r(this,"$fault","client");Object.setPrototypeOf(this,O.prototype)}}class T extends p{constructor(t){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...t});r(this,"name","DeveloperUserAlreadyRegisteredException");r(this,"$fault","client");Object.setPrototypeOf(this,T.prototype)}}class M extends p{constructor(t){super({name:"ConcurrentModificationException",$fault:"client",...t});r(this,"name","ConcurrentModificationException");r(this,"$fault","client");Object.setPrototypeOf(this,M.prototype)}}const Nt=e=>({...e,...e.Logins&&{Logins:f}}),Ht=e=>({...e,...e.SecretKey&&{SecretKey:f}}),Ut=e=>({...e,...e.Credentials&&{Credentials:Ht(e.Credentials)}}),Lt=e=>({...e,...e.Logins&&{Logins:f}}),Ot=async(e,n)=>{const t=le("GetCredentialsForIdentity");let s;return s=JSON.stringify(c(e)),pe(n,t,"/",void 0,s)},Tt=async(e,n)=>{const t=le("GetId");let s;return s=JSON.stringify(c(e)),pe(n,t,"/",void 0,s)},Mt=async(e,n)=>{if(e.statusCode>=300)return ce(e,n);const t=await Z(e.body,n);let s={};return s=tn(t),{$metadata:l(e),...s}},Gt=async(e,n)=>{if(e.statusCode>=300)return ce(e,n);const t=await Z(e.body,n);let s={};return s=c(t),{$metadata:l(e),...s}},ce=async(e,n)=>{const t={...e,body:await ut(e.body,n)},s=yt(e,t.body);switch(s){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await Vt(t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Kt(t);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await Wt(t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await Xt(t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await Yt(t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Zt(t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Qt(t);case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await Bt(t);case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":throw await Jt(t);case"DeveloperUserAlreadyRegisteredException":case"com.amazonaws.cognitoidentity#DeveloperUserAlreadyRegisteredException":throw await jt(t);case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await qt(t);default:const o=t.body;return nn({output:e,parsedBody:o,errorCode:s})}},qt=async(e,n)=>{const t=e.body,s=c(t),o=new M({$metadata:l(e),...s});return u(o,t)},jt=async(e,n)=>{const t=e.body,s=c(t),o=new T({$metadata:l(e),...s});return u(o,t)},Bt=async(e,n)=>{const t=e.body,s=c(t),o=new L({$metadata:l(e),...s});return u(o,t)},Vt=async(e,n)=>{const t=e.body,s=c(t),o=new _({$metadata:l(e),...s});return u(o,t)},Jt=async(e,n)=>{const t=e.body,s=c(t),o=new O({$metadata:l(e),...s});return u(o,t)},Kt=async(e,n)=>{const t=e.body,s=c(t),o=new F({$metadata:l(e),...s});return u(o,t)},Wt=async(e,n)=>{const t=e.body,s=c(t),o=new k({$metadata:l(e),...s});return u(o,t)},Xt=async(e,n)=>{const t=e.body,s=c(t),o=new $({$metadata:l(e),...s});return u(o,t)},Yt=async(e,n)=>{const t=e.body,s=c(t),o=new N({$metadata:l(e),...s});return u(o,t)},Qt=async(e,n)=>{const t=e.body,s=c(t),o=new U({$metadata:l(e),...s});return u(o,t)},Zt=async(e,n)=>{const t=e.body,s=c(t),o=new H({$metadata:l(e),...s});return u(o,t)},en=(e,n)=>ee(e,{AccessKeyId:R,Expiration:t=>ht(St(xt(t))),SecretKey:R,SessionToken:R}),tn=(e,n)=>ee(e,{Credentials:t=>en(t),IdentityId:R}),l=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),nn=mt(p),pe=async(e,n,t,s,o)=>{const{hostname:h,protocol:S="https",port:A,path:P}=await e.endpoint(),C={protocol:S,hostname:h,port:A,method:"POST",path:P.endsWith("/")?P.slice(0,-1)+t:P+t,headers:n};return o!==void 0&&(C.body=o),new lt(C)};function le(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}}class an extends te.classBuilder().ep(oe).m(function(n,t,s,o){return[ne(s,this.serialize,this.deserialize),se(s,n.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetCredentialsForIdentity",{}).n("CognitoIdentityClient","GetCredentialsForIdentityCommand").f(Nt,Ut).ser(Ot).de(Mt).build(){}class dn extends te.classBuilder().ep(oe).m(function(n,t,s,o){return[ne(s,this.serialize,this.deserialize),se(s,n.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetId",{}).n("CognitoIdentityClient","GetIdCommand").f(Lt,void 0).ser(Tt).de(Gt).build(){}export{rn as CognitoIdentityClient,an as GetCredentialsForIdentityCommand,dn as GetIdCommand};
